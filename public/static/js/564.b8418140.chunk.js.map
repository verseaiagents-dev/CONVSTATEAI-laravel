{"version":3,"file":"static/js/564.b8418140.chunk.js","mappings":"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","sources":["../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/regeneratorDefine.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/regenerator.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","utils/imageUtils.ts","config/api.ts","components/chatbot/templates/ProductRecommendationMessage/ProductRecommendationMessage.tsx","components/chatbot/templates/ProductDetailMessage/ProductDetailMessage.tsx","components/chatbot/templates/PriceComparisonMessage/PriceComparisonMessage.tsx","components/chatbot/templates/FeedbackMessage/FeedbackMessage.tsx","components/chatbot/templates/GeneralMessage/GeneralMessage.tsx","components/chatbot/templates/OrderMessage/OrderMessage.tsx","components/chatbot/templates/CargoTrackingMessage/CargoTrackingMessage.tsx","components/chatbot/ShimmerMessage/ShimmerMessage.tsx","components/chatbot/templates/NoDataMessage/NoDataMessage.tsx","components/chatbot/templates/ErrorMessage.tsx","components/chatbot/MessageItem.tsx","components/chatbot/TTSButton/TTSButton.tsx","hooks/useTTS.ts","components/chatbot/WelcomeMessage.tsx","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../../.nvm/versions/node/v18.17.0/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass.js","services/UuidService.ts","services/AuthService.ts","services/ErrorService.ts","services/ApiService.ts","hooks/useAIService.ts","hooks/useChat.ts","components/chatbot/MessageList.tsx","components/chatbot/InputArea.tsx","hooks/useSpeechToText.ts","components/chatbot/ActionButtons/ActionButtons.tsx","components/chatbot/ChatFooter/ChatFooter.tsx","components/chatbot/CampaignTab.tsx","components/chatbot/FAQTab.tsx","components/NotificationWidget.tsx","components/chatbot/templates/APIErrorMessage/APIErrorMessage.tsx","components/chatbot/ChatContainer.tsx"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","function _regeneratorDefine(e, r, n, t) {\n  var i = Object.defineProperty;\n  try {\n    i({}, \"\", {});\n  } catch (e) {\n    i = 0;\n  }\n  _regeneratorDefine = function regeneratorDefine(e, r, n, t) {\n    function o(r, n) {\n      _regeneratorDefine(e, r, function (e) {\n        return this._invoke(r, n, e);\n      });\n    }\n    r ? i ? i(e, r, {\n      value: n,\n      enumerable: !t,\n      configurable: !t,\n      writable: !t\n    }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2));\n  }, _regeneratorDefine(e, r, n, t);\n}\nexport { _regeneratorDefine as default };","import regeneratorDefine from \"./regeneratorDefine.js\";\nfunction _regenerator() {\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */\n  var e,\n    t,\n    r = \"function\" == typeof Symbol ? Symbol : {},\n    n = r.iterator || \"@@iterator\",\n    o = r.toStringTag || \"@@toStringTag\";\n  function i(r, n, o, i) {\n    var c = n && n.prototype instanceof Generator ? n : Generator,\n      u = Object.create(c.prototype);\n    return regeneratorDefine(u, \"_invoke\", function (r, n, o) {\n      var i,\n        c,\n        u,\n        f = 0,\n        p = o || [],\n        y = !1,\n        G = {\n          p: 0,\n          n: 0,\n          v: e,\n          a: d,\n          f: d.bind(e, 4),\n          d: function d(t, r) {\n            return i = t, c = 0, u = e, G.n = r, a;\n          }\n        };\n      function d(r, n) {\n        for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) {\n          var o,\n            i = p[t],\n            d = G.p,\n            l = i[2];\n          r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0));\n        }\n        if (o || r > 1) return a;\n        throw y = !0, n;\n      }\n      return function (o, p, l) {\n        if (f > 1) throw TypeError(\"Generator is already running\");\n        for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) {\n          i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u);\n          try {\n            if (f = 2, i) {\n              if (c || (o = \"next\"), t = i[o]) {\n                if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\");\n                if (!t.done) return t;\n                u = t.value, c < 2 && (c = 0);\n              } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1);\n              i = e;\n            } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break;\n          } catch (t) {\n            i = e, c = 1, u = t;\n          } finally {\n            f = 1;\n          }\n        }\n        return {\n          value: t,\n          done: y\n        };\n      };\n    }(r, o, i), !0), u;\n  }\n  var a = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  t = Object.getPrototypeOf;\n  var c = [][n] ? t(t([][n]())) : (regeneratorDefine(t = {}, n, function () {\n      return this;\n    }), t),\n    u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c);\n  function f(e) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, regeneratorDefine(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e;\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, regeneratorDefine(u, \"constructor\", GeneratorFunctionPrototype), regeneratorDefine(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", regeneratorDefine(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), regeneratorDefine(u), regeneratorDefine(u, o, \"Generator\"), regeneratorDefine(u, n, function () {\n    return this;\n  }), regeneratorDefine(u, \"toString\", function () {\n    return \"[object Generator]\";\n  }), (_regenerator = function _regenerator() {\n    return {\n      w: i,\n      m: f\n    };\n  })();\n}\nexport { _regenerator as default };","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nexport { _toConsumableArray as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nexport { _arrayWithoutHoles as default };","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nexport { _iterableToArray as default };","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableSpread as default };","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","import React from 'react';\nimport { API_CONFIG } from '../config/api';\n\n/**\n * Resim yükleme hatalarını handle eden utility fonksiyonları\n */\n\n/**\n * Resim yükleme hatası durumunda fallback resmi döndürür\n * @param event - onError event'i\n * @param fallbackSrc - Fallback resim yolu (varsayılan: API_CONFIG.PRODUCT_IMAGE_PATH + 'default-product.svg')\n */\nexport const handleImageError = (\n  event: React.SyntheticEvent<HTMLImageElement, Event>,\n  fallbackSrc: string = API_CONFIG.PRODUCT_IMAGE_PATH + 'default-product.svg'\n): void => {\n  const target = event.currentTarget;\n  target.src = fallbackSrc;\n  target.onerror = null; // Sonsuz döngüyü önle\n};\n\n/**\n * Ürün resmi için güvenli src oluşturur\n * @param imageSrc - Orijinal resim yolu\n * @param fallbackSrc - Fallback resim yolu (varsayılan: API_CONFIG.PRODUCT_IMAGE_PATH + 'default-product.svg')\n * @returns Güvenli resim yolu\n */\nexport const getSafeImageSrc = (\n  imageSrc: string | undefined | null,\n  fallbackSrc: string = API_CONFIG.PRODUCT_IMAGE_PATH + 'default-product.svg'\n): string => {\n  if (!imageSrc || imageSrc.trim() === '') {\n    return fallbackSrc;\n  }\n  return imageSrc;\n};\n\n/**\n * Resim yükleme durumunu takip eden hook\n * @param initialSrc - Başlangıç resim yolu\n * @returns Resim yolu ve hata durumu\n */\nexport const useImageLoader = (initialSrc: string) => {\n  const [src, setSrc] = React.useState(initialSrc);\n  const [hasError, setHasError] = React.useState(false);\n\n  const handleError = React.useCallback(() => {\n    setSrc(API_CONFIG.PRODUCT_IMAGE_PATH + 'default-product.svg');\n    setHasError(true);\n  }, []);\n\n  const reset = React.useCallback(() => {\n    setSrc(initialSrc);\n    setHasError(false);\n  }, [initialSrc]);\n\n  return { src, hasError, handleError, reset };\n};\n\n/**\n * Logo URL'lerini oluşturur\n * @param logoName - Logo dosya adı (örn: 'ai-conversion-logo.svg')\n * @returns Tam logo URL'i\n */\nexport const getLogoUrl = (logoName: string): string => {\n  // Eğer window.convstateaiConfig varsa baseUrl'den al\n  if (typeof window !== 'undefined' && (window as any).convstateaiConfig) {\n    const config = (window as any).convstateaiConfig;\n    const baseUrl = config.baseUrl || getCurrentDomain();\n    return `${baseUrl}/widgetcust/imgs/${logoName}`;\n  }\n  \n  // Fallback olarak relative path kullan\n  return `/imgs/${logoName}`;\n};\n\n/**\n * Mevcut domain'i otomatik olarak belirle\n */\nconst getCurrentDomain = (): string => {\n  // Güvenli production domain - her zaman convstateai.com kullan\n  return 'https://convstateai.com';\n};\n\n/**\n * AI Conversion logo URL'lerini döndürür\n */\nexport const getAILogoUrls = () => {\n  return {\n    small: getLogoUrl('ai-conversion-logo-small.svg'),\n    large: getLogoUrl('ai-conversion-logo.svg')\n  };\n};\n\n","/**\n * API Configuration Service\n * Environment-based API URL yönetimi\n * Mevcut config.js yapısı ile uyumlu\n */\n\nexport interface APIConfig {\n  BASE_URL: string;\n  TIMEOUT: number;\n  ENDPOINTS: {\n    CHAT: string;\n    CAMPAIGNS: string;\n    FAQS: string;\n    PRODUCTS: string;\n    WIDGET_CUSTOMIZATION: string;\n    FEEDBACK: string;\n    PRODUCT_CLICK: string;\n    CARGO_TRACKING: string;\n    // Token Management Endpoints\n    ADD_TOKEN: string;\n    EXHAUST_TOKEN: string;\n    // Subscription Endpoints\n    USAGE: string;\n    PLANS: string;\n    BILLING_HISTORY: string;\n  };\n  DEFAULT_AI_NAME: string;\n  DEFAULT_WELCOME_MESSAGE: string;\n  SESSION_STORAGE_KEY: string;\n  MAX_PRODUCTS_TO_SHOW: number;\n  PRODUCT_IMAGE_PATH: string;\n  TYPING_DELAY: number;\n  MAX_MESSAGE_LENGTH: number;\n  ENABLE_TTS: boolean;\n  ENABLE_PRODUCT_RECOMMENDATIONS: boolean;\n  ENABLE_CAMPAIGN_TAB: boolean;\n  ENABLE_FAQ_TAB: boolean;\n}\n\n// Environment-based configuration\nconst getAPIConfig = (): APIConfig => {\n  // Environment değişkeni varsa onu kullan, yoksa environment'a göre default değer kullan\n  let baseUrl: string;\n  const env = process.env.REACT_APP_ENV || process.env.NODE_ENV || 'production';\n  \n  if (env === 'development') {\n    baseUrl = process.env.REACT_APP_API_BASE_URL || 'http://127.0.0.1:8000';\n  } else {\n    baseUrl = process.env.REACT_APP_API_BASE_URL || 'https://convstateai.com';\n  }\n  \n  return {\n    BASE_URL: baseUrl,\n    TIMEOUT: parseInt(process.env.REACT_APP_API_TIMEOUT || '10000'),\n    ENDPOINTS: {\n      CHAT: '/api/chat',\n      CAMPAIGNS: '/api/campaigns',\n      FAQS: '/api/faqs',\n      PRODUCTS: '/api/products',\n      WIDGET_CUSTOMIZATION: '/api/widget-customization',\n      FEEDBACK: '/api/feedback',\n      PRODUCT_CLICK: '/api/product-click',\n      CARGO_TRACKING: '/api/cargo-tracking',\n      // Token Management Endpoints\n      ADD_TOKEN: '/api/add-token',\n      EXHAUST_TOKEN: '/api/exhaust-token',\n      // Subscription Endpoints\n      USAGE: '/api/subscription/usage',\n      PLANS: '/api/subscription/plans',\n      BILLING_HISTORY: '/api/subscription/billing-history'\n    },\n    DEFAULT_AI_NAME: process.env.REACT_APP_DEFAULT_AI_NAME || 'ConvState AI',\n    DEFAULT_WELCOME_MESSAGE: process.env.REACT_APP_DEFAULT_WELCOME_MESSAGE || 'Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?',\n    SESSION_STORAGE_KEY: 'chat_session_id',\n    MAX_PRODUCTS_TO_SHOW: 6,\n    PRODUCT_IMAGE_PATH: baseUrl + '/api/widgetcust/imgs/',\n    TYPING_DELAY: 1000,\n    MAX_MESSAGE_LENGTH: 1000,\n    ENABLE_TTS: process.env.REACT_APP_ENABLE_TTS === 'true',\n    ENABLE_PRODUCT_RECOMMENDATIONS: process.env.REACT_APP_ENABLE_PRODUCT_RECOMMENDATIONS === 'true',\n    ENABLE_CAMPAIGN_TAB: process.env.REACT_APP_ENABLE_CAMPAIGN_TAB === 'true',\n    ENABLE_FAQ_TAB: process.env.REACT_APP_ENABLE_FAQ_TAB === 'true'\n  };\n};\n\n// Global config instance\nexport const API_CONFIG = getAPIConfig();\n\n// Helper functions - mevcut config.js ile uyumlu\nexport const getConfigValue = (key: keyof APIConfig): any => {\n  return API_CONFIG[key];\n};\n\nexport const buildApiUrl = (endpoint: string): string => {\n  return API_CONFIG.BASE_URL + endpoint;\n};\n\nexport const getApiEndpoint = (endpoint: keyof APIConfig['ENDPOINTS']): string => {\n  return API_CONFIG.ENDPOINTS[endpoint];\n};\n\n// Production mode - no debug logging\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Message, Product, FeedbackData } from '../../../../types';\nimport './ProductRecommendationMessage.css';\nimport '../../ProductStyles.css';\nimport '../../chatbot.css';\nimport { buildApiUrl, API_CONFIG } from '../../../../config/api'\n\ninterface ProductRecommendationMessageProps {\n  message: Message;\n  onProductClick: (product: Product) => void;\n  onFeedback: (feedback: FeedbackData) => void;\n  onAddMessage?: (text: string, role: 'user' | 'agent', products?: any[], additionalData?: any) => void;\n  onSendMessage?: (text: string) => void;\n}\n\nconst ProductRecommendationMessage: React.FC<ProductRecommendationMessageProps> = ({ \n  message, \n  onProductClick, \n  onFeedback,\n  onAddMessage,\n  onSendMessage\n}) => {\n\n  // Products'ı doğru şekilde extract et\n  const products = message.products || message.data?.products || [];\n  \n  // Feedback state'i - localStorage'da saklanır\n  const [feedbackGiven, setFeedbackGiven] = useState<boolean>(false);\n  \n  // Scroll container için ref\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  \n  // Component mount olduğunda localStorage'dan feedback durumunu kontrol et\n  useEffect(() => {\n    const feedbackKey = `feedback_${message.id}`;\n    const hasFeedback = localStorage.getItem(feedbackKey);\n    if (hasFeedback) {\n      setFeedbackGiven(true);\n    }\n  }, [message.id]);\n\n  // Scroll functionality için useEffect\n  useEffect(() => {\n    const scrollContainer = scrollContainerRef.current;\n    if (!scrollContainer) return;\n\n    // Set CSS variable for product count to calculate proper width\n    scrollContainer.style.setProperty('--product-count', products.length.toString());\n    \n    // Force update the wrapper width calculation\n    const wrapper = scrollContainer.querySelector('.products-wrapper') as HTMLElement;\n    if (wrapper) {\n      const cardWidth = 150;\n      const gap = 15;\n      const padding = 20;\n      const calculatedWidth = (products.length * cardWidth) + ((products.length - 1) * gap) + padding;\n      wrapper.style.width = `${calculatedWidth}px`;\n      wrapper.style.minWidth = `${calculatedWidth}px`;\n      wrapper.style.maxWidth = `${calculatedWidth}px`;\n    }\n\n    let isDown = false;\n    let startX: number;\n    let scrollLeft: number;\n\n    // Mouse events for drag scrolling\n    const handleMouseDown = (e: MouseEvent) => {\n      isDown = true;\n      scrollContainer.style.cursor = 'grabbing';\n      startX = e.pageX - scrollContainer.offsetLeft;\n      scrollLeft = scrollContainer.scrollLeft;\n    };\n\n    const handleMouseLeave = () => {\n      isDown = false;\n      scrollContainer.style.cursor = 'grab';\n    };\n\n    const handleMouseUp = () => {\n      isDown = false;\n      scrollContainer.style.cursor = 'grab';\n    };\n\n    const handleMouseMove = (e: MouseEvent) => {\n      if (!isDown) return;\n      e.preventDefault();\n      const x = e.pageX - scrollContainer.offsetLeft;\n      const walk = (x - startX) * 2;\n      scrollContainer.scrollLeft = scrollLeft - walk;\n    };\n\n    // Touch events for mobile\n    const handleTouchStart = (e: TouchEvent) => {\n      startX = e.touches[0].pageX - scrollContainer.offsetLeft;\n      scrollLeft = scrollContainer.scrollLeft;\n    };\n\n    const handleTouchMove = (e: TouchEvent) => {\n      if (!startX) return;\n      e.preventDefault();\n      const x = e.touches[0].pageX - scrollContainer.offsetLeft;\n      const walk = (x - startX) * 2;\n      scrollContainer.scrollLeft = scrollLeft - walk;\n    };\n\n    const handleTouchEnd = () => {\n      startX = 0;\n    };\n\n    // Event listeners ekle\n    scrollContainer.addEventListener('mousedown', handleMouseDown);\n    scrollContainer.addEventListener('mouseleave', handleMouseLeave);\n    scrollContainer.addEventListener('mouseup', handleMouseUp);\n    scrollContainer.addEventListener('mousemove', handleMouseMove);\n    scrollContainer.addEventListener('touchstart', handleTouchStart);\n    scrollContainer.addEventListener('touchmove', handleTouchMove);\n    scrollContainer.addEventListener('touchend', handleTouchEnd);\n\n    // Cleanup function\n    return () => {\n      scrollContainer.removeEventListener('mousedown', handleMouseDown);\n      scrollContainer.removeEventListener('mouseleave', handleMouseLeave);\n      scrollContainer.removeEventListener('mouseup', handleMouseUp);\n      scrollContainer.removeEventListener('mousemove', handleMouseMove);\n      scrollContainer.removeEventListener('touchstart', handleTouchStart);\n      scrollContainer.removeEventListener('touchmove', handleTouchMove);\n      scrollContainer.removeEventListener('touchend', handleTouchEnd);\n    };\n  }, [products.length]);\n\n  // Scroll container genişliğini kontrol et ve scroll'u etkinleştir\n  useEffect(() => {\n    const scrollContainer = scrollContainerRef.current;\n    if (!scrollContainer) return;\n\n    // Scroll container'ın scroll özelliklerini kontrol et\n    const checkScrollability = () => {\n      const wrapper = scrollContainer.querySelector('.products-wrapper') as HTMLElement;\n      if (wrapper) {\n        const containerWidth = scrollContainer.clientWidth;\n        const contentWidth = wrapper.scrollWidth;\n        \n        // Eğer içerik container'dan genişse scroll etkinleştir\n        if (contentWidth > containerWidth) {\n          scrollContainer.style.overflowX = 'auto';\n        } else {\n          scrollContainer.style.overflowX = 'hidden';\n        }\n      }\n    };\n\n    // İlk kontrol\n    checkScrollability();\n\n    // Resize observer ile dinamik kontrol\n    const resizeObserver = new ResizeObserver(checkScrollability);\n    resizeObserver.observe(scrollContainer);\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [products.length]);\n  \n  /**\n   * Product action handler - view, compare actions\n   */\n  const handleProductAction = async (product: Product, action: 'view' | 'compare') => {\n    try {\n      const sessionId = localStorage.getItem('chat_session_id') || 'unknown';\n      \n      // Product interaction'ı API'ye gönder\n      const response = await fetch(buildApiUrl('/api/product-interaction'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          session_id: sessionId,\n          product_id: product.id,\n          action: action,\n          timestamp: new Date().toISOString(),\n          source: 'chat_widget',\n          metadata: {\n            product_name: product.name,\n            product_category: product.category,\n            product_brand: product.brand,\n            action_source: 'chat_widget'\n          }\n        })\n      });\n\n      if (response.ok) {\n        await response.json();\n\n        \n        // Action'a göre işlem yap\n        if (action === 'view') {\n          // Ürün detay widget'ını göster\n          if (onAddMessage) {\n            // ProductDetailMessage widget'ını ekle\n            onAddMessage(\n              `📦 **${product.name}** ürün detayları yükleniyor...`,\n              'agent',\n              [product],\n              { \n                type: 'product_detail',\n                product: product,\n                action: 'view',\n                widget: 'ProductDetailMessage'\n              }\n            );\n          }\n        } else if (action === 'compare') {\n          // Karşılaştırma işlemi\n          if (onAddMessage) {\n            const compareMessage = `🔄 **${product.name}** ürününü karşılaştırmak istiyorsunuz.\\n\\nBu ürünü başka ürünlerle karşılaştırmak için hangi özellikleri önemsiyorsunuz?`;\n            onAddMessage(compareMessage, 'agent', [product]);\n          }\n        }\n        \n      } else {\n        // Product interaction logging failed\n      }\n      \n    } catch (error) {\n      // Product action error\n    }\n  };\n\n  const handleFeedback = (isHelpful: boolean) => {\n    // Feedback'i localStorage'a kaydet\n    const feedbackKey = `feedback_${message.id}`;\n    localStorage.setItem(feedbackKey, JSON.stringify({\n      isHelpful,\n      timestamp: new Date().toISOString()\n    }));\n    \n    // State'i güncelle\n    setFeedbackGiven(true);\n    \n    // Parent component'e feedback'i gönder\n    onFeedback({\n      messageId: message.id,\n      isHelpful,\n      comment: ''\n    });\n  };\n\n  return (\n    <div className=\"message agent-message\">\n      {/* Message Content Wrapper */}\n      <div className=\"message-content-wrapper\">\n        {/* Ürün önerisi başlığı */}\n        <h4 style={{ fontSize: '14px', fontWeight: '600', marginBottom: '8px' }}>\n          {message.data?.title || 'Senin için önerdiğim ürünler:'}\n        </h4>\n        \n        {/* Ürün kartları */}\n        {products && products.length > 0 ? (\n          <div className=\"products-scroll-container\" ref={scrollContainerRef}>\n            <div className=\"products-wrapper\">\n              {products.map((product: Product, index: number) => (\n                <div key={`${product.id}-${index}`} className=\"product-card\">\n                  <div className=\"product-image\">\n                    <img \n                      src={product.image || API_CONFIG.PRODUCT_IMAGE_PATH + 'default-product.svg'} \n                      alt={product.name}\n                      onError={(e) => {\n                        // Try different fallback images\n                        const currentSrc = e.currentTarget.src;\n                        if (currentSrc.includes('default-product.svg')) {\n                          // If SVG fails, try JPG\n                          e.currentTarget.src = API_CONFIG.PRODUCT_IMAGE_PATH + 'default-product.jpg';\n                        } else if (currentSrc.includes('default-product.jpg')) {\n                          // If JPG also fails, use a data URL placeholder\n                          e.currentTarget.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIiB2aWV3Qm94PSIwIDAgMTUwIDkwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iOTAiIGZpbGw9IiNmM2Y0ZjYiLz48dGV4dCB4PSI3NSIgeT0iNDUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5YTNhZiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+5Yqg6L295LitLi4uPC90ZXh0Pjwvc3ZnPg==';\n                        }\n                        e.currentTarget.onerror = null; // Sonsuz döngüyü önle\n                      }}\n                    />\n                  </div>\n                  <div className=\"product-info\">\n                    <h4>{product.name}</h4>\n                    <p style={{ fontSize: '12px', color: '#6B7280', marginBottom: '4px' }}>\n                      {product.brand}\n                    </p>\n                    <p className=\"product-price\">{product.price}</p>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '4px', marginBottom: '8px' }}>\n                      <span style={{ fontSize: '10px', color: '#6B7280' }}>Rating:</span>\n                      <span style={{ fontSize: '10px', color: '#F59E0B' }}>★ {product.rating}</span>\n                    </div>\n                    \n                    {/* Enhanced Product Buttons */}\n                    <div className=\"product-buttons-container\" style={{ display: 'flex', gap: '6px' }}>\n                      <button \n                        className=\"product-button primary\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleProductAction(product, 'view');\n                        }}\n                        style={{\n                          flex: 1,\n                          padding: '6px 8px',\n                          fontSize: '11px',\n                          backgroundColor: '#3B82F6',\n                          color: 'white',\n                          border: 'none',\n                          borderRadius: '4px',\n                          cursor: 'pointer'\n                        }}\n                      >\n                        Detaylar\n                      </button>\n                      <button \n                        className=\"product-button secondary\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleProductAction(product, 'compare');\n                        }}\n                        style={{\n                          flex: 1,\n                          padding: '6px 8px',\n                          fontSize: '11px',\n                          backgroundColor: '#F59E0B',\n                          color: 'white',\n                          border: 'none',\n                          borderRadius: '4px',\n                          cursor: 'pointer'\n                        }}\n                      >\n                        Karşılaştır\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        ) : (\n          <div className=\"no-products-message\">\n            <div className=\"no-products-icon\">🔍</div>\n            <p>{message.content || 'Ürün bulunamadı.'}</p>\n            {message.data?.suggestions && message.data.suggestions.length > 0 && (\n              <div className=\"suggestions\">\n                <p className=\"suggestions-title\">Size şunları önerebilirim:</p>\n                <div className=\"suggestion-buttons\">\n                  {message.data.suggestions.map((suggestion: string, index: number) => (\n                    <button\n                      key={index}\n                      className=\"suggestion-button\"\n                      onClick={() => {\n                        // Suggestion'a \"öner\" kelimesini ekle ve AI'ya gönder\n                        const messageWithRecommendation = `${suggestion} öner`;\n                        if (onSendMessage) {\n                          onSendMessage(messageWithRecommendation);\n                        } else if (onAddMessage) {\n                          onAddMessage(messageWithRecommendation, 'user');\n                        }\n                      }}\n                    >\n                      {suggestion}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n        \n        {/* AI notu - sadece ürün varsa göster */}\n        {products.length > 0 && (\n          <div className=\"ai-note\">\n            <span className=\"ai-icon\">AI</span>\n            {message.data?.ai_note || 'Tercihlerinize göre önerilen ürünler.'}\n          </div>\n        )}\n      </div>\n      \n      {/* Feedback Buttons - Sadece feedback verilmemişse göster */}\n      {!feedbackGiven && (\n        <div className=\"feedback-container\">\n          <button \n            className=\"feedback-button\"\n            onClick={() => handleFeedback(true)}\n          >\n            👍 Yararlı\n          </button>\n          <button \n            className=\"feedback-button negative\"\n            onClick={() => handleFeedback(false)}\n          >\n            👎 Yararsız\n          </button>\n        </div>\n      )}\n      \n      {/* Feedback verildiyse teşekkür mesajı göster */}\n      {feedbackGiven && (\n        <div className=\"feedback-thanks\">\n          <span style={{ fontSize: '12px', color: '#10B981', fontStyle: 'italic' }}>\n            ✓ Feedback'iniz için teşekkürler!\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductRecommendationMessage;\n","import React, { useState, useEffect } from 'react';\nimport { Message, Product } from '../../../../types';\nimport './ProductDetailMessage.css';\nimport '../../ProductStyles.css';\nimport '../../chatbot.css';\nimport { buildApiUrl } from '../../../../config/api';\n\ninterface ProductDetailMessageProps {\n  message: Message;\n  onProductClick: (product: Product) => void;\n  onAddMessage?: (text: string, role: 'user' | 'agent', products?: any[], additionalData?: any) => void;\n}\n\nconst ProductDetailMessage: React.FC<ProductDetailMessageProps> = ({ \n  message, \n  onProductClick,\n  onAddMessage\n}) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [productDetails, setProductDetails] = useState<any>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  // Extract product from message\n  const product = message.data?.product || message.products?.[0];\n  \n  useEffect(() => {\n    if (product && !productDetails) {\n      fetchProductDetails();\n    }\n  }, [product]);\n\n  const fetchProductDetails = async () => {\n    if (!product) return;\n    \n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const sessionId = localStorage.getItem('chat_session_id') || 'unknown';\n      \n      const response = await fetch(buildApiUrl('/api/product-details'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          session_id: sessionId,\n          product_id: product.id,\n          product_name: product.name,\n          product_description: product.description,\n          product_price: product.price,\n          product_category: product.category,\n          action: 'get_details'\n        })\n      });\n\n      if (!response.ok) {\n        // Handle different HTTP status codes\n        if (response.status === 404) {\n          throw new Error('Ürün detayları bulunamadı. Lütfen daha sonra tekrar deneyin.');\n        } else if (response.status === 429) {\n          throw new Error('Günlük görüntüleme limitiniz doldu. Yarın tekrar deneyin.');\n        } else if (response.status === 500) {\n          throw new Error('Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.');\n        } else {\n          throw new Error(`Sunucu hatası (${response.status}). Lütfen daha sonra tekrar deneyin.`);\n        }\n      }\n\n      const data = await response.json();\n      \n      if (data.success) {\n        setProductDetails(data.data);\n      } else {\n        // Handle different error types from the API\n        if (data.message === 'Session not found') {\n          throw new Error('Oturum bulunamadı. Lütfen sayfayı yenileyin.');\n        } else if (data.message === 'Daily view limit reached') {\n          throw new Error('Günlük görüntüleme limitiniz doldu. Yarın tekrar deneyin.');\n        } else {\n          throw new Error(data.message || 'Ürün detayları yüklenirken bir hata oluştu.');\n        }\n      }\n    } catch (err) {\n      console.error('Error fetching product details:', err);\n      \n      // Provide more user-friendly error messages\n      let errorMessage = 'Ürün detayları yüklenirken bir hata oluştu.';\n      \n      if (err instanceof Error) {\n        if (err.message.includes('Failed to fetch') || err.message.includes('NetworkError')) {\n          errorMessage = 'İnternet bağlantınızı kontrol edin ve tekrar deneyin.';\n        } else if (err.message.includes('timeout')) {\n          errorMessage = 'İstek zaman aşımına uğradı. Lütfen tekrar deneyin.';\n        } else {\n          errorMessage = err.message;\n        }\n      }\n      \n      setError(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleAddToCart = () => {\n    if (onAddMessage) {\n      onAddMessage(\n        `Sepete ekle: ${product?.name}`,\n        'user',\n        undefined,\n        { action: 'add_to_cart', product: product }\n      );\n    }\n  };\n\n  const handleBuyNow = () => {\n    if (onAddMessage) {\n      onAddMessage(\n        `Satın al: ${product?.name}`,\n        'user',\n        undefined,\n        { action: 'buy_now', product: product }\n      );\n    }\n  };\n\n  const handleCompare = () => {\n    if (onAddMessage) {\n      onAddMessage(\n        `Karşılaştır: ${product?.name}`,\n        'user',\n        undefined,\n        { action: 'compare', product: product }\n      );\n    }\n  };\n\n  const handlePriceComparison = async () => {\n    if (!product || !onAddMessage) return;\n    \n    try {\n      const sessionId = localStorage.getItem('chat_session_id') || 'unknown';\n      \n      const response = await fetch(buildApiUrl('/api/price-comparison'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          session_id: sessionId,\n          product_id: product.id,\n          product_name: product.name,\n          product_price: product.price,\n          product_category: product.category,\n          comparison_type: 'similar_products'\n        })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success) {\n          // Fiyat karşılaştırma sonuçlarını göster\n          onAddMessage(\n            `💰 Fiyat Karşılaştırması: ${product.name}`,\n            'agent',\n            undefined,\n            { \n              action: 'price_comparison_result', \n              product: product,\n              comparison_data: data.data\n            }\n          );\n        } else {\n          onAddMessage(\n            `❌ Fiyat karşılaştırması yapılamadı: ${data.message}`,\n            'agent'\n          );\n        }\n      } else {\n        onAddMessage(\n          `❌ Fiyat karşılaştırması hatası: ${response.status}`,\n          'agent'\n        );\n      }\n    } catch (error) {\n      console.error('Price comparison error:', error);\n      onAddMessage(\n        `❌ Fiyat karşılaştırması yapılırken bir hata oluştu.`,\n        'agent'\n      );\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"product-detail-message\">\n        <div className=\"product-detail-loading\">\n          <div className=\"loading-spinner\"></div>\n          <p>Ürün detayları yükleniyor...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"product-detail-message\">\n        <div className=\"product-detail-error\">\n          <div className=\"error-icon\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"#ef4444\" strokeWidth=\"2\"/>\n              <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\" stroke=\"#ef4444\" strokeWidth=\"2\"/>\n              <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\" stroke=\"#ef4444\" strokeWidth=\"2\"/>\n            </svg>\n          </div>\n          <div className=\"error-content\">\n            <h4>Ürün Detayları Yüklenemedi</h4>\n            <p>{error}</p>\n            <div className=\"error-actions\">\n              <button onClick={fetchProductDetails} className=\"retry-button\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M1 4v6h6\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <path d=\"M23 20v-6h-6\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <path d=\"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n                Tekrar Dene\n              </button>\n              <button onClick={() => setError(null)} className=\"dismiss-button\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n                Kapat\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"product-detail-message\">\n        <div className=\"product-detail-error warning\">\n          <div className=\"error-icon\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"#f59e0b\" strokeWidth=\"2\"/>\n              <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" stroke=\"#f59e0b\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n              <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" stroke=\"#f59e0b\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n            </svg>\n          </div>\n          <div className=\"error-content\">\n            <h4>Ürün Bilgisi Bulunamadı</h4>\n            <p>Bu ürün için detay bilgisi mevcut değil. Lütfen farklı bir ürün seçin.</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const details = productDetails || {};\n\n  return (\n    <div className=\"product-detail-message\">\n      <div className=\"product-detail-container\">\n        {/* Product Header */}\n        <div className=\"product-detail-header\">\n          <div className=\"product-detail-image\">\n            <img \n              src={product.image || '/imgs/default-product.svg'} \n              alt={product.name}\n              onError={(e) => {\n                e.currentTarget.src = '/imgs/default-product.svg';\n              }}\n            />\n          </div>\n          <div className=\"product-detail-info\">\n            <h3 className=\"product-detail-title\">{product.name}</h3>\n            <div className=\"product-detail-price\">\n              {product.price && (\n                <span className=\"price\">\n                  {typeof product.price === 'string' && product.price.includes('$') ? (\n                    <>\n                      <span className=\"currency\">$</span>\n                      <span className=\"amount\">{product.price.replace('$', '')}</span>\n                    </>\n                  ) : (\n                    <>\n                      <span className=\"amount\">{product.price}</span>\n                      <span className=\"currency\">₺</span>\n                    </>\n                  )}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* AI Generated Content */}\n        {details.ai_description && (\n          <div className=\"product-detail-ai-content\">\n            <div className=\"ai-header\">\n              <img src=\"http://127.0.0.1:8000/imgs/ai-conversion-logo.svg\" alt=\"ConvState AI\" className=\"ai-logo\" />\n              <h4>ConvState AI Analizi</h4>\n            </div>\n            <div className=\"ai-description\">\n              {details.ai_description}\n            </div>\n          </div>\n        )}\n\n        {/* Product Features */}\n        {details.features && details.features.length > 0 && (\n          <div className=\"product-detail-features\">\n            <h4>✨ Özellikler</h4>\n            <ul className=\"features-list\">\n              {details.features.map((feature: string, index: number) => (\n                <li key={index}>{feature}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Usage Scenarios */}\n        {details.usage_scenarios && details.usage_scenarios.length > 0 && (\n          <div className=\"product-detail-usage\">\n            <h4>🎯 Kullanım Alanları</h4>\n            <ul className=\"usage-list\">\n              {details.usage_scenarios.map((scenario: string, index: number) => (\n                <li key={index}>{scenario}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Technical Specifications */}\n        {details.specifications && Object.keys(details.specifications).length > 0 && (\n          <div className=\"product-detail-specs\">\n            <h4>⚙️ Teknik Özellikler</h4>\n            <div className=\"specs-grid\">\n              {Object.entries(details.specifications).map(([key, value]) => (\n                <div key={key} className=\"spec-item\">\n                  <span className=\"spec-key\">{key}:</span>\n                  <span className=\"spec-value\">{value as string}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Recommendations */}\n        {details.recommendations && details.recommendations.length > 0 && (\n          <div className=\"product-detail-recommendations\">\n            <h4>💡 Öneriler</h4>\n            <ul className=\"recommendations-list\">\n              {details.recommendations.map((rec: string, index: number) => (\n                <li key={index}>{rec}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Action Buttons */}\n        <div className=\"product-detail-actions\">\n          <div className=\"action-buttons-row\">\n            <button \n              className=\"action-button primary\"\n              onClick={handleAddToCart}\n            >\n              🛒 Sepete Ekle\n            </button>\n            <button \n              className=\"action-button secondary\"\n              onClick={handleBuyNow}\n            >\n              💳 Hemen Satın Al\n            </button>\n          </div>\n          <button \n            className=\"action-button tertiary full-width\"\n            onClick={handlePriceComparison}\n          >\n            💰 Fiyat Karşılaştır\n          </button>\n        </div>\n\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetailMessage;","import React, { useRef, useEffect } from 'react';\nimport { Message } from '../../../../types';\nimport './PriceComparisonMessage.css';\n\ninterface PriceComparisonMessageProps {\n  message: Message;\n  onProductClick?: (product: any) => void;\n}\n\nconst PriceComparisonMessage: React.FC<PriceComparisonMessageProps> = ({ \n  message, \n  onProductClick \n}) => {\n  const comparisonData = message.data?.comparison_data;\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  \n  // Scroll functionality for similar products\n  useEffect(() => {\n    const scrollContainer = scrollContainerRef.current;\n    if (!scrollContainer) return;\n\n    const similarProducts = comparisonData?.similar_products || [];\n    if (similarProducts.length === 0) return;\n\n    // Set CSS variable for product count\n    scrollContainer.style.setProperty('--product-count', similarProducts.length.toString());\n    \n    // Force update the wrapper width calculation\n    const wrapper = scrollContainer.querySelector('.products-grid') as HTMLElement;\n    if (wrapper) {\n      const cardWidth = 250;\n      const gap = 15;\n      const padding = 20;\n      const calculatedWidth = (similarProducts.length * cardWidth) + ((similarProducts.length - 1) * gap) + padding;\n      wrapper.style.width = `${calculatedWidth}px`;\n      wrapper.style.minWidth = `${calculatedWidth}px`;\n      wrapper.style.maxWidth = `${calculatedWidth}px`;\n    }\n\n    let isDown = false;\n    let startX: number;\n    let scrollLeft: number;\n\n    // Mouse events for drag scrolling\n    const handleMouseDown = (e: MouseEvent) => {\n      isDown = true;\n      scrollContainer.style.cursor = 'grabbing';\n      startX = e.pageX - scrollContainer.offsetLeft;\n      scrollLeft = scrollContainer.scrollLeft;\n    };\n\n    const handleMouseLeave = () => {\n      isDown = false;\n      scrollContainer.style.cursor = 'grab';\n    };\n\n    const handleMouseUp = () => {\n      isDown = false;\n      scrollContainer.style.cursor = 'grab';\n    };\n\n    const handleMouseMove = (e: MouseEvent) => {\n      if (!isDown) return;\n      e.preventDefault();\n      const x = e.pageX - scrollContainer.offsetLeft;\n      const walk = (x - startX) * 2;\n      scrollContainer.scrollLeft = scrollLeft - walk;\n    };\n\n    // Touch events for mobile\n    const handleTouchStart = (e: TouchEvent) => {\n      startX = e.touches[0].pageX - scrollContainer.offsetLeft;\n      scrollLeft = scrollContainer.scrollLeft;\n    };\n\n    const handleTouchMove = (e: TouchEvent) => {\n      if (!startX) return;\n      e.preventDefault();\n      const x = e.touches[0].pageX - scrollContainer.offsetLeft;\n      const walk = (x - startX) * 2;\n      scrollContainer.scrollLeft = scrollLeft - walk;\n    };\n\n    const handleTouchEnd = () => {\n      startX = 0;\n    };\n\n    // Event listeners ekle\n    scrollContainer.addEventListener('mousedown', handleMouseDown);\n    scrollContainer.addEventListener('mouseleave', handleMouseLeave);\n    scrollContainer.addEventListener('mouseup', handleMouseUp);\n    scrollContainer.addEventListener('mousemove', handleMouseMove);\n    scrollContainer.addEventListener('touchstart', handleTouchStart);\n    scrollContainer.addEventListener('touchmove', handleTouchMove);\n    scrollContainer.addEventListener('touchend', handleTouchEnd);\n\n    // Cleanup function\n    return () => {\n      scrollContainer.removeEventListener('mousedown', handleMouseDown);\n      scrollContainer.removeEventListener('mouseleave', handleMouseLeave);\n      scrollContainer.removeEventListener('mouseup', handleMouseUp);\n      scrollContainer.removeEventListener('mousemove', handleMouseMove);\n      scrollContainer.removeEventListener('touchstart', handleTouchStart);\n      scrollContainer.removeEventListener('touchmove', handleTouchMove);\n      scrollContainer.removeEventListener('touchend', handleTouchEnd);\n    };\n  }, [comparisonData?.similar_products?.length]);\n  \n  // Error durumu - veri yoksa\n  if (!comparisonData) {\n    return (\n      <div className=\"price-comparison-message\">\n        <div className=\"comparison-container error-state\">\n          <div className=\"comparison-header\">\n            <h3>💰 Fiyat Karşılaştırması</h3>\n            <div className=\"error-badge\">\n              <span>Hata</span>\n            </div>\n          </div>\n          \n          <div className=\"error-content\">\n            <div className=\"error-icon\">⚠️</div>\n            <div className=\"error-details\">\n              <h4>Veri Yüklenemedi</h4>\n              <p>Fiyat karşılaştırması yapılırken bir hata oluştu. Lütfen daha sonra tekrar deneyin.</p>\n              <div className=\"error-actions\">\n                <button className=\"retry-button\" onClick={() => window.location.reload()}>\n                  🔄 Tekrar Dene\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const { main_product, similar_products, price_analysis, ai_comparison, comparison_summary } = comparisonData;\n\n  // Varsayılan veriler - ana ürün yoksa veya eksikse\n  if (!main_product || !main_product.name || !main_product.price) {\n    return (\n      <div className=\"price-comparison-message\">\n        <div className=\"comparison-container default-data\">\n          <div className=\"comparison-header\">\n            <h3>💰 Fiyat Karşılaştırması</h3>\n            <div className=\"default-badge\">\n              <span>Varsayılan Veri</span>\n            </div>\n          </div>\n          \n          <div className=\"default-content\">\n            <div className=\"default-icon\">📊</div>\n            <div className=\"default-details\">\n              <h4>Örnek Fiyat Karşılaştırması</h4>\n              <p>Gerçek ürün verisi bulunamadığı için örnek bir karşılaştırma gösteriyoruz.</p>\n              \n              <div className=\"sample-comparison\">\n                <div className=\"sample-product\">\n                  <div className=\"product-info\">\n                    <h5>Örnek Ürün</h5>\n                    <div className=\"price-info\">\n                      <span className=\"price\">299.99</span>\n                      <span className=\"currency\">₺</span>\n                    </div>\n                    <div className=\"category\">Elektronik</div>\n                  </div>\n                </div>\n                \n                <div className=\"sample-analysis\">\n                  <div className=\"analysis-item\">\n                    <span className=\"label\">Fiyat Pozisyonu:</span>\n                    <span className=\"value\">Ortalama</span>\n                  </div>\n                  <div className=\"analysis-item\">\n                    <span className=\"label\">Değerlendirme:</span>\n                    <span className=\"value good\">İyi Değer</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Eğer benzer ürün yoksa ve sadece ana ürün varsa, basit bir widget göster\n  if (!similar_products || similar_products.length === 0) {\n    return (\n      <div className=\"price-comparison-message\">\n        <div className=\"comparison-container no-data\">\n          <div className=\"comparison-header\">\n            <h3>💰 Fiyat Karşılaştırması</h3>\n            <div className=\"no-data-badge\">\n              <span>Veri Bulunamadı</span>\n            </div>\n          </div>\n\n          <div className=\"main-product-only\">\n            <div className=\"product-card main\">\n              <div className=\"product-image\">\n                <img \n                  src=\"/imgs/default-product.svg\" \n                  alt={main_product.name}\n                  onError={(e) => {\n                    e.currentTarget.src = '/imgs/default-product.svg';\n                  }}\n                />\n              </div>\n              <div className=\"product-details\">\n                <h4>{main_product.name}</h4>\n                <div className=\"price-info\">\n                  <span className=\"price\">{main_product.price}</span>\n                  <span className=\"currency\">₺</span>\n                </div>\n                <div className=\"category\">{main_product.category}</div>\n              </div>\n            </div>\n\n            <div className=\"no-comparison-info\">\n              <div className=\"info-icon\">ℹ️</div>\n              <div className=\"info-content\">\n                <h4>Karşılaştırma Yapılamadı</h4>\n                <p>Bu ürün için benzer ürünler bulunamadı. Fiyat karşılaştırması yapabilmek için daha fazla ürün verisi gereklidir.</p>\n              </div>\n            </div>\n\n            {ai_comparison && ai_comparison.analysis && (\n              <div className=\"ai-suggestion\">\n                <div className=\"ai-header\">\n                  <img src=\"/imgs/ai-conversion-logo.svg\" alt=\"AI\" className=\"ai-logo\" />\n                  <span>ConvStateAI Analizi</span>\n                </div>\n                <div className=\"ai-content\">\n                  <p>{ai_comparison.analysis}</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const getPricePositionIcon = (position: string) => {\n    switch (position) {\n      case 'lowest': return '🟢';\n      case 'highest': return '🔴';\n      case 'below_average': return '🟡';\n      case 'above_average': return '🟠';\n      default: return '⚪';\n    }\n  };\n\n  const getPriceRatingColor = (rating: string) => {\n    switch (rating) {\n      case 'excellent': return '#10b981';\n      case 'good': return '#3b82f6';\n      case 'fair': return '#f59e0b';\n      case 'expensive': return '#ef4444';\n      default: return '#6b7280';\n    }\n  };\n\n  const getPriceRatingText = (rating: string) => {\n    switch (rating) {\n      case 'excellent': return 'Mükemmel';\n      case 'good': return 'İyi';\n      case 'fair': return 'Orta';\n      case 'expensive': return 'Pahalı';\n      default: return 'Bilinmiyor';\n    }\n  };\n\n  return (\n    <div className=\"price-comparison-message\">\n      <div className=\"comparison-container\">\n        {/* Header */}\n        <div className=\"comparison-header\">\n          <h3>💰 Fiyat Karşılaştırması</h3>\n          <div className=\"comparison-summary\">\n            <span className=\"total-products\">\n              {comparison_summary.total_products_compared} ürün karşılaştırıldı\n            </span>\n            <span className=\"price-position\">\n              {getPricePositionIcon(price_analysis.price_position)} {comparison_summary.price_position}\n            </span>\n          </div>\n        </div>\n\n        {/* Main Product */}\n        <div className=\"main-product-section\">\n          <h4>🎯 Ana Ürün</h4>\n          <div className=\"main-product-card\">\n            <div className=\"product-info\">\n              <h5>{main_product.name}</h5>\n              <div className=\"price-info\">\n                <span className=\"price\">{main_product.price}</span>\n                <span className=\"currency\">₺</span>\n              </div>\n              <div className=\"price-rating\">\n                <span \n                  className=\"rating-badge\"\n                  style={{ backgroundColor: getPriceRatingColor(price_analysis.price_rating) }}\n                >\n                  {getPriceRatingText(price_analysis.price_rating)}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Price Analysis */}\n        <div className=\"price-analysis-section\">\n          <h4>📊 Fiyat Analizi</h4>\n          <div className=\"analysis-grid\">\n            <div className=\"analysis-item\">\n              <span className=\"label\">Ortalama Fiyat:</span>\n              <span className=\"value\">{price_analysis.average_price} ₺</span>\n            </div>\n            <div className=\"analysis-item\">\n              <span className=\"label\">En Düşük:</span>\n              <span className=\"value\">{price_analysis.min_price} ₺</span>\n            </div>\n            <div className=\"analysis-item\">\n              <span className=\"label\">En Yüksek:</span>\n              <span className=\"value\">{price_analysis.max_price} ₺</span>\n            </div>\n            <div className=\"analysis-item\">\n              <span className=\"label\">Fark:</span>\n              <span className={`value ${price_analysis.price_difference >= 0 ? 'positive' : 'negative'}`}>\n                {price_analysis.price_difference >= 0 ? '+' : ''}{price_analysis.price_difference} ₺\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Similar Products */}\n        {similar_products && similar_products.length > 0 && (\n          <div className=\"similar-products-section\">\n            <h4>🔄 Benzer Ürünler</h4>\n            <div className=\"products-scroll-container\" ref={scrollContainerRef}>\n              <div className=\"products-grid\">\n                {similar_products.map((product: any, index: number) => (\n                  <div key={index} className=\"product-card\" onClick={() => onProductClick?.(product)}>\n                    <div className=\"product-image\">\n                      <img \n                        src={product.image || '/imgs/default-product.svg'} \n                        alt={product.name}\n                        onError={(e) => {\n                          e.currentTarget.src = '/imgs/default-product.svg';\n                        }}\n                      />\n                    </div>\n                    <div className=\"product-details\">\n                      <h6>{product.name}</h6>\n                      <div className=\"product-price\">\n                        <span className=\"price\">{product.price}</span>\n                        <span className=\"currency\">₺</span>\n                      </div>\n                      <div className=\"product-rating\">\n                        ⭐ {product.rating}/5\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* AI Analysis */}\n        {ai_comparison && (\n          <div className=\"ai-analysis-section\">\n            <h4>🤖 AI Analizi</h4>\n            <div className=\"ai-content\">\n              <div className=\"ai-analysis\">\n                <p>{ai_comparison.analysis}</p>\n              </div>\n              <div className=\"ai-recommendation\">\n                <strong>💡 Öneri:</strong> {ai_comparison.recommendation}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Best Value Product */}\n        {comparison_summary.best_value_product && (\n          <div className=\"best-value-section\">\n            <h4>🏆 En İyi Değer</h4>\n            <div className=\"best-value-card\">\n              <div className=\"product-info\">\n                <h5>{comparison_summary.best_value_product.name}</h5>\n                <div className=\"price-info\">\n                  <span className=\"price\">{comparison_summary.best_value_product.price}</span>\n                  <span className=\"currency\">₺</span>\n                </div>\n                <div className=\"value-badge\">\n                  🏆 En İyi Değer\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PriceComparisonMessage;\n","import React from 'react';\nimport { Message, FeedbackData } from '../../../../types';\nimport './FeedbackMessage.css';\nimport '../../chatbot.css';\n\ninterface FeedbackMessageProps {\n  message: Message;\n  onFeedback: (feedback: FeedbackData) => void;\n}\n\nconst FeedbackMessage: React.FC<FeedbackMessageProps> = ({ message, onFeedback }) => {\n  \n  const handleFeedback = (isHelpful: boolean) => {\n    onFeedback({\n      messageId: message.id,\n      isHelpful,\n      comment: ''\n    });\n  };\n\n  return (\n    <div className=\"message agent-message\">\n      {/* Message Content Wrapper */}\n      <div className=\"message-content-wrapper\">\n        {/* Feedback mesajı */}\n        <p>{message.content || message.message || 'Feedback mesajı bulunamadı.'}</p>\n      </div>\n      \n      {/* Feedback butonları */}\n      <div className=\"feedback-container\">\n        <button \n          className=\"feedback-button\"\n          onClick={() => handleFeedback(true)}\n        >\n          👍 Evet, yardımcı oldu\n        </button>\n        <button \n          className=\"feedback-button negative\"\n          onClick={() => handleFeedback(false)}\n        >\n          👎 Hayır, yardımcı olmadı\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FeedbackMessage;\n","import React from 'react';\nimport { Message, FeedbackData } from '../../../../types';\nimport './GeneralMessage.css';\nimport '../../chatbot.css';\n\ninterface GeneralMessageProps {\n  message: Message;\n  onFeedback: (feedback: FeedbackData) => void;\n}\n\nconst GeneralMessage: React.FC<GeneralMessageProps> = ({ message, onFeedback }) => {\n\n  \n  const handleFeedback = (isHelpful: boolean) => {\n    onFeedback({\n      messageId: message.id,\n      isHelpful,\n      comment: ''\n    });\n  };\n\n  return (\n    <div className=\"message agent-message\">\n      {/* Message Content Wrapper */}\n      <div className=\"message-content-wrapper\">\n        {/* Mesaj içeriği */}\n        <p>{message.content || message.message || 'Mesaj içeriği bulunamadı.'}</p>\n        \n        {/* API'den gelen suggestions kaldırıldı - sadece default action buttons kullanılıyor */}\n      </div>\n      \n      {/* Feedback Buttons */}\n      <div className=\"feedback-container\">\n        <button \n          className=\"feedback-button\"\n          onClick={() => handleFeedback(true)}\n        >\n          👍 Yararlı\n        </button>\n        <button \n          className=\"feedback-button negative\"\n          onClick={() => handleFeedback(false)}\n        >\n          👎 Yararsız\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default GeneralMessage;\n","import React, { useState } from 'react';\nimport { Message, FeedbackData } from '../../../../types';\nimport './OrderMessage.css';\nimport '../../chatbot.css';\nimport { buildApiUrl } from '../../../../config/api';\n\ninterface OrderMessageProps {\n  message: Message;\n  onFeedback: (feedback: FeedbackData) => void;\n}\n\ninterface OrderItem {\n  product_id: number;\n  name: string;\n  quantity: number;\n  price: number;\n}\n\ninterface ShippingInfo {\n  courier: string;\n  tracking_number: string;\n  last_update: string;\n  location: string;\n  estimated_delivery: string;\n}\n\ninterface OrderTrackingData {\n  order_id: string;\n  status: string;\n  order_date: string;\n  items: OrderItem[];\n  shipping: ShippingInfo;\n  message: string;\n}\n\ninterface CargoTrackingData {\n  intent: string;\n  phase: string;\n  order_id: string;\n  status: string;\n  courier: string;\n  tracking_number: string;\n  last_update: string;\n  estimated_delivery: string;\n}\n\nconst OrderMessage: React.FC<OrderMessageProps> = ({ message, onFeedback }) => {\n  const [orderNumber, setOrderNumber] = useState('');\n  const [showOrderDetails, setShowOrderDetails] = useState(false);\n  const [showCargoTracking, setShowCargoTracking] = useState(false);\n  const [orderData, setOrderData] = useState<OrderTrackingData | null>(null);\n  const [cargoData, setCargoData] = useState<CargoTrackingData | null>(null);\n  \n  const handleFeedback = (isHelpful: boolean) => {\n    onFeedback({\n      messageId: message.id,\n      isHelpful,\n      comment: ''\n    });\n  };\n\n  const handleOrderNumberSubmit = async () => {\n    if (orderNumber.trim()) {\n      try {\n        // Widget ayarlarından order tracking endpoint'ini kontrol et\n        const widgetConfig = (window as any).widgetConfig;\n        const orderTrackingEndpoint = widgetConfig?.apiEndpoints?.orderTracking;\n        const isOrderEnabled = widgetConfig?.isOrderEnabled;\n        \n        if (!orderTrackingEndpoint || !isOrderEnabled) {\n          // Order tracking endpoint yoksa veya devre dışıysa \"yakında açılacak\" mesajı göster\n          setOrderData({\n            order_id: orderNumber,\n            status: 'feature_disabled',\n            order_date: new Date().toISOString(),\n            items: [],\n            shipping: {\n              courier: 'N/A',\n              tracking_number: 'N/A',\n              last_update: 'N/A',\n              location: 'N/A',\n              estimated_delivery: 'N/A'\n            },\n            message: 'Bu özellik yakında açılacak'\n          });\n          setShowOrderDetails(true);\n          return;\n        }\n        \n        // Kargo takip API'sine istek gönder\n        const response = await fetch(buildApiUrl(`/api/cargo/track/${encodeURIComponent(orderNumber)}`), {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        });\n\n        if (response.ok) {\n          const result = await response.json();\n          \n          if (result.success && result.data) {\n            // AI ile eşleştirilmiş kargo verisi\n            setCargoData(result.data);\n            setShowCargoTracking(true);\n          } else if (result.data?.feature_disabled) {\n            // Özellik kapalıysa \"yakında açılacak\" mesajı göster\n            setOrderData({\n              order_id: orderNumber,\n              status: 'feature_disabled',\n              order_date: new Date().toISOString(),\n              items: [],\n              shipping: {\n                courier: 'N/A',\n                tracking_number: 'N/A',\n                last_update: 'N/A',\n                location: 'N/A',\n                estimated_delivery: 'N/A'\n              },\n              message: 'Bu özellik yakında açılacak'\n            });\n            setShowOrderDetails(true);\n          } else {\n            // Kargo bulunamadı\n            setOrderData({\n              order_id: orderNumber,\n              status: 'not_found',\n              order_date: new Date().toISOString(),\n              items: [],\n              shipping: {\n                courier: 'N/A',\n                tracking_number: orderNumber,\n                last_update: 'N/A',\n                location: 'N/A',\n                estimated_delivery: 'N/A'\n              },\n              message: 'Kargo numarası ile kargo bulunamadı'\n            });\n            setShowOrderDetails(true);\n          }\n        } else {\n          // API hatası durumunda fallback\n          setOrderData({\n            order_id: orderNumber,\n            status: 'error',\n            order_date: new Date().toISOString(),\n            items: [],\n            shipping: {\n              courier: 'N/A',\n              tracking_number: orderNumber,\n              last_update: 'N/A',\n              location: 'N/A',\n              estimated_delivery: 'N/A'\n            },\n            message: 'Kargo takip sırasında hata oluştu'\n          });\n          setShowOrderDetails(true);\n        }\n      } catch (error) {\n        // Network hatası durumunda fallback\n        setOrderData({\n          order_id: orderNumber,\n          status: 'error',\n          order_date: new Date().toISOString(),\n          items: [],\n          shipping: {\n            courier: 'N/A',\n            tracking_number: orderNumber,\n            last_update: 'N/A',\n            location: 'N/A',\n            estimated_delivery: 'N/A'\n          },\n          message: 'Bağlantı hatası oluştu'\n        });\n        setShowOrderDetails(true);\n      }\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('tr-TR');\n  };\n\n  const formatDateTime = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleString('tr-TR');\n  };\n\n  // If this is an order tracking request, show input field\n  if (message.intent === 'order_tracking' && !showOrderDetails && !showCargoTracking) {\n    return (\n      <div className=\"message agent-message\">\n        <div className=\"message-content-wrapper\">\n          <p>Kargo takip numaranızı veya sipariş numaranızı girin:</p>\n          \n          <div className=\"order-input-container\">\n            <input\n              type=\"text\"\n              placeholder=\"Sipariş/Kargo numarası girin...\"\n              value={orderNumber}\n              onChange={(e) => setOrderNumber(e.target.value)}\n              className=\"order-number-input\"\n            />\n            <button \n              onClick={handleOrderNumberSubmit}\n              className=\"track-order-button\"\n              disabled={!orderNumber.trim()}\n            >\n              Takip Et\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"feedback-container\">\n          <button \n            className=\"feedback-button\"\n            onClick={() => handleFeedback(true)}\n          >\n            👍 Yararlı\n          </button>\n          <button \n            className=\"feedback-button negative\"\n            onClick={() => handleFeedback(false)}\n          >\n            👎 Yararsız\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Show simplified cargo tracking if available\n  if (showCargoTracking && cargoData) {\n    const statusText = cargoData.status === 'in_transit' ? 'Yolda' : \n                      cargoData.status === 'delivered' ? 'Teslim Edildi' : \n                      cargoData.status === 'pending' ? 'Hazırlanıyor' : cargoData.status;\n\n    return (\n      <div className=\"message agent-message\">\n        <div className=\"message-content-wrapper\">\n          <div className=\"cargo-tracking-simple\">\n            <h3>Kargo Takip Bilgileri</h3>\n            \n            <div className=\"cargo-info-grid\">\n              <div className=\"cargo-info-item\">\n                <strong>Sipariş No:</strong>\n                <span>{cargoData.order_id}</span>\n              </div>\n              \n              <div className=\"cargo-info-item\">\n                <strong>Durum:</strong>\n                <span className={`status-badge ${cargoData.status}`}>{statusText}</span>\n              </div>\n              \n              <div className=\"cargo-info-item\">\n                <strong>Kargo Firması:</strong>\n                <span>{cargoData.courier}</span>\n              </div>\n              \n              <div className=\"cargo-info-item\">\n                <strong>Takip Numarası:</strong>\n                <span className=\"tracking-number\">{cargoData.tracking_number}</span>\n              </div>\n              \n              <div className=\"cargo-info-item\">\n                <strong>Son Güncelleme:</strong>\n                <span>{formatDateTime(cargoData.last_update)}</span>\n              </div>\n              \n              <div className=\"cargo-info-item\">\n                <strong>Tahmini Teslim:</strong>\n                <span>{formatDate(cargoData.estimated_delivery)}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"feedback-container\">\n          <button \n            className=\"feedback-button\"\n            onClick={() => handleFeedback(true)}\n          >\n            👍 Yararlı\n          </button>\n          <button \n            className=\"feedback-button negative\"\n            onClick={() => handleFeedback(false)}\n          >\n            👎 Yararsız\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Show order details if available\n  if (showOrderDetails && orderData) {\n    return (\n      <div className=\"message agent-message\">\n        <div className=\"message-content-wrapper\">\n          <div className=\"order-tracking-details\">\n            {orderData.status === 'feature_disabled' ? (\n              <div className=\"feature-disabled-message\">\n                <div style={{ fontSize: '48px', marginBottom: '16px', textAlign: 'center' }}>🚧</div>\n                <h3 style={{ textAlign: 'center', color: '#92400E', marginBottom: '16px' }}>\n                  Bu özellik yakında açılacak\n                </h3>\n                <p style={{ textAlign: 'center', color: '#92400E', fontSize: '14px', margin: 0 }}>\n                  Sipariş takip özelliği geliştirme aşamasında\n                </p>\n              </div>\n            ) : orderData.status === 'not_found' ? (\n              <div className=\"cargo-not-found-message\">\n                <div style={{ fontSize: '48px', marginBottom: '16px', textAlign: 'center' }}>📦</div>\n                <h3 style={{ textAlign: 'center', color: '#DC2626', marginBottom: '16px' }}>\n                  Kargo bulunamadı\n                </h3>\n                <p style={{ textAlign: 'center', color: '#DC2626', fontSize: '14px', margin: 0 }}>\n                  {orderData.message}\n                </p>\n                <div style={{ textAlign: 'center', marginTop: '16px' }}>\n                  <button \n                    onClick={() => {\n                      setShowOrderDetails(false);\n                      setOrderNumber('');\n                    }}\n                    style={{\n                      padding: '8px 16px',\n                      backgroundColor: '#3B82F6',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '6px',\n                      cursor: 'pointer'\n                    }}\n                  >\n                    Tekrar Dene\n                  </button>\n                </div>\n              </div>\n            ) : orderData.status === 'error' ? (\n              <div className=\"cargo-error-message\">\n                <div style={{ fontSize: '48px', marginBottom: '16px', textAlign: 'center' }}>⚠️</div>\n                <h3 style={{ textAlign: 'center', color: '#DC2626', marginBottom: '16px' }}>\n                  Hata oluştu\n                </h3>\n                <p style={{ textAlign: 'center', color: '#DC2626', fontSize: '14px', margin: 0 }}>\n                  {orderData.message}\n                </p>\n                <div style={{ textAlign: 'center', marginTop: '16px' }}>\n                  <button \n                    onClick={() => {\n                      setShowOrderDetails(false);\n                      setOrderNumber('');\n                    }}\n                    style={{\n                      padding: '8px 16px',\n                      backgroundColor: '#3B82F6',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '6px',\n                      cursor: 'pointer'\n                    }}\n                  >\n                    Tekrar Dene\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <>\n                <h3>Sipariş Takip Bilgileri</h3>\n            \n            <div className=\"order-header\">\n              <div className=\"order-id\">Sipariş No: {orderData.order_id}</div>\n              <div className=\"order-status\">Durum: {orderData.status === 'shipped' ? 'Kargoya Verildi' : orderData.status}</div>\n              <div className=\"order-date\">Sipariş Tarihi: {formatDate(orderData.order_date)}</div>\n            </div>\n\n            <div className=\"order-items\">\n              <h4>Sipariş Edilen Ürünler:</h4>\n              {orderData.items.map((item, index) => (\n                <div key={index} className=\"order-item\">\n                  <span className=\"item-name\">{item.name}</span>\n                  <span className=\"item-quantity\">x{item.quantity}</span>\n                  <span className=\"item-price\">{item.price}</span>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"shipping-info\">\n              <h4>Kargo Bilgileri:</h4>\n              <div className=\"shipping-detail\">\n                <strong>Kargo Firması:</strong> {orderData.shipping.courier}\n              </div>\n              <div className=\"shipping-detail\">\n                <strong>Takip Numarası:</strong> {orderData.shipping.tracking_number}\n              </div>\n              <div className=\"shipping-detail\">\n                <strong>Son Güncelleme:</strong> {formatDateTime(orderData.shipping.last_update)}\n              </div>\n              <div className=\"shipping-detail\">\n                <strong>Konum:</strong> {orderData.shipping.location}\n              </div>\n              <div className=\"shipping-detail\">\n                <strong>Tahmini Teslim:</strong> {formatDate(orderData.shipping.estimated_delivery)}\n              </div>\n            </div>\n\n            <div className=\"order-message\">\n              <p>{orderData.message}</p>\n            </div>\n              </>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"feedback-container\">\n          <button \n            className=\"feedback-button\"\n            onClick={() => handleFeedback(true)}\n          >\n            👍 Yararlı\n          </button>\n          <button \n            className=\"feedback-button negative\"\n            onClick={() => handleFeedback(false)}\n          >\n            👎 Yararsız\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Default order inquiry display\n  return (\n    <div className=\"message agent-message\">\n      <div className=\"message-content-wrapper\">\n        <p>{message.content || message.message || 'Sipariş mesajı bulunamadı.'}</p>\n        \n        {/* API'den gelen suggestions kaldırıldı - sadece default action buttons kullanılıyor */}\n      </div>\n      \n      <div className=\"feedback-container\">\n        <button \n          className=\"feedback-button\"\n          onClick={() => handleFeedback(true)}\n        >\n          👍 Yararlı\n        </button>\n        <button \n          className=\"feedback-button negative\"\n          onClick={() => handleFeedback(false)}\n        >\n          👎 Yararsız\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderMessage;\n","import React, { useState } from 'react';\nimport { Message, FeedbackData } from '../../../../types';\nimport './CargoTrackingMessage.css';\nimport '../../chatbot.css';\n\ninterface CargoTrackingMessageProps {\n  message: Message;\n  onFeedback: (feedback: FeedbackData) => void;\n}\n\nconst CargoTrackingMessage: React.FC<CargoTrackingMessageProps> = ({ \n  message, \n  onFeedback \n}) => {\n  const [cargoNumber, setCargoNumber] = useState('');\n  const [isTracking, setIsTracking] = useState(false);\n  const [trackingResult, setTrackingResult] = useState<any>(null);\n  const [feedbackGiven, setFeedbackGiven] = useState<boolean>(false);\n\n  // Component mount olduğunda localStorage'dan feedback durumunu kontrol et\n  React.useEffect(() => {\n    const feedbackKey = `feedback_${message.id}`;\n    const hasFeedback = localStorage.getItem(feedbackKey);\n    if (hasFeedback) {\n      setFeedbackGiven(true);\n    }\n  }, [message.id]);\n\n  const handleFeedback = (isHelpful: boolean) => {\n    // Feedback'i localStorage'a kaydet\n    const feedbackKey = `feedback_${message.id}`;\n    localStorage.setItem(feedbackKey, JSON.stringify({\n      isHelpful,\n      timestamp: new Date().toISOString()\n    }));\n    \n    // State'i güncelle\n    setFeedbackGiven(true);\n    \n    // Parent component'e feedback'i gönder\n    onFeedback({\n      messageId: message.id,\n      isHelpful,\n      comment: ''\n    });\n  };\n\n  const handleCargoTracking = async () => {\n    if (!cargoNumber.trim()) return;\n    \n    setIsTracking(true);\n    try {\n      // Widget ayarlarından API endpoint'i al\n      const widgetConfig = (window as any).widgetConfig;\n      const cargoTrackingEndpoint = widgetConfig?.apiEndpoints?.cargoTracking;\n      const isCargoEnabled = widgetConfig?.isCargoEnabled;\n      \n      if (!cargoTrackingEndpoint || !isCargoEnabled) {\n        // API endpoint tanımlanmamışsa veya devre dışıysa \"yakında açılacak\" mesajı göster\n        setTrackingResult({\n          error: 'Bu özellik yakında açılacak',\n          feature_disabled: true\n        });\n        setIsTracking(false);\n        return;\n      }\n      \n      // API endpoint varsa normal sorgu yap\n      const response = await fetch(`${cargoTrackingEndpoint}?cargo_number=${encodeURIComponent(cargoNumber)}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n        }\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        setTrackingResult(result.data);\n      } else {\n        setTrackingResult({ error: 'Kargo takip bilgisi alınamadı' });\n      }\n    } catch (error) {\n      setTrackingResult({ error: 'Bağlantı hatası' });\n    } finally {\n      setIsTracking(false);\n    }\n  };\n\n  return (\n    <div className=\"message agent-message\">\n      {/* Message Content Wrapper */}\n      <div className=\"message-content-wrapper\">\n        {/* Kargo takip mesajı */}\n        <p style={{ marginBottom: '16px' }}>\n          {message.message || 'Kargo takip numaranızı girerek kargo durumunuzu öğrenebilirsiniz.'}\n        </p>\n        \n        {/* Kargo takip input alanı */}\n        <div className=\"cargo-tracking-input\" style={{ marginBottom: '16px' }}>\n          <input\n            id=\"cargo-number\"\n            type=\"text\"\n            value={cargoNumber}\n            onChange={(e) => setCargoNumber(e.target.value)}\n            placeholder=\"Kargo takip numarası giriniz...\"\n            style={{\n              width: '100%',\n              padding: '8px 12px',\n              border: '1px solid #D1D5DB',\n              borderRadius: '6px',\n              fontSize: '14px',\n              outline: 'none',\n              marginBottom: '8px'\n            }}\n            onKeyPress={(e) => e.key === 'Enter' && handleCargoTracking()}\n          />\n          <button\n            onClick={handleCargoTracking}\n            disabled={isTracking || !cargoNumber.trim()}\n            style={{\n              width: '100%',\n              padding: '8px 10px',\n              backgroundColor: '#3B82F6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '6px',\n              fontSize: '14px',\n              fontWeight: '500',\n              opacity: isTracking || !cargoNumber.trim() ? 0.6 : 1\n            }}\n          >\n            {isTracking ? 'Takip Ediliyor...' : 'Takip Et'}\n            <span style={{ fontSize: '14px' }}>→</span>\n          </button>\n        </div>\n\n        {/* Kargo takip sonucu */}\n        {trackingResult && (\n          <div className=\"cargo-tracking-result\" style={{ \n            backgroundColor: trackingResult.feature_disabled ? '#FEF3C7' : '#F9FAFB', \n            padding: '16px', \n            borderRadius: '8px',\n            border: `1px solid ${trackingResult.feature_disabled ? '#F59E0B' : '#E5E7EB'}`,\n            marginBottom: '16px'\n          }}>\n            {trackingResult.error ? (\n              <div style={{ textAlign: 'center' }}>\n                {trackingResult.feature_disabled ? (\n                  <>\n                    <div style={{ fontSize: '48px', marginBottom: '8px' }}>🚧</div>\n                    <p style={{ color: '#92400E', margin: '0 0 8px 0', fontWeight: '600' }}>\n                      Bu özellik yakında açılacak\n                    </p>\n                    <p style={{ color: '#92400E', margin: 0, fontSize: '14px' }}>\n                      Kargo takip özelliği geliştirme aşamasında\n                    </p>\n                  </>\n                ) : (\n                  <p style={{ color: '#DC2626', margin: 0 }}>{trackingResult.error}</p>\n                )}\n              </div>\n            ) : (\n              <div>\n                <h4 style={{ \n                  fontSize: '16px', \n                  fontWeight: '600', \n                  margin: '0 0 12px 0',\n                  color: '#111827'\n                }}>\n                  📦 Kargo Takip Bilgisi\n                </h4>\n                \n                <div style={{ display: 'grid', gap: '8px' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span style={{ fontSize: '14px', color: '#6B7280' }}>Takip No:</span>\n                    <span style={{ fontSize: '14px', fontWeight: '500' }}>{trackingResult.cargo_number}</span>\n                  </div>\n                  \n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span style={{ fontSize: '14px', color: '#6B7280' }}>Durum:</span>\n                    <span style={{ \n                      fontSize: '14px', \n                      fontWeight: '500',\n                      color: '#059669'\n                    }}>\n                      {trackingResult.status}\n                    </span>\n                  </div>\n                  \n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span style={{ fontSize: '14px', color: '#6B7280' }}>Konum:</span>\n                    <span style={{ fontSize: '14px', fontWeight: '500' }}>{trackingResult.current_location}</span>\n                  </div>\n                  \n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span style={{ fontSize: '14px', color: '#6B7280' }}>Tahmini Teslimat:</span>\n                    <span style={{ fontSize: '14px', fontWeight: '500' }}>{trackingResult.estimated_delivery}</span>\n                  </div>\n                  \n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span style={{ fontSize: '14px', color: '#6B7280' }}>Son Güncelleme:</span>\n                    <span style={{ fontSize: '14px', fontWeight: '500' }}>{trackingResult.last_update}</span>\n                  </div>\n                </div>\n                \n                {trackingResult.tracking_url && (\n                  <div style={{ marginTop: '12px', textAlign: 'center' }}>\n                    <a \n                      href={trackingResult.tracking_url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{\n                        color: '#3B82F6',\n                        textDecoration: 'none',\n                        fontSize: '14px',\n                        fontWeight: '500'\n                      }}\n                    >\n                      📍 Detaylı Takip Sayfası\n                    </a>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n      \n      {/* Feedback Buttons - Sadece feedback verilmemişse göster */}\n      {!feedbackGiven && (\n        <div className=\"feedback-container\">\n          <button \n            className=\"feedback-button\"\n            onClick={() => handleFeedback(true)}\n          >\n            👍 Yararlı\n          </button>\n          <button \n            className=\"feedback-button negative\"\n            onClick={() => handleFeedback(false)}\n          >\n            👎 Yararsız\n          </button>\n        </div>\n      )}\n      \n      {/* Feedback verildiyse teşekkür mesajı göster */}\n      {feedbackGiven && (\n        <div className=\"feedback-thanks\">\n          <span style={{ fontSize: '12px', color: '#10B981', fontStyle: 'italic' }}>\n            ✓ Feedback'iniz için teşekkürler!\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CargoTrackingMessage;\n","import React from 'react';\nimport './ShimmerMessage.css';\nimport '../chatbot.css';\n\ninterface ShimmerMessageProps {\n  type?: 'general' | 'product' | 'cargo' | 'order' | 'feedback';\n}\n\nconst ShimmerMessage: React.FC<ShimmerMessageProps> = ({ type = 'general' }) => {\n  const renderShimmerContent = () => {\n    switch (type) {\n      case 'product':\n        return (\n          <>\n            {/* Başlık shimmer */}\n            <div className=\"shimmer shimmer-title\" style={{ width: '60%', height: '16px', marginBottom: '12px' }}></div>\n            \n            {/* Ürün kartları shimmer */}\n            <div className=\"products-scroll-container\">\n              <div className=\"products-wrapper\">\n                {[1, 2, 3].map((i) => (\n                  <div key={i} className=\"product-card shimmer-card\">\n                    <div className=\"shimmer shimmer-image\" style={{ width: '100%', height: '80px' }}></div>\n                    <div className=\"product-info\">\n                      <div className=\"shimmer shimmer-text\" style={{ width: '80%', height: '14px', marginBottom: '8px' }}></div>\n                      <div className=\"shimmer shimmer-text\" style={{ width: '60%', height: '12px', marginBottom: '4px' }}></div>\n                      <div className=\"shimmer shimmer-price\" style={{ width: '40%', height: '16px', marginBottom: '8px' }}></div>\n                      <div className=\"shimmer shimmer-button\" style={{ width: '100%', height: '24px' }}></div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </>\n        );\n        \n      case 'cargo':\n        return (\n          <>\n            {/* Mesaj shimmer */}\n            <div className=\"shimmer shimmer-text\" style={{ width: '90%', height: '16px', marginBottom: '16px' }}></div>\n            \n            {/* Input shimmer */}\n            <div className=\"shimmer shimmer-input\" style={{ width: '100%', height: '36px', marginBottom: '8px' }}></div>\n            \n            {/* Button shimmer */}\n            <div className=\"shimmer shimmer-button\" style={{ width: '100%', height: '36px' }}></div>\n          </>\n        );\n        \n      case 'order':\n        return (\n          <>\n            {/* Mesaj shimmer */}\n            <div className=\"shimmer shimmer-text\" style={{ width: '85%', height: '16px', marginBottom: '16px' }}></div>\n            \n            {/* Input shimmer */}\n            <div className=\"shimmer shimmer-input\" style={{ width: '100%', height: '36px', marginBottom: '8px' }}></div>\n            \n            {/* Button shimmer */}\n            <div className=\"shimmer shimmer-button\" style={{ width: '100%', height: '36px' }}></div>\n          </>\n        );\n        \n      case 'feedback':\n        return (\n          <>\n            {/* Mesaj shimmer */}\n            <div className=\"shimmer shimmer-text\" style={{ width: '80%', height: '16px', marginBottom: '16px' }}></div>\n            \n            {/* Feedback buttons shimmer */}\n            <div style={{ display: 'flex', gap: '8px' }}>\n              <div className=\"shimmer shimmer-button\" style={{ width: '80px', height: '32px' }}></div>\n              <div className=\"shimmer shimmer-button\" style={{ width: '80px', height: '32px' }}></div>\n            </div>\n          </>\n        );\n        \n      default: // general\n        return (\n          <>\n            {/* Mesaj shimmer */}\n            <div className=\"shimmer shimmer-text\" style={{ width: '90%', height: '16px', marginBottom: '12px' }}></div>\n            \n            {/* Öneriler shimmer */}\n            {Math.random() > 0.5 && (\n              <div className=\"action-buttons\">\n                <div className=\"action-buttons-scroll-container\">\n                  <div className=\"action-buttons-wrapper\">\n                    {[1, 2, 3].map((i) => (\n                      <div key={i} className=\"shimmer shimmer-suggestion\" style={{ width: '80px', height: '28px' }}></div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </>\n        );\n    }\n  };\n\n  return (\n    <div className=\"message agent-message shimmer-message\">\n      <div className=\"message-content-wrapper\">\n        {renderShimmerContent()}\n      </div>\n      \n      {/* Feedback shimmer */}\n      <div className=\"feedback-container\">\n        <div className=\"shimmer shimmer-feedback\" style={{ width: '70px', height: '28px' }}></div>\n        <div className=\"shimmer shimmer-feedback\" style={{ width: '70px', height: '28px' }}></div>\n      </div>\n    </div>\n  );\n};\n\nexport default ShimmerMessage;\n","import React from 'react';\nimport { Message, FeedbackData } from '../../../../types';\nimport './NoDataMessage.css';\nimport '../../chatbot.css';\n\ninterface NoDataMessageProps {\n  message: Message;\n  onFeedback: (feedback: FeedbackData) => void;\n}\n\nconst NoDataMessage: React.FC<NoDataMessageProps> = ({ \n  message, \n  onFeedback \n}) => {\n  \n  // Feedback state'i\n  const [feedbackGiven, setFeedbackGiven] = React.useState<boolean>(false);\n  \n  // Feedback gönder\n  const handleFeedback = (isHelpful: boolean) => {\n    if (feedbackGiven) return;\n    \n    const feedbackData: FeedbackData = {\n      messageId: message.id,\n      isHelpful,\n      comment: `Search: ${message.data?.search_query || ''}, Intent: ${message.intent || 'product_search'}, Results: ${message.data?.total_found || 0}`\n    };\n    \n    onFeedback(feedbackData);\n    setFeedbackGiven(true);\n    \n    // localStorage'a kaydet\n    localStorage.setItem(`feedback_${message.id}`, JSON.stringify(feedbackData));\n  };\n\n  // API'den gelen suggestions kaldırıldı - sadece default action buttons kullanılıyor\n\n  return (\n    <div className=\"message bot-message\">\n      <div className=\"message-content\">\n        {/* Ana Mesaj */}\n        <div className=\"\">\n          <div className=\"no-data-content\">\n            <h4 className=\"no-data-title\">\n              {message.message || \"Şu anda bilgi tabanında bilgi olmadığı için görüntüleyemiyoruz\"}\n            </h4>\n            \n            <p className=\"no-data-description\">\n              Lütfen bilgi tabanınızı güncelleyiniz\n            </p>\n            \n            {/* Arama Detayları */}\n            {message.data?.search_query && (\n              <div className=\"search-details\">\n                <span className=\"search-label\">Arama:</span>\n                <span className=\"search-query\">\"{message.data.search_query}\"</span>\n                <span className=\"search-results\">({message.data.total_found || 0} sonuç)</span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* API'den gelen suggestions kaldırıldı - sadece default action buttons kullanılıyor */}\n\n        {/* Feedback Butonları */}\n        <div className=\"feedback-section\">\n          <p className=\"feedback-question\">Bu bilgi faydalı mıydı?</p>\n          <div className=\"feedback-buttons\">\n            <button\n              onClick={() => handleFeedback(true)}\n              disabled={feedbackGiven}\n              className={`feedback-btn helpful ${feedbackGiven ? 'disabled' : 'hover:bg-green-600'}`}\n            >\n              👍 Faydalı\n            </button>\n            <button\n              onClick={() => handleFeedback(false)}\n              disabled={feedbackGiven}\n              className={`feedback-btn not-helpful ${feedbackGiven ? 'disabled' : 'hover:bg-red-600'}`}\n            >\n              👎 Faydalı Değil\n            </button>\n          </div>\n          {feedbackGiven && (\n            <p className=\"feedback-thanks\">Teşekkürler! Geri bildiriminiz kaydedildi.</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NoDataMessage;\n","import React from 'react';\nimport { Message } from '../../../types';\nimport './ErrorMessage.css';\nimport '../chatbot.css';\n\ninterface ErrorMessageProps {\n  message: Message;\n}\n\nconst ErrorMessage: React.FC<ErrorMessageProps> = ({ message }) => {\n  const errorData = message.data || {};\n  const errorType = errorData.error || 'UNKNOWN_ERROR';\n  \n  // API'den dönen hata mesajını öncelikle kullan\n  let errorMessage = 'Bir hata oluştu';\n  \n  // Eğer message.data içinde success: false varsa, message.message'ı kullan\n  if (errorData.success === false && message.message) {\n    errorMessage = message.message;\n  } else if (errorData.message) {\n    // Eğer errorData içinde message varsa onu kullan\n    errorMessage = errorData.message;\n  } else if (message.message) {\n    // Son olarak message.message'ı kullan\n    errorMessage = message.message;\n  }\n  \n  const redirectUrl = errorData.redirect;\n\n  const getErrorIcon = () => {\n    switch (errorType) {\n      case 'NO_USAGE_TOKENS':\n        return '🔑';\n      case 'USAGE_TOKENS_EXPIRED':\n        return '⏰';\n      case 'INSUFFICIENT_TOKENS':\n        return '💳';\n      case 'INVALID_PROJECT':\n        return '🚫';\n      default:\n        return '⚠️';\n    }\n  };\n\n  const getErrorTitle = () => {\n    switch (errorType) {\n      case 'NO_USAGE_TOKENS':\n        return 'Token Bulunamadı';\n      case 'USAGE_TOKENS_EXPIRED':\n        return 'Token Süresi Dolmuş';\n      case 'INSUFFICIENT_TOKENS':\n        return 'Yetersiz Token';\n      case 'INVALID_PROJECT':\n        return 'Geçersiz Proje';\n      default:\n        return 'Hata';\n    }\n  };\n\n  const getErrorDescription = () => {\n    // Özel hata türleri için önceden tanımlanmış mesajlar\n    switch (errorType) {\n      case 'NO_USAGE_TOKENS':\n        return 'Kullanım token\\'ınız bulunmuyor. Ürünü kullanmak için satın almanız gerekiyor.';\n      case 'USAGE_TOKENS_EXPIRED':\n        return 'Abonelik süreniz dolmuş. Ürünü kullanmak için satın almanız gerekiyor.';\n      case 'INSUFFICIENT_TOKENS':\n        return 'Yetersiz kullanım token\\'ı. Lütfen ürün kullanımı için token satın almanız gerekiyor.';\n      case 'INVALID_PROJECT':\n        return errorMessage; // API'den dönen mesajı göster\n      default:\n        return errorMessage; // API'den dönen mesajı göster\n    }\n  };\n\n  const getTokenInfo = () => {\n    if (errorType === 'INSUFFICIENT_TOKENS' && errorData.tokens_remaining !== undefined) {\n      return (\n        <div className=\"token-info\">\n          <div className=\"token-stats\">\n            <div className=\"token-stat\">\n              <span className=\"label\">Kalan Token:</span>\n              <span className=\"value\">{errorData.tokens_remaining}</span>\n            </div>\n            <div className=\"token-stat\">\n              <span className=\"label\">Kullanılan:</span>\n              <span className=\"value\">{errorData.tokens_used}</span>\n            </div>\n            <div className=\"token-stat\">\n              <span className=\"label\">Toplam:</span>\n              <span className=\"value\">{errorData.tokens_total}</span>\n            </div>\n          </div>\n          <div className=\"usage-bar\">\n            <div \n              className=\"usage-fill\" \n              style={{ width: `${errorData.usage_percentage || 0}%` }}\n            ></div>\n          </div>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const handleUpgrade = () => {\n    if (redirectUrl) {\n      window.open(redirectUrl, '_blank');\n    }\n  };\n\n  return (\n    <div className=\"error-message\">\n      <div className=\"error-header\">\n        <div className=\"error-icon\">{getErrorIcon()}</div>\n        <div className=\"error-content\">\n          <h3 className=\"error-title\">{getErrorTitle()}</h3>\n          <p className=\"error-description\">{getErrorDescription()}</p>\n        </div>\n      </div>\n      \n      {getTokenInfo()}\n      \n      {redirectUrl && (\n        <div className=\"error-actions\">\n          <button \n            className=\"upgrade-button\"\n            onClick={handleUpgrade}\n          >\n            Planı Güncelle\n          </button>\n        </div>\n      )}\n      \n    </div>\n  );\n};\n\nexport default ErrorMessage;\n","import React from 'react';\nimport { Message, Product, FeedbackData } from '../../types';\nimport { getAILogoUrls } from '../../utils/imageUtils';\nimport './MessageItem.css';\n// import TTSButton from './TTSButton';\nimport ProductRecommendationMessage from './templates/ProductRecommendationMessage';\nimport ProductDetailMessage from './templates/ProductDetailMessage';\nimport PriceComparisonMessage from './templates/PriceComparisonMessage/PriceComparisonMessage';\nimport FeedbackMessage from './templates/FeedbackMessage';\nimport GeneralMessage from './templates/GeneralMessage';\nimport OrderMessage from './templates/OrderMessage';\nimport CargoTrackingMessage from './templates/CargoTrackingMessage';\nimport ShimmerMessage from './ShimmerMessage';\nimport NoDataMessage from './templates/NoDataMessage';\nimport ErrorMessage from './templates/ErrorMessage';\n\n\ninterface MessageItemProps {\n  message: Message;\n  onProductClick: (product: Product) => void;\n  onFeedback: (feedback: FeedbackData) => void;\n  onAddMessage?: (text: string, role: 'user' | 'agent', products?: any[], additionalData?: any) => void;\n  onSendMessage?: (text: string) => void;\n}\n\nconst MessageItem: React.FC<MessageItemProps> = ({ message, onProductClick, onFeedback, onAddMessage, onSendMessage }) => {\n  const isUser = message.role === 'user';\n\n  // Intent bazlı component mapping sistemi\n  const renderIntentBasedComponent = () => {\n    if (isUser) return null; // User mesajları için component render etme\n\n    const messageType = message.type || message.intent || 'general';\n    \n    // Debug log removed for production\n    \n    switch (messageType) {\n      case 'product_recommendation':\n      case 'product_inquiry':\n      case 'category_browse': // Kategori tarama için eklendi\n      case 'order_inquiry': // Now handles both order inquiry and recommendations\n      case 'smart_recommendation':\n      case 'trend_products':\n      case 'contextual_recommendation':\n      case 'category_recommendation':\n        return (\n          <ProductRecommendationMessage \n            message={message}\n            onProductClick={onProductClick}\n            onFeedback={onFeedback}\n            onAddMessage={onAddMessage}\n            onSendMessage={onSendMessage}\n          />\n        );\n        \n      case 'product_detail':\n        return (\n          <ProductDetailMessage \n            message={message}\n            onProductClick={onProductClick}\n            onAddMessage={onAddMessage}\n          />\n        );\n        \n      case 'price_comparison_result':\n        return (\n          <PriceComparisonMessage \n            message={message}\n            onProductClick={onProductClick}\n          />\n        );\n        \n      case 'product_link':\n        return (\n          <div className=\"message agent-message\">\n            <div className=\"message-content-wrapper\">\n              <div \n                className=\"product-link-message\"\n                style={{\n                  padding: '12px 16px',\n                  backgroundColor: 'rgba(59, 130, 246, 0.1)',\n                  border: '1px solid rgba(59, 130, 246, 0.3)',\n                  borderRadius: '8px',\n                  margin: '8px 0'\n                }}\n              >\n                <div \n                  style={{ \n                    fontSize: '14px', \n                    lineHeight: '1.5',\n                    color: '#E5E7EB'\n                  }}\n                  dangerouslySetInnerHTML={{\n                    __html: message.content.replace(\n                      /\\[([^\\]]+)\\]\\(([^)]+)\\)/g,\n                      '<a href=\"$2\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color: #60A5FA; text-decoration: underline; font-weight: 500;\">$1</a>'\n                    ).replace(/\\*\\*([^*]+)\\*\\*/g, '<strong style=\"color: #F3F4F6;\">$1</strong>')\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        );\n        \n      case 'product_search': { // Ürün arama - ürün bulunamadığında NoDataMessage göster\n        // Ürün bulunamadığında NoDataMessage göster\n        const products = message.products || message.data?.products || [];\n        if (products.length === 0) {\n          return (\n            <NoDataMessage \n              message={message}\n              onFeedback={onFeedback}\n            />\n          );\n        }\n        // Ürün varsa normal ProductRecommendationMessage göster\n        return (\n          <ProductRecommendationMessage \n            message={message}\n            onProductClick={onProductClick}\n            onFeedback={onFeedback}\n            onAddMessage={onAddMessage}\n            onSendMessage={onSendMessage}\n          />\n        );\n      }\n        \n      case 'feedback':\n        return (\n          <FeedbackMessage \n            message={message}\n            onFeedback={onFeedback}\n          />\n        );\n        \n              case 'order_tracking':\n          return (\n            <OrderMessage \n              message={message}\n              onFeedback={onFeedback}\n            />\n          );\n        \n      case 'cargo_tracking':\n        return (\n          <CargoTrackingMessage \n            message={message}\n            onFeedback={onFeedback}\n          />\n        );\n        \n      case 'campaign_inquiry':\n        return (\n          <GeneralMessage \n            message={message}\n            onFeedback={onFeedback}\n          />\n        );\n        \n      case 'shimmer':\n        return (\n          <ShimmerMessage \n            type={message.shimmerType}\n          />\n        );\n        \n      case 'greeting':\n      case 'help_request':\n      case 'price_inquiry':\n      case 'general':\n        // Funnel intents - sadece analytics için, UI'da general message olarak göster\n        break;\n      case 'capabilities_inquiry':\n      case 'contact_request':\n      case 'project_info':\n      case 'conversion_guidance':\n      case 'pricing_guidance':\n      case 'demo_request':\n      case 'product_recommendations':\n        break;\n      case 'error':\n      case 'token_error':\n        // Error mesajları için özel component\n        if (message.data && message.data.error) {\n          return <ErrorMessage message={message} />;\n        }\n        break;\n      default:\n        return (\n          <GeneralMessage \n            message={message}\n            onFeedback={onFeedback}\n          />\n        );\n    }\n  };\n\n  // User mesajları için basit render\n  if (isUser) {\n    return (\n      <div className=\"message-group user\">\n        <div className=\"message user-message\">\n          {/* Message Content Wrapper */}\n          <div className=\"message-content-wrapper\">\n            {message.content}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Bot mesajları için intent bazlı component render\n  const logoUrls = getAILogoUrls();\n  \n  return (\n    <div className=\"message-group\">\n      <div className=\"agent-avatar\">\n        <img src={logoUrls.small} alt=\"AI Conversion Agent\" />\n      </div>\n      {renderIntentBasedComponent()}\n    </div>\n  );\n};\n\nexport default MessageItem;\n","import React from 'react';\nimport { useTTS } from '../../../hooks/useTTS';\nimport './TTSButton.css';\n\ninterface TTSButtonProps {\n  text: string;\n  isUser?: boolean;\n  className?: string;\n}\n\nconst TTSButton: React.FC<TTSButtonProps> = ({ text, isUser = false, className = '' }) => {\n  const { speak, stop, isCurrentlyPlaying } = useTTS();\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    \n    if (isCurrentlyPlaying(text)) {\n      // If currently playing this text, stop it\n      stop();\n    } else {\n      // Otherwise, speak the text\n      speak(text);\n    }\n  };\n\n  const isPlaying = isCurrentlyPlaying(text);\n\n  return (\n    <button \n      className={`tts-button ${isUser ? 'user' : ''} ${isPlaying ? 'playing' : ''} ${className}`}\n      onClick={handleClick}\n      title={isPlaying ? \"Sesi Durdur\" : \"Metni Seslendir\"}\n    >\n      <span className=\"tts-icon\"></span>\n    </button>\n  );\n};\n\nexport default TTSButton;\n","import { useState, useRef, useCallback, useMemo } from 'react';\n\ninterface TTSOptions {\n  lang?: string;\n  rate?: number;\n  pitch?: number;\n  volume?: number;\n}\n\nexport const useTTS = (options: TTSOptions = {}) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentText, setCurrentText] = useState('');\n  const currentSpeechRef = useRef<SpeechSynthesisUtterance | null>(null);\n\n  const defaultOptions = useMemo(() => ({\n    lang: 'tr-TR',\n    rate: 0.9,\n    pitch: 1,\n    volume: 1,\n    ...options\n  }), [options]);\n\n  const speak = useCallback((text: string) => {\n    // Stop any current speech\n    if (currentSpeechRef.current) {\n      speechSynthesis.cancel();\n      currentSpeechRef.current = null;\n    }\n\n    // Check if speech synthesis is supported\n    if (!('speechSynthesis' in window)) {\n      alert('Bu tarayıcıda text-to-speech desteklenmiyor.');\n      return;\n    }\n\n    // Create speech utterance\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.lang = defaultOptions.lang!;\n    utterance.rate = defaultOptions.rate!;\n    utterance.pitch = defaultOptions.pitch!;\n    utterance.volume = defaultOptions.volume!;\n\n    // Set current text and playing state\n    setCurrentText(text);\n    setIsPlaying(true);\n\n    // Speech events\n    utterance.onstart = () => {\n      // TTS started\n    };\n\n    utterance.onend = () => {\n      setIsPlaying(false);\n      setCurrentText('');\n      currentSpeechRef.current = null;\n    };\n\n    utterance.onerror = (event) => {\n      setIsPlaying(false);\n      setCurrentText('');\n      currentSpeechRef.current = null;\n    };\n\n    // Start speaking\n    currentSpeechRef.current = utterance;\n    speechSynthesis.speak(utterance);\n  }, [defaultOptions]);\n\n  const stop = useCallback(() => {\n    if (currentSpeechRef.current) {\n      speechSynthesis.cancel();\n      currentSpeechRef.current = null;\n      setIsPlaying(false);\n      setCurrentText('');\n    }\n  }, []);\n\n  const isCurrentlyPlaying = useCallback((text: string) => {\n    return isPlaying && currentText === text;\n  }, [isPlaying, currentText]);\n\n  return {\n    speak,\n    stop,\n    isPlaying,\n    currentText,\n    isCurrentlyPlaying\n  };\n};\n","import React from 'react';\nimport TTSButton from './TTSButton';\nimport { getAILogoUrls } from '../../utils/imageUtils';\nimport './WelcomeMessage.css';\n\ninterface WelcomeMessageProps {\n  welcomeText: string;\n  agentName: string;\n  logoUrl?: string;\n}\n\nconst WelcomeMessage: React.FC<WelcomeMessageProps> = ({ \n  welcomeText, \n  agentName, \n  logoUrl \n}) => {\n  const defaultLogoUrl = logoUrl || getAILogoUrls().small;\n  return (\n    <div className=\"welcome-message-container\">\n      <div className=\"welcome-logo\">\n        <img src={defaultLogoUrl} alt={agentName} />\n      </div>\n      <div className=\"welcome-agent-name\">\n        {agentName}\n      </div>\n      <div className=\"welcome-text\">\n        {welcomeText}\n      </div>\n      <div className=\"welcome-tts\">\n        <TTSButton text={welcomeText} />\n      </div>\n    </div>\n  );\n};\n\nexport default WelcomeMessage;\n","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","/**\n * Browser UUID Service\n * Otomatik UUID oluşturma ve persistence yönetimi\n */\n\nexport interface UuidConfig {\n  prefix: string;\n  storageKey: string;\n  expiryHours: number;\n}\n\nexport class UuidService {\n  private static instance: UuidService;\n  private config: UuidConfig = {\n    prefix: 'browser_',\n    storageKey: 'convstateai_browser_uuid',\n    expiryHours: 72 // 72 saat\n  };\n\n  private constructor() {}\n\n  static getInstance(): UuidService {\n    if (!UuidService.instance) {\n      UuidService.instance = new UuidService();\n    }\n    return UuidService.instance;\n  }\n\n  /**\n   * Browser UUID'yi al veya oluştur\n   */\n  getBrowserUuid(): string {\n    try {\n      // LocalStorage'dan mevcut UUID'yi kontrol et\n      const stored = this.getStoredUuid();\n      \n      if (stored && this.isUuidValid(stored)) {\n        // //console.log('Using existing browser UUID:', stored.uuid);\n        return stored.uuid;\n      }\n\n      // Yeni UUID oluştur\n      const newUuid = this.generateUuid();\n      this.storeUuid(newUuid);\n      \n      // //console.log('Generated new browser UUID:', newUuid);\n      return newUuid;\n      \n    } catch (error) {\n      // Error getting browser UUID\n      // Fallback: basit UUID oluştur\n      return this.generateUuid();\n    }\n  }\n\n  /**\n   * UUID oluştur\n   */\n  private generateUuid(): string {\n    const timestamp = Date.now();\n    const random = Math.random().toString(36).substr(2, 9);\n    const browserInfo = this.getBrowserFingerprint();\n    \n    return `${this.config.prefix}${timestamp}_${random}_${browserInfo}`;\n  }\n\n  /**\n   * Browser fingerprint oluştur (basit)\n   */\n  private getBrowserFingerprint(): string {\n    try {\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      if (ctx) {\n        ctx.textBaseline = 'top';\n        ctx.font = '14px Arial';\n        ctx.fillText('Browser fingerprint', 2, 2);\n      }\n      \n      const fingerprint = [\n        navigator.userAgent,\n        navigator.language,\n        window.screen.width + 'x' + window.screen.height,\n        new Date().getTimezoneOffset(),\n        canvas.toDataURL().slice(-10) // Son 10 karakter\n      ].join('|');\n      \n      // Hash oluştur (basit)\n      let hash = 0;\n      for (let i = 0; i < fingerprint.length; i++) {\n        const char = fingerprint.charCodeAt(i);\n        hash = ((hash << 5) - hash) + char;\n        hash = hash & hash; // 32bit integer'a çevir\n      }\n      \n      return Math.abs(hash).toString(36).substr(0, 8);\n    } catch (error) {\n      // Browser fingerprint failed, using fallback\n      return Math.random().toString(36).substr(2, 8);\n    }\n  }\n\n  /**\n   * Stored UUID'yi al\n   */\n  private getStoredUuid(): { uuid: string; timestamp: number } | null {\n    try {\n      const stored = localStorage.getItem(this.config.storageKey);\n      if (!stored) return null;\n      \n      const parsed = JSON.parse(stored);\n      return {\n        uuid: parsed.uuid,\n        timestamp: parsed.timestamp\n      };\n    } catch (error) {\n      // Error reading stored UUID\n      return null;\n    }\n  }\n\n  /**\n   * UUID'yi kaydet\n   */\n  private storeUuid(uuid: string): void {\n    try {\n      const data = {\n        uuid,\n        timestamp: Date.now()\n      };\n      \n      localStorage.setItem(this.config.storageKey, JSON.stringify(data));\n    } catch (error) {\n      // Error storing UUID\n    }\n  }\n\n  /**\n   * UUID'nin geçerli olup olmadığını kontrol et\n   */\n  private isUuidValid(stored: { uuid: string; timestamp: number }): boolean {\n    const now = Date.now();\n    const expiryTime = this.config.expiryHours * 60 * 60 * 1000; // 72 saat\n    const isValid = (now - stored.timestamp) < expiryTime;\n    \n    if (!isValid) {\n      // //console.log('Browser UUID expired, generating new one');\n    }\n    \n    return isValid;\n  }\n\n  /**\n   * UUID'yi yenile (force refresh)\n   */\n  refreshUuid(): string {\n    // //console.log('Refreshing browser UUID');\n    const newUuid = this.generateUuid();\n    this.storeUuid(newUuid);\n    return newUuid;\n  }\n\n  /**\n   * UUID'yi temizle\n   */\n  clearUuid(): void {\n    try {\n      localStorage.removeItem(this.config.storageKey);\n      // //console.log('Browser UUID cleared');\n    } catch (error) {\n      // Error clearing UUID\n    }\n  }\n\n  /**\n   * UUID bilgilerini al\n   */\n  getUuidInfo(): { uuid: string; created: Date; expires: Date; isValid: boolean } | null {\n    const stored = this.getStoredUuid();\n    if (!stored) return null;\n\n    const created = new Date(stored.timestamp);\n    const expires = new Date(stored.timestamp + (this.config.expiryHours * 60 * 60 * 1000));\n    const isValid = this.isUuidValid(stored);\n\n    return {\n      uuid: stored.uuid,\n      created,\n      expires,\n      isValid\n    };\n  }\n\n  /**\n   * Debug bilgileri - Production'da kaldırıldı\n   */\n  getDebugInfo(): any {\n    // Production mode - no debug info\n    return null;\n  }\n}\n\n// Singleton instance export\nexport const uuidService = UuidService.getInstance();\n","import { EmbedConfig, UsageToken } from '../types';\n\nexport class AuthService {\n  private static instance: AuthService;\n  private token: string | null = null;\n  private userId: string | null = null;\n  private projectId: string | null = null;\n  private config: EmbedConfig | null = null;\n  private usageToken: UsageToken | null = null;\n\n  private constructor() {}\n\n  static getInstance(): AuthService {\n    if (!AuthService.instance) {\n      AuthService.instance = new AuthService();\n    }\n    return AuthService.instance;\n  }\n\n  setConfig(config: EmbedConfig): void {\n    this.config = config;\n    this.projectId = config.projectId;\n    \n    if (config.auth) {\n      this.token = config.auth.token || null;\n      this.userId = config.auth.userId || null;\n    }\n    \n    // CustomizationToken'ı da token olarak kullan\n    if (config.customizationToken) {\n      this.token = config.customizationToken;\n    }\n  }\n\n  setCredentials(token: string, userId: string): void {\n    this.token = token;\n    this.userId = userId;\n  }\n\n  getAuthHeaders(): Record<string, string> {\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    };\n\n    if (this.projectId) {\n      headers['X-Project-ID'] = this.projectId;\n    }\n\n    if (this.token) {\n      headers['Authorization'] = `Bearer ${this.token}`;\n    }\n\n    if (this.userId) {\n      headers['X-User-ID'] = this.userId;\n    }\n\n    return headers;\n  }\n\n  isAuthenticated(): boolean {\n    return !!(this.token && this.userId);\n  }\n\n  getProjectId(): string | null {\n    return this.projectId;\n  }\n\n  getUserId(): string | null {\n    return this.userId;\n  }\n\n  getToken(): string | null {\n    return this.token;\n  }\n\n  getConfig(): EmbedConfig | null {\n    return this.config;\n  }\n\n  clearAuth(): void {\n    this.token = null;\n    this.userId = null;\n    this.usageToken = null;\n  }\n\n  // ===== TOKEN MANAGEMENT METHODS =====\n\n  /**\n   * Usage token bilgilerini set et\n   */\n  setUsageToken(usageToken: UsageToken): void {\n    this.usageToken = usageToken;\n  }\n\n  /**\n   * Usage token bilgilerini getir\n   */\n  getUsageToken(): UsageToken | null {\n    return this.usageToken;\n  }\n\n  /**\n   * Token kullanılabilir mi kontrol et\n   */\n  canUseToken(): boolean {\n    if (!this.usageToken) {\n      return false;\n    }\n    return this.usageToken.can_use_token && !this.usageToken.is_expired;\n  }\n\n  /**\n   * Token'ların süresi dolmuş mu?\n   */\n  isTokenExpired(): boolean {\n    if (!this.usageToken) {\n      return true;\n    }\n    return this.usageToken.is_expired;\n  }\n\n  /**\n   * Kalan token sayısını getir\n   */\n  getRemainingTokens(): number {\n    return this.usageToken?.tokens_remaining || 0;\n  }\n\n  /**\n   * Kullanım yüzdesini getir\n   */\n  getUsagePercentage(): number {\n    return this.usageToken?.usage_percentage || 0;\n  }\n\n  /**\n   * Token reset tarihini getir\n   */\n  getTokenResetDate(): string | null {\n    return this.usageToken?.reset_date || null;\n  }\n\n  /**\n   * Kalan gün sayısını getir\n   */\n  getDaysUntilReset(): number {\n    return this.usageToken?.days_until_reset || 0;\n  }\n\n  /**\n   * Token durumu hakkında bilgi getir\n   */\n  getTokenStatus(): {\n    canUse: boolean;\n    isExpired: boolean;\n    remaining: number;\n    used: number;\n    total: number;\n    percentage: number;\n    resetDate: string | null;\n    daysUntilReset: number;\n  } {\n    return {\n      canUse: this.canUseToken(),\n      isExpired: this.isTokenExpired(),\n      remaining: this.getRemainingTokens(),\n      used: this.usageToken?.tokens_used || 0,\n      total: this.usageToken?.tokens_total || 0,\n      percentage: this.getUsagePercentage(),\n      resetDate: this.getTokenResetDate(),\n      daysUntilReset: this.getDaysUntilReset()\n    };\n  }\n}\n","import { Message } from '../types';\n\nexport interface APIError {\n  type: 'network' | 'server' | 'client' | 'timeout' | 'unknown';\n  status?: number;\n  message: string;\n  details?: any;\n  timestamp: number;\n}\n\nexport interface ErrorWidgetConfig {\n  showRetry: boolean;\n  showDetails: boolean;\n  autoHide: boolean;\n  hideDelay: number;\n  redirectUrl?: string;\n}\n\nexport class ErrorService {\n  private static instance: ErrorService;\n  private errorHandlers: ((error: APIError) => void)[] = [];\n\n  private constructor() {}\n\n  static getInstance(): ErrorService {\n    if (!ErrorService.instance) {\n      ErrorService.instance = new ErrorService();\n    }\n    return ErrorService.instance;\n  }\n\n  /**\n   * Hata yakalama fonksiyonunu kaydet\n   */\n  onError(handler: (error: APIError) => void): () => void {\n    this.errorHandlers.push(handler);\n    return () => {\n      const index = this.errorHandlers.indexOf(handler);\n      if (index > -1) {\n        this.errorHandlers.splice(index, 1);\n      }\n    };\n  }\n\n  /**\n   * API hatasını işle ve widget'ı göster\n   */\n  handleAPIError(error: any, context?: string): APIError {\n    const apiError = this.parseError(error, context);\n    this.notifyError(apiError);\n    return apiError;\n  }\n\n  /**\n   * Hata mesajını parse et\n   */\n  private parseError(error: any, context?: string): APIError {\n    const timestamp = Date.now();\n    \n    // Network hatası\n    if (error instanceof TypeError && error.message.includes('fetch')) {\n      return {\n        type: 'network',\n        message: 'Bağlantı hatası. İnternet bağlantınızı kontrol edin.',\n        details: { originalError: error.message, context },\n        timestamp\n      };\n    }\n\n    // HTTP status hatası\n    if (error.status || (error.response && error.response.status)) {\n      const status = error.status || error.response.status;\n      return {\n        type: 'server',\n        status,\n        message: this.getStatusMessage(status),\n        details: { originalError: error, context },\n        timestamp\n      };\n    }\n\n    // Timeout hatası\n    if (error.name === 'AbortError' || error.message?.includes('timeout')) {\n      return {\n        type: 'timeout',\n        message: 'İstek zaman aşımına uğradı. Lütfen tekrar deneyin.',\n        details: { originalError: error, context },\n        timestamp\n      };\n    }\n\n    // Client hatası (4xx)\n    if (error.status >= 400 && error.status < 500) {\n      return {\n        type: 'client',\n        status: error.status,\n        message: this.getClientErrorMessage(error),\n        details: { originalError: error, context },\n        timestamp\n      };\n    }\n\n    // Bilinmeyen hata\n    return {\n      type: 'unknown',\n      message: error.message || 'Bilinmeyen bir hata oluştu.',\n      details: { originalError: error, context },\n      timestamp\n    };\n  }\n\n  /**\n   * HTTP status koduna göre mesaj döndür\n   */\n  private getStatusMessage(status: number): string {\n    switch (status) {\n      case 400:\n        return 'Geçersiz istek. Lütfen verilerinizi kontrol edin.';\n      case 401:\n        return 'Yetkilendirme hatası. Lütfen giriş yapın.';\n      case 403:\n        return 'Bu işlem için yetkiniz bulunmuyor.';\n      case 404:\n        return 'İstenen kaynak bulunamadı.';\n      case 408:\n        return 'İstek zaman aşımına uğradı.';\n      case 429:\n        return 'Çok fazla istek gönderildi. Lütfen bekleyin.';\n      case 500:\n        return 'Sunucu hatası. Lütfen daha sonra tekrar deneyin.';\n      case 502:\n        return 'Sunucu geçici olarak kullanılamıyor.';\n      case 503:\n        return 'Hizmet geçici olarak kullanılamıyor.';\n      case 504:\n        return 'Sunucu yanıt vermiyor.';\n      default:\n        return `Sunucu hatası (${status}). Lütfen daha sonra tekrar deneyin.`;\n    }\n  }\n\n  /**\n   * Client hata mesajını al\n   */\n  private getClientErrorMessage(error: any): string {\n    // API'den gelen hata mesajını kontrol et\n    if (error.data?.message) {\n      return error.data.message;\n    }\n    \n    if (error.message) {\n      return error.message;\n    }\n\n    return this.getStatusMessage(error.status);\n  }\n\n  /**\n   * Hata widget'ını göster\n   */\n  private notifyError(error: APIError): void {\n    this.errorHandlers.forEach(handler => {\n      try {\n        handler(error);\n      } catch (e) {\n        console.error('Error handler failed:', e);\n      }\n    });\n  }\n\n  /**\n   * Hata widget'ı için konfigürasyon al\n   */\n  getErrorWidgetConfig(error: APIError): ErrorWidgetConfig {\n    switch (error.type) {\n      case 'network':\n        return {\n          showRetry: true,\n          showDetails: false,\n          autoHide: false,\n          hideDelay: 0\n        };\n      \n      case 'timeout':\n        return {\n          showRetry: true,\n          showDetails: false,\n          autoHide: false,\n          hideDelay: 0\n        };\n      \n      case 'client':\n        if (error.status === 401 || error.status === 403) {\n          return {\n            showRetry: false,\n            showDetails: false,\n            autoHide: false,\n            hideDelay: 0,\n            redirectUrl: '/login'\n          };\n        }\n        return {\n          showRetry: true,\n          showDetails: true,\n          autoHide: true,\n          hideDelay: 5000\n        };\n      \n      case 'server':\n        return {\n          showRetry: true,\n          showDetails: true,\n          autoHide: true,\n          hideDelay: 8000\n        };\n      \n      default:\n        return {\n          showRetry: true,\n          showDetails: false,\n          autoHide: true,\n          hideDelay: 5000\n        };\n    }\n  }\n\n  /**\n   * Hata mesajını Message formatına çevir\n   */\n  createErrorMessage(apiError: APIError): Message {\n    return {\n      id: `error_${apiError.timestamp}`,\n      role: 'agent',\n      content: apiError.message,\n      type: 'error',\n      message: apiError.message,\n      timestamp: new Date(apiError.timestamp),\n      data: {\n        error: apiError.type.toUpperCase(),\n        status: apiError.status,\n        details: apiError.details,\n        config: this.getErrorWidgetConfig(apiError)\n      }\n    };\n  }\n}\n\nexport const errorService = ErrorService.getInstance();\n","import { AuthService } from './AuthService';\nimport { uuidService } from './UuidService';\nimport { errorService } from './ErrorService';\nimport { \n  UsageToken, \n  Plan, \n  Subscription, \n  AddTokenResponse, \n  ExhaustTokenResponse, \n  UsageResponse, \n  PlansResponse, \n  SubscriptionResponse,\n  APIError \n} from '../types';\n\nexport interface ApiResponse<T = any> {\n  success: boolean;\n  data?: T;\n  message?: string;\n  error?: string;\n}\n\nexport class ApiService {\n  private static instance: ApiService;\n  private authService = AuthService.getInstance();\n  private baseUrl: string = '';\n\n  private constructor() {}\n\n  static getInstance(): ApiService {\n    if (!ApiService.instance) {\n      ApiService.instance = new ApiService();\n    }\n    return ApiService.instance;\n  }\n\n  setBaseUrl(url: string): void {\n    this.baseUrl = url;\n  }\n\n  private async makeRequest<T>(\n    endpoint: string, \n    options: RequestInit = {}\n  ): Promise<ApiResponse<T>> {\n    try {\n      const url = `${this.baseUrl}${endpoint}`;\n      const headers = {\n        ...this.authService.getAuthHeaders(),\n        ...options.headers\n      };\n\n      const response = await fetch(url, {\n        ...options,\n        headers\n      });\n\n      if (!response.ok) {\n        const errorData = {\n          status: response.status,\n          statusText: response.statusText,\n          url: url,\n          endpoint: endpoint\n        };\n        \n        // Hata widget'ını göster\n        errorService.handleAPIError(errorData, `API Request: ${endpoint}`);\n        \n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      // API Request failed - hata widget'ını göster\n      errorService.handleAPIError(error, `API Request: ${endpoint}`);\n      \n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error'\n      };\n    }\n  }\n\n  async sendMessage(message: string, projectId: number = 1): Promise<ApiResponse> {\n    const browserUuid = uuidService.getBrowserUuid();\n    \n    return this.makeRequest('/chat', {\n      method: 'POST',\n      headers: {\n        'X-Browser-UUID': browserUuid\n      },\n      body: JSON.stringify({\n        message,\n        project_id: projectId,\n        browser_uuid: browserUuid\n      })\n    });\n  }\n\n  async trackCargo(trackingNumber: string): Promise<ApiResponse> {\n    return this.makeRequest('/cargo/track', {\n      method: 'POST',\n      body: JSON.stringify({\n        tracking_number: trackingNumber\n      })\n    });\n  }\n\n  async getWidgetCustomization(): Promise<ApiResponse> {\n    return this.makeRequest('/widget-customization', {\n      method: 'GET'\n    });\n  }\n\n  async testEndpoint(endpoint: string): Promise<ApiResponse> {\n    return this.makeRequest('/test-endpoint', {\n      method: 'POST',\n      body: JSON.stringify({\n        endpoint\n      })\n    });\n  }\n\n  /**\n   * Browser UUID'yi al\n   */\n  getBrowserUuid(): string {\n    return uuidService.getBrowserUuid();\n  }\n\n  /**\n   * UUID'yi yenile\n   */\n  refreshBrowserUuid(): string {\n    return uuidService.refreshUuid();\n  }\n\n  /**\n   * UUID debug bilgileri - Production'da kaldırıldı\n   */\n  getUuidDebugInfo(): any {\n    // Production mode - no debug info\n    return null;\n  }\n\n  // ===== TOKEN MANAGEMENT METHODS =====\n\n  /**\n   * Kullanıcıya token ekle\n   */\n  async addTokens(userId: number, tokens: number): Promise<ApiResponse<AddTokenResponse>> {\n    return this.makeRequest('/add-token', {\n      method: 'POST',\n      body: JSON.stringify({\n        user_id: userId,\n        tokens: tokens\n      })\n    });\n  }\n\n  /**\n   * Kullanıcının token'larını tüket\n   */\n  async exhaustTokens(userId: number): Promise<ApiResponse<ExhaustTokenResponse>> {\n    return this.makeRequest('/exhaust-token', {\n      method: 'POST',\n      body: JSON.stringify({\n        user_id: userId\n      })\n    });\n  }\n\n  // ===== SUBSCRIPTION MANAGEMENT METHODS =====\n\n  /**\n   * Kullanım bilgilerini getir\n   */\n  async getUsage(): Promise<ApiResponse<UsageToken>> {\n    return this.makeRequest('/subscription/usage', {\n      method: 'GET'\n    });\n  }\n\n  /**\n   * Plan listesini getir\n   */\n  async getPlans(): Promise<ApiResponse<Plan[]>> {\n    return this.makeRequest('/subscription/plans', {\n      method: 'GET'\n    });\n  }\n\n  /**\n   * Fatura geçmişini getir\n   */\n  async getBillingHistory(): Promise<ApiResponse<any[]>> {\n    return this.makeRequest('/subscription/billing-history', {\n      method: 'GET'\n    });\n  }\n\n  // ===== ERROR HANDLING METHODS =====\n\n  /**\n   * API hatalarını kontrol et ve uygun mesaj döndür\n   */\n  handleAPIError(error: any): string {\n    if (error?.error) {\n      switch (error.error) {\n        case 'NO_ACTIVE_PLAN':\n          return 'Aktif planınız bulunmuyor. Lütfen bir plan satın alın.';\n        case 'USAGE_TOKENS_EXPIRED':\n          return 'Kullanım token\\'larınızın süresi dolmuş. Lütfen planınızı yenileyin.';\n        case 'INSUFFICIENT_TOKENS':\n          return 'Yetersiz kullanım token\\'ı. Lütfen daha fazla token satın alın.';\n        case 'TOKEN_VALIDATION_ERROR':\n          return 'Token doğrulama hatası. Lütfen tekrar deneyin.';\n        case 'MISSING_PROJECT_ID':\n          return 'Proje ID eksik. Lütfen proje ayarlarınızı kontrol edin.';\n        case 'PROJECT_NOT_FOUND':\n          return 'Proje bulunamadı. Lütfen proje ayarlarınızı kontrol edin.';\n        case 'USER_NOT_FOUND':\n          return 'Kullanıcı bulunamadı. Lütfen giriş yapın.';\n        default:\n          return error.message || 'Bilinmeyen bir hata oluştu.';\n      }\n    }\n    return error?.message || 'Bilinmeyen bir hata oluştu.';\n  }\n\n  /**\n   * Token durumunu kontrol et\n   */\n  async checkTokenStatus(): Promise<{ canUse: boolean; error?: string; usage?: UsageToken }> {\n    try {\n      const usageResponse = await this.getUsage();\n      \n      if (!usageResponse.success) {\n        return {\n          canUse: false,\n          error: this.handleAPIError(usageResponse)\n        };\n      }\n\n      const usage = usageResponse.data as UsageToken;\n      \n      return {\n        canUse: usage.can_use_token && !usage.is_expired,\n        usage: usage,\n        error: usage.can_use_token ? undefined : 'Yetersiz token veya süresi dolmuş'\n      };\n    } catch (error) {\n      return {\n        canUse: false,\n        error: 'Token durumu kontrol edilemedi'\n      };\n    }\n  }\n}\n","import { useState, useCallback } from 'react';\nimport { buildApiUrl, getApiEndpoint } from '../config/api';\nimport { uuidService } from '../services/UuidService';\nimport { ApiService } from '../services/ApiService';\nimport { errorService } from '../services/ErrorService';\nimport { APIError } from '../types';\n\ninterface AIResponse {\n  type: string;\n  message: string;\n  products?: any[];\n  intent?: string;\n  confidence?: number;\n  suggestions?: string[];\n  data?: any;\n  session_id?: string;\n}\n\ninterface AIServiceOptions {\n  apiKey?: string;\n  model?: string;\n  temperature?: number;\n  maxTokens?: number;\n  projectId?: string;\n}\n\nexport const useAIService = (options: AIServiceOptions = {}) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const apiService = ApiService.getInstance();\n\n  // Browser UUID management sistemi\n  const getBrowserUuid = useCallback(() => {\n    return uuidService.getBrowserUuid();\n  }, []);\n\n  // API başarısız olduğunda sadece hata mesajı döndür\n  const generateLocalResponse = useCallback((userMessage: string, context?: any): AIResponse => {\n    return {\n      type: 'error',\n      message: 'API bağlantısı kurulamadı. Lütfen daha sonra tekrar deneyin.',\n      products: [],\n      intent: 'error',\n      confidence: 0.0,\n      suggestions: ['Tekrar dene', 'Yardım al']\n    };\n  }, []);\n\n  // AI Service with API integration - Ana fonksiyon\n  const generateAIResponse = useCallback(async (userMessage: string, context?: any): Promise<AIResponse> => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      \n      const browserUuid = getBrowserUuid();\n      \n      // Doğrudan Laravel backend'e istek at - Environment-based\n      const apiUrl = buildApiUrl(getApiEndpoint('CHAT'));\n      \n\n      \n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'X-Browser-UUID': browserUuid,\n          'X-Project-ID': options.projectId?.toString() || '1401'\n        },\n        body: JSON.stringify({\n          message: userMessage,\n          project_id: options.projectId || '1401',\n          browser_uuid: browserUuid,\n          context: context\n        })\n      });\n\n\n\n      const data = await response.json();\n      \n      // Debug log\n      console.log('API Response:', data);\n      \n      // API'den error response geldiğinde de işle (success: false)\n      if (!response.ok || data.success === false) {\n        // Token hatalarını özel olarak işle\n        if (data.error && ['NO_ACTIVE_PLAN', 'USAGE_TOKENS_EXPIRED', 'INSUFFICIENT_TOKENS', 'TOKEN_VALIDATION_ERROR'].includes(data.error)) {\n          const errorMessage = apiService.handleAPIError(data);\n          const errorResponse: AIResponse = {\n            type: 'token_error',\n            message: errorMessage,\n            products: [],\n            intent: 'error',\n            confidence: 0.0,\n            suggestions: ['Plan satın al', 'Token satın al', 'Yardım al'],\n            session_id: data.session_id || browserUuid,\n            data: {\n              error: data.error,\n              redirect: data.redirect,\n              tokens_remaining: data.tokens_remaining,\n              tokens_used: data.tokens_used,\n              tokens_total: data.tokens_total,\n              usage_percentage: data.usage_percentage,\n              reset_date: data.reset_date\n            }\n          };\n          \n          return errorResponse;\n        }\n\n        // Diğer hatalar için genel error handling\n        const errorResponse: AIResponse = {\n          type: data.type || 'error',\n          message: data.message || 'Bir hata oluştu',\n          products: data.data?.products || data.products || [],\n          intent: data.intent || data.type || 'error',\n          confidence: data.confidence || 0.0,\n          suggestions: [],\n          session_id: data.session_id || browserUuid,\n          data: data.data || data\n        };\n        \n        return errorResponse;\n      }\n\n      // Transform API response to AIResponse format\n      const aiResponse: AIResponse = {\n        type: data.type || 'general',\n        message: data.message || data.data?.message || 'Üzgünüm, şu anda yanıt veremiyorum.',\n        products: data.data?.products || data.products || [],\n        intent: data.intent || data.type || 'general',\n        confidence: data.confidence || 0.8,\n        suggestions: [], // API'den gelen suggestions kaldırıldı\n        session_id: data.session_id || browserUuid,\n        data: data.data || {}\n      };\n      \n      // Response validation - eğer message boş ise fallback kullan\n      if (!aiResponse.message || aiResponse.message.trim() === '') {\n        aiResponse.message = 'Üzgünüm, şu anda yanıt veremiyorum.';\n      }\n\n      // Products field'ını kontrol et\n      if (aiResponse.products && aiResponse.products.length > 0) {\n        // Products varsa ve type product_search veya category_browse ise product_recommendation yap\n        if (aiResponse.type === 'product_search' || aiResponse.type === 'category_browse') {\n          aiResponse.type = 'product_recommendation';\n        }\n      }\n      \n      // Response validation - products varsa type'ı product_recommendation yap\n      if (aiResponse.products && aiResponse.products.length > 0 && \n          (aiResponse.type === 'product_search' || aiResponse.type === 'category_browse')) {\n        aiResponse.type = 'product_recommendation';\n      }\n      \n      return aiResponse;\n      \n    } catch (error) {\n      // AI Service Error - hata widget'ını göster\n      const apiError = errorService.handleAPIError(error, 'AI Service');\n      setError(apiError.message);\n      \n      // Fallback to local response if API fails\n      return generateLocalResponse(userMessage, context);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [getBrowserUuid, generateLocalResponse, options.projectId, apiService]);\n\n  // parseAIResponse fonksiyonu artık kullanılmıyor, kaldırıldı\n\n  // Laravel API call - generateAIResponse ile aynı mantık\n  const generateResponse = useCallback(async (userMessage: string, sessionId?: string): Promise<AIResponse> => {\n    return generateAIResponse(userMessage, { sessionId });\n  }, [generateAIResponse]);\n\n  // Event handling için yeni fonksiyonlar\n  const sendFeedback = useCallback(async (feedbackData: any) => {\n    try {\n      const response = await fetch(buildApiUrl(getApiEndpoint('FEEDBACK')), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n        },\n        body: JSON.stringify(feedbackData)\n      });\n\n      if (!response.ok) {\n        throw new Error(`Feedback API Error: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (err) {\n      errorService.handleAPIError(err, 'Feedback Service');\n      setError('Feedback gönderilemedi');\n    }\n  }, []);\n\n  const sendProductClick = useCallback(async (productData: any) => {\n    try {\n      const response = await fetch(buildApiUrl(getApiEndpoint('PRODUCT_CLICK')), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n        },\n        body: JSON.stringify(productData)\n      });\n\n      if (!response.ok) {\n        throw new Error(`Product Click API Error: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (err) {\n      errorService.handleAPIError(err, 'Product Click Service');\n      setError('Ürün tıklama kaydedilemedi');\n    }\n  }, []);\n\n  const sendCargoTracking = useCallback(async (cargoData: any) => {\n    try {\n      const response = await fetch(buildApiUrl(getApiEndpoint('CARGO_TRACKING')), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n        },\n        body: JSON.stringify(cargoData)\n      });\n\n      if (!response.ok) {\n        throw new Error(`Cargo Tracking API Error: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (err) {\n      errorService.handleAPIError(err, 'Cargo Tracking Service');\n      setError('Kargo takip bilgisi alınamadı');\n    }\n  }, []);\n\n  // Token durumunu kontrol et\n  const checkTokenStatus = useCallback(async () => {\n    try {\n      return await apiService.checkTokenStatus();\n    } catch (error) {\n      errorService.handleAPIError(error, 'Token Status Check');\n      setError('Token durumu kontrol edilemedi');\n      return { canUse: false, error: 'Token durumu kontrol edilemedi' };\n    }\n  }, [apiService]);\n\n  // Kullanım bilgilerini getir\n  const getUsage = useCallback(async () => {\n    try {\n      return await apiService.getUsage();\n    } catch (error) {\n      errorService.handleAPIError(error, 'Usage Information');\n      setError('Kullanım bilgileri alınamadı');\n      return { success: false, error: 'Kullanım bilgileri alınamadı' };\n    }\n  }, [apiService]);\n\n  // Plan listesini getir\n  const getPlans = useCallback(async () => {\n    try {\n      return await apiService.getPlans();\n    } catch (error) {\n      errorService.handleAPIError(error, 'Plans List');\n      setError('Plan listesi alınamadı');\n      return { success: false, error: 'Plan listesi alınamadı' };\n    }\n  }, [apiService]);\n\n  return {\n    generateResponse,\n    generateAIResponse, // New API-based function\n    sendFeedback,\n    sendProductClick,\n    sendCargoTracking,\n    // Token management methods\n    checkTokenStatus,\n    getUsage,\n    getPlans,\n    isLoading,\n    error,\n    clearError: () => setError(null)\n  };\n};\n","import { useState, useCallback, useRef, useEffect } from 'react';\nimport { Message, Product, FeedbackData } from '../types';\nimport { useAIService } from './useAIService';\nimport { uuidService } from '../services/UuidService';\n\nexport interface ChatState {\n  messages: Message[];\n  isTyping: boolean;\n  scrollToBottom: boolean;\n}\n\nexport const useChat = (aiApiKey?: string, projectId?: string) => {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [scrollToBottom, setScrollToBottom] = useState(false);\n  const [browserUuid, setBrowserUuid] = useState<string>('');\n  const [sessionExpiry, setSessionExpiry] = useState<Date | null>(null);\n  const chatContentRef = useRef<HTMLDivElement>(null);\n\n  // AI Service\n  const { generateAIResponse: aiServiceGenerateAIResponse, sendFeedback, isLoading: aiLoading } = useAIService({ apiKey: aiApiKey, projectId: projectId });\n\n  /**\n   * Browser UUID'yi yenile\n   */\n  const refreshBrowserUuid = useCallback(() => {\n    const newUuid = uuidService.refreshUuid();\n    setBrowserUuid(newUuid);\n    \n    const uuidInfo = uuidService.getUuidInfo();\n    if (uuidInfo) {\n      setSessionExpiry(uuidInfo.expires);\n    }\n    \n    // //console.log('Browser UUID refreshed:', newUuid);\n  }, []);\n\n  // Browser UUID Management\n  useEffect(() => {\n    // Browser UUID'yi al veya oluştur\n    const uuid = uuidService.getBrowserUuid();\n    setBrowserUuid(uuid);\n    \n    // UUID bilgilerini al\n    const uuidInfo = uuidService.getUuidInfo();\n    if (uuidInfo) {\n      setSessionExpiry(uuidInfo.expires);\n    }\n    \n    // //console.log('Browser UUID initialized:', uuid);\n  }, []);\n\n  // UUID expiration check\n  useEffect(() => {\n    if (sessionExpiry) {\n      const checkExpiry = setInterval(() => {\n        if (new Date() >= sessionExpiry) {\n          refreshBrowserUuid();\n        }\n      }, 60000); // Her dakika kontrol et\n\n      return () => clearInterval(checkExpiry);\n    }\n  }, [sessionExpiry, refreshBrowserUuid]);\n\n  /**\n   * Session'ı yenile (UUID'yi güncelle)\n   */\n  const refreshSession = useCallback(() => {\n    const uuidInfo = uuidService.getUuidInfo();\n    if (uuidInfo && uuidInfo.isValid) {\n      setSessionExpiry(uuidInfo.expires);\n    } else {\n      refreshBrowserUuid();\n    }\n  }, [refreshBrowserUuid]);\n\n  /**\n   * Session'ı temizle\n   */\n  const clearSession = useCallback(() => {\n    uuidService.clearUuid();\n    setBrowserUuid('');\n    setSessionExpiry(null);\n    // //console.log('Browser UUID cleared');\n  }, []);\n\n  // Helper function to determine shimmer type based on user message\n  const getShimmerType = useCallback((userMessage: string): 'general' | 'product' | 'cargo' | 'order' | 'feedback' => {\n    const message = userMessage.toLowerCase();\n    \n    if (message.includes('ürün') || message.includes('product') || message.includes('satın al')) {\n      return 'product';\n    } else if (message.includes('kargo') || message.includes('cargo') || message.includes('kargom') || message.includes('takip') || message.includes('tracking')) {\n      return 'cargo';\n    } else if (message.includes('sipariş') || message.includes('order') || message.includes('siparişim')) {\n      return 'order';\n    } else if (message.includes('feedback') || message.includes('geri bildirim')) {\n      return 'feedback';\n    } else {\n      return 'general';\n    }\n  }, []);\n\n  // Add message function\n  const addMessage = useCallback((text: string, role: 'user' | 'agent', products?: Product[], additionalData?: any) => {\n    console.log('addMessage called with:', { text, role, products, additionalData });\n    \n    // Duplicate message prevention - only for agent messages, not user messages\n    if (role === 'agent') {\n      const now = Date.now();\n      const recentMessages = messages.slice(-3); // Check last 3 messages\n      \n      const isDuplicate = recentMessages.some(msg => {\n        const timeDiff = now - msg.timestamp.getTime();\n        return timeDiff < 1000 && // Within 1 second\n               msg.content === text && \n               msg.role === role;\n      });\n      \n      if (isDuplicate) {\n        console.log('Duplicate message prevented');\n        return;\n      }\n    }\n    \n    const newMessage: Message = {\n      id: `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      content: text,\n      role,\n      timestamp: new Date(),\n      products: products || [],\n      ...additionalData // type, data, intent gibi ek alanları ekle (suggestions kaldırıldı)\n    };\n\n    // User mesajları için özel koruma - 10 saniye boyunca silinmesin\n    if (role === 'user') {\n      newMessage.protected = true;\n      newMessage.protectionExpiry = new Date(Date.now() + 10000); // 10 saniye sonra\n    }\n\n    console.log('Setting messages, current count:', messages.length, 'new message:', newMessage);\n    setMessages(prev => {\n      const updated = [...prev, newMessage];\n      console.log('Updated messages count:', updated.length);\n      return updated;\n    });\n    setScrollToBottom(true);\n  }, []);\n\n  // Enhanced AI response with suggestions and shimmer loading\n  const generateAIResponse = useCallback(async (userMessage: string) => {\n    setIsTyping(true);\n    \n\n    \n    // Session'ı refresh et (her AI interaction'da)\n    refreshSession();\n    \n    // Shimmer loading state'i - messages array'e ekleme, sadece UI state olarak kullan\n    const shimmerType = getShimmerType(userMessage);\n    \n    // Shimmer message'ı ekle\n    const shimmerMessage = {\n      id: `shimmer_${Date.now()}`,\n      role: 'agent' as const,\n      content: '',\n      type: 'shimmer',\n      shimmerType: shimmerType,\n      timestamp: new Date()\n    };\n    \n    // Shimmer message'ı ekle\n    setMessages(prev => [...prev, shimmerMessage]);\n    \n    try {\n      // Random delay between 1500ms and 2500ms (daha uzun süre)\n      const delay = Math.random() * (2500 - 1500) + 1500;\n      await new Promise(resolve => setTimeout(resolve, delay));\n      \n      // Use the new API-based AI response function\n      const aiResponse = await aiServiceGenerateAIResponse(userMessage);\n      \n      // Debug log\n      console.log('AI Response:', aiResponse);\n      \n      // Response validation - products field'ını kontrol et\n      if (!aiResponse.products || aiResponse.products.length === 0) {\n        if (aiResponse.data && aiResponse.data.products && aiResponse.data.products.length > 0) {\n          aiResponse.products = aiResponse.data.products;\n        }\n      }\n      \n      // Add AI response with all data from Laravel\n      const additionalData = {\n        type: aiResponse.type || 'general',\n        intent: aiResponse.intent || aiResponse.type || 'general',\n        suggestions: aiResponse.suggestions || [],\n        data: aiResponse.data || {},\n        session_id: browserUuid // Mevcut browser UUID'yi kullan\n      };\n\n      // Products'ı doğru şekilde extract et\n      const products = aiResponse.products || aiResponse.data?.products || [];\n\n      // Response'u widget'a eklemeden önce daha uzun bir delay ekle\n      await new Promise(resolve => setTimeout(resolve, 300));\n\n      // Shimmer message'ı kaldır (sadece shimmer type'ı olan mesajları)\n      // Protected user mesajlarını koru\n      setMessages(prev => prev.filter(msg => {\n        if (msg.type === 'shimmer') return false;\n        if (msg.protected && msg.protectionExpiry && msg.protectionExpiry > new Date()) return true;\n        return true;\n      }));\n\n      // Message content'i kontrol et - boş olmamalı\n      const messageContent = aiResponse.message || aiResponse.type || 'Üzgünüm, şu anda yanıt veremiyorum.';\n      \n      // Debug log\n      console.log('Adding message:', messageContent, 'Role: agent');\n      \n      addMessage(messageContent, 'agent', products, additionalData);\n      \n      // API'den gelen suggestions kaldırıldı - sadece default action buttons kullanılıyor\n      \n    } catch (error) {\n      // AI response error\n      // Error in generateAIResponse\n      \n      // Shimmer message'ı kaldır (sadece shimmer type'ı olan mesajları)\n      // Protected user mesajlarını koru\n      setMessages(prev => prev.filter(msg => {\n        if (msg.type === 'shimmer') return false;\n        if (msg.protected && msg.protectionExpiry && msg.protectionExpiry > new Date()) return true;\n        return true;\n      }));\n      \n      // Fallback response\n      addMessage('Üzgünüm, şu anda yanıt üretemiyorum. Lütfen daha sonra tekrar deneyin.', 'agent');\n    } finally {\n      setIsTyping(false);\n    }\n  }, [aiServiceGenerateAIResponse, addMessage, browserUuid, refreshSession, getShimmerType]);\n\n\n\n  // Send message function\n  const sendMessage = useCallback(async (text: string) => {\n    if (!text.trim()) return;\n    \n    // Add user message immediately with 10 second protection\n    addMessage(text, 'user');\n    \n    // Small delay to ensure user message is added to UI\n    await new Promise(resolve => setTimeout(resolve, 100));\n    \n    try {\n      // Generate AI response\n      await generateAIResponse(text);\n    } catch (error) {\n      // Error handling is done in generateAIResponse\n      // Error generating AI response\n    }\n  }, [addMessage, generateAIResponse]);\n\n  // Handle product click\n  const handleProductClick = useCallback((product: Product) => {\n    // Add product selection message with product URL if available\n    if (product.url) {\n      addMessage(`🔗 Ürün detay sayfasına yönlendiriliyorsunuz:\\n\\n[${product.url}](${product.url})`, 'agent');\n    } else {\n      addMessage(`\"${product.name}\" ürününü seçtiniz. Bu ürün hakkında daha fazla bilgi almak ister misiniz?`, 'agent');\n    }\n  }, [addMessage]);\n\n\n\n  // Handle feedback\n  const handleFeedback = useCallback((feedback: FeedbackData) => {\n    // Feedback'i API'ye gönder (session'a post at)\n    sendFeedback(feedback);\n    \n    // Ama kullanıcıya ekstra mesaj gösterme\n    // addMessage(response, 'agent'); // Bu satır kaldırıldı\n  }, [sendFeedback]);\n\n  // Typing indicator - HTTP API ile çalışıyor\n  const sendTypingIndicator = useCallback((isTyping: boolean) => {\n    // HTTP API ile typing indicator gönderilebilir (gerekirse)\n  }, []);\n\n  // Scroll to bottom effect\n  useEffect(() => {\n    if (scrollToBottom && chatContentRef.current) {\n      chatContentRef.current.scrollTop = chatContentRef.current.scrollHeight;\n      setScrollToBottom(false);\n    }\n  }, [scrollToBottom, messages]);\n\n  // Auto-scroll when new messages arrive\n  useEffect(() => {\n    if (chatContentRef.current) {\n      chatContentRef.current.scrollTop = chatContentRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  // Send typing indicator when AI is processing\n  useEffect(() => {\n    sendTypingIndicator(isTyping);\n  }, [isTyping, sendTypingIndicator]);\n\n  return {\n    messages,\n    isTyping,\n    aiLoading,\n    chatContentRef,\n    sendMessage,\n    handleProductClick,\n    handleFeedback,\n    addMessage,\n    generateAIResponse,\n    // Session Management\n    browserUuid,\n    sessionExpiry,\n    refreshBrowserUuid,\n    refreshSession,\n    clearSession\n  };\n};\n","import React from 'react';\nimport { MessageListProps, WidgetCustomization } from '../../types';\nimport { getAILogoUrls } from '../../utils/imageUtils';\nimport MessageItem from './MessageItem';\nimport WelcomeMessage from './WelcomeMessage';\nimport { useChat } from '../../hooks/useChat';\nimport './chatbot.css';\n// import ShimmerMessage from './ShimmerMessage';\n\ninterface ExtendedMessageListProps extends MessageListProps {\n  widgetCustomization?: WidgetCustomization;\n  onAddMessage?: (text: string, role: 'user' | 'agent', products?: any[], additionalData?: any) => void;\n  onSendMessage?: (text: string) => void;\n}\n\nconst MessageList: React.FC<ExtendedMessageListProps> = ({ messages, onProductClick, onFeedback, welcomeMessage: customWelcomeMessage, widgetCustomization, onAddMessage, onSendMessage }) => {\n  const { chatContentRef } = useChat();\n\n  // Default welcome message\n  const agentName = widgetCustomization?.ai_name || 'ConvState AI';\n  const defaultWelcomeMessage = `Merhaba ben ${agentName}, sizin tercihlerinize göre ürün önerileri sunuyorum. Size nasıl yardımcı olabilirim?`;\n  const welcomeText = customWelcomeMessage || defaultWelcomeMessage;\n\n\n\n  // Typing indicator - artık messages array'inde shimmer message'ları var\n  // const typingIndicator = isTyping ? (\n  //   <div className=\"message-group\">\n  //     <div className=\"agent-avatar\">\n  //       <img src=\"/imgs/ai-conversion-logo-small.svg\" alt=\"AI Conversion Agent\" />\n  //     </div>\n  //     <ShimmerMessage type=\"general\" />\n  //   </div>\n  // ) : null;\n\n  return (\n    <div className=\"chat-content\" ref={chatContentRef}>\n      {/* Welcome Message */}\n      <WelcomeMessage \n        welcomeText={welcomeText}\n        agentName={agentName}\n        logoUrl={getAILogoUrls().small}\n      />\n      \n      {/* Messages from props */}\n      {messages.map((message) => (\n        <MessageItem\n          key={message.id}\n          message={message}\n          onProductClick={onProductClick}\n          onFeedback={onFeedback}\n          onAddMessage={onAddMessage}\n          onSendMessage={onSendMessage}\n        />\n      ))}\n      \n      {/* Typing Indicator - artık messages array'inde shimmer message'ları var */}\n      {/* {typingIndicator} */}\n    </div>\n  );\n};\n\nexport default MessageList;\n","import React, { useState, KeyboardEvent } from 'react';\nimport { InputAreaProps } from '../../types';\nimport { useSpeechToText } from '../../hooks/useSpeechToText';\nimport './InputArea.css';\n\n\nconst InputArea: React.FC<InputAreaProps> = ({ onSendMessage, disabled = false, placeholder = \"Message...\", setMessage: externalSetMessage }) => {\n  const [message, setMessage] = useState('');\n  const { isListening, startListening, stopListening, error } = useSpeechToText();\n\n  // Use external setMessage if provided\n  const updateMessage = (text: string) => {\n    setMessage(text);\n    if (externalSetMessage) {\n      externalSetMessage(text);\n    }\n  };\n\n  const handleSend = () => {\n    if (message.trim() && !disabled) {\n      onSendMessage(message.trim());\n      setMessage('');\n    }\n  };\n\n  const handleKeyPress = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const handleVoiceClick = () => {\n    if (isListening) {\n      // Stop listening and process the result\n      stopListening();\n    } else {\n      // Start listening for speech input\n      startListening((text) => {\n        // When speech is recognized, append to existing message\n        const currentText = message.trim();\n        const newText = currentText ? `${currentText} ${text}` : text;\n        updateMessage(newText);\n      });\n    }\n  };\n\n  return (\n    <div className=\"input-area\">\n      <div className=\"input-wrapper\">\n        <input\n          type=\"text\"\n          value={message}\n          onChange={(e) => updateMessage(e.target.value)}\n          onKeyPress={handleKeyPress}\n          placeholder={placeholder}\n          disabled={disabled}\n          id=\"messageInput\"\n        />\n        <button\n          onClick={handleSend}\n          disabled={disabled || !message.trim()}\n          className=\"send-button\"\n          title=\"Mesaj Gönder\"\n        >\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <path d=\"M22 2L11 13\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M22 2L15 22L11 13L2 9L22 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n        </button>\n      </div>\n      \n      {error && (\n        <div className=\"voice-error\" style={{ color: '#ef4444', fontSize: '0.75rem', marginBottom: '4px' }}>\n          {error}\n        </div>\n      )}\n      <button\n        className={`voice-button ${isListening ? 'recording' : ''}`}\n        onClick={handleVoiceClick}\n        title={isListening ? \"Ses Kaydını Durdur\" : \"Sesli Mesaj Kaydet\"}\n      >\n        {isListening ? (\n          // Animated voice waves when recording\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <rect x=\"2\" y=\"12\" width=\"2\" height=\"2\" fill=\"currentColor\" className=\"voice-wave wave-1\">\n              <animate attributeName=\"height\" values=\"2;8;2\" dur=\"0.6s\" repeatCount=\"indefinite\"/>\n              <animate attributeName=\"y\" values=\"12;8;12\" dur=\"0.6s\" repeatCount=\"indefinite\"/>\n            </rect>\n            <rect x=\"6\" y=\"10\" width=\"2\" height=\"6\" fill=\"currentColor\" className=\"voice-wave wave-2\">\n              <animate attributeName=\"height\" values=\"6;12;6\" dur=\"0.8s\" repeatCount=\"indefinite\"/>\n              <animate attributeName=\"y\" values=\"10;6;10\" dur=\"0.8s\" repeatCount=\"indefinite\"/>\n            </rect>\n            <rect x=\"10\" y=\"8\" width=\"2\" height=\"8\" fill=\"currentColor\" className=\"voice-wave wave-3\">\n              <animate attributeName=\"height\" values=\"8;16;8\" dur=\"0.7s\" repeatCount=\"indefinite\"/>\n              <animate attributeName=\"y\" values=\"8;4;8\" dur=\"0.7s\" repeatCount=\"indefinite\"/>\n            </rect>\n            <rect x=\"14\" y=\"10\" width=\"2\" height=\"6\" fill=\"currentColor\" className=\"voice-wave wave-4\">\n              <animate attributeName=\"height\" values=\"6;12;6\" dur=\"0.9s\" repeatCount=\"indefinite\"/>\n              <animate attributeName=\"y\" values=\"10;6;10\" dur=\"0.9s\" repeatCount=\"indefinite\"/>\n            </rect>\n            <rect x=\"18\" y=\"12\" width=\"2\" height=\"2\" fill=\"currentColor\" className=\"voice-wave wave-5\">\n              <animate attributeName=\"height\" values=\"2;8;2\" dur=\"0.65s\" repeatCount=\"indefinite\"/>\n              <animate attributeName=\"y\" values=\"12;8;12\" dur=\"0.65s\" repeatCount=\"indefinite\"/>\n            </rect>\n          </svg>\n        ) : (\n          // Static microphone icon when not recording\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n            <path d=\"M12 1C11.2044 1 10.4413 1.31607 9.87868 1.87868C9.31607 2.44129 9 3.20435 9 4V12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12V4C15 3.20435 14.6839 2.44129 14.1213 1.87868C13.5587 1.31607 12.7956 1 12 1Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M19 10V12C19 13.8565 18.2625 15.637 16.9497 16.9497C15.637 18.2625 13.8565 19 12 19C10.1435 19 8.36301 18.2625 7.05025 16.9497C5.7375 15.637 5 13.8565 5 12V10\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M12 19V23\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M8 23H16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n        )}\n      </button>\n    </div>\n  );\n};\n\nexport default InputArea;\n","import { useState, useRef, useCallback } from 'react';\n\ninterface STTOptions {\n  lang?: string;\n  continuous?: boolean;\n  interimResults?: boolean;\n}\n\nexport const useSpeechToText = (options: STTOptions = {}) => {\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [error, setError] = useState<string | null>(null);\n  \n  const recognitionRef = useRef<SpeechRecognition | null>(null);\n\n  const startListening = useCallback((onResult?: (text: string) => void) => {\n    const defaultOptions = {\n      lang: 'tr-TR',\n      continuous: false,\n      interimResults: false,\n      ...options\n    };\n    // Check if SpeechRecognition is supported\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      setError('Bu tarayıcıda speech-to-text desteklenmiyor.');\n      return;\n    }\n\n    try {\n      // Create speech recognition instance\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      const recognition = new SpeechRecognition();\n      \n      recognition.lang = defaultOptions.lang;\n      recognition.continuous = defaultOptions.continuous;\n      recognition.interimResults = defaultOptions.interimResults;\n      \n      recognitionRef.current = recognition;\n\n      // Set up event handlers\n      recognition.onstart = () => {\n        setIsListening(true);\n        setError(null);\n        setTranscript('');\n      };\n\n      recognition.onresult = (event) => {\n        let finalTranscript = '';\n        let interimTranscript = '';\n\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const transcript = event.results[i][0].transcript;\n          if (event.results[i].isFinal) {\n            finalTranscript += transcript;\n          } else {\n            interimTranscript += transcript;\n          }\n        }\n\n        const result = finalTranscript || interimTranscript;\n        setTranscript(result);\n        \n        // Call callback with result\n        if (onResult && finalTranscript) {\n          onResult(finalTranscript);\n        }\n      };\n\n      recognition.onend = () => {\n        setIsListening(false);\n        recognitionRef.current = null;\n      };\n\n      recognition.onerror = (event) => {\n        setError(`Ses tanıma hatası: ${event.error}`);\n        setIsListening(false);\n        recognitionRef.current = null;\n      };\n\n      // Start recognition\n      recognition.start();\n      \n    } catch (err) {\n      setError('Ses tanıma başlatılamadı.');\n    }\n  }, [options]);\n\n  const stopListening = useCallback(() => {\n    if (recognitionRef.current) {\n      recognitionRef.current.stop();\n      recognitionRef.current = null;\n    }\n    setIsListening(false);\n  }, []);\n\n  const reset = useCallback(() => {\n    setTranscript('');\n    setError(null);\n    setIsListening(false);\n    if (recognitionRef.current) {\n      recognitionRef.current.stop();\n      recognitionRef.current = null;\n    }\n  }, []);\n\n  return {\n    isListening,\n    transcript,\n    error,\n    startListening,\n    stopListening,\n    reset\n  };\n};\n","import React, { useRef, useState, useEffect } from 'react';\nimport './ActionButtons.css';\n\ninterface ActionButtonsProps {\n  onAction: (action: string) => void;\n}\n\nconst ActionButtons: React.FC<ActionButtonsProps> = ({ onAction }) => {\n  const actions = [\n    'Rastgele bir ürün öner.',\n    'Kargom nerede?',\n    'Siparişim nerede?'\n  ];\n\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [startX, setStartX] = useState(0);\n  const [scrollLeft, setScrollLeft] = useState(0);\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    if (!scrollContainerRef.current) return;\n    \n    setIsDragging(true);\n    setStartX(e.pageX - scrollContainerRef.current.offsetLeft);\n    setScrollLeft(scrollContainerRef.current.scrollLeft);\n    \n    // Prevent text selection\n    e.preventDefault();\n  };\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    if (!isDragging || !scrollContainerRef.current) return;\n    \n    const x = e.pageX - scrollContainerRef.current.offsetLeft;\n    const walk = (x - startX) * 2; // Scroll speed multiplier\n    scrollContainerRef.current.scrollLeft = scrollLeft - walk;\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const handleMouseLeave = () => {\n    setIsDragging(false);\n  };\n\n  // Global mouse up event listener\n  useEffect(() => {\n    const handleGlobalMouseUp = () => {\n      setIsDragging(false);\n    };\n\n    document.addEventListener('mouseup', handleGlobalMouseUp);\n    return () => {\n      document.removeEventListener('mouseup', handleGlobalMouseUp);\n    };\n  }, []);\n\n  return (\n    <div className=\"action-buttons\">\n      <div \n        className=\"action-buttons-scroll-container\"\n        ref={scrollContainerRef}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseLeave}\n        style={{ cursor: isDragging ? 'grabbing' : 'grab' }}\n      >\n        <div className=\"action-buttons-wrapper\">\n          {actions.map((action, index) => (\n            <button\n              key={index}\n              className=\"secondary-button\"\n              onClick={() => onAction(action)}\n            >\n              {action}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ActionButtons;\n","import React from 'react';\nimport './ChatFooter.css';\n\nconst ChatFooter: React.FC = () => {\n  return (\n    <div className=\"chat-footer\">\n      <a \n        href=\"https://convstateai.com\" \n        target=\"_blank\" \n        rel=\"noopener noreferrer\"\n        className=\"privacy-link\"\n      >\n        ConvState AI\n      </a>\n      <span className=\"separator\">•</span>\n      <span className=\"footer-text\">Sizin dijital asistanınız</span>\n   \n     \n    </div>\n  );\n};\n\nexport default ChatFooter;\n","import React, { useState, useEffect } from 'react';\nimport './chatbot.css';\nimport { buildApiUrl } from '../../config/api';\n\ninterface CampaignTabProps {\n  isVisible: boolean;\n  onClose: () => void;\n}\n\ninterface Campaign {\n  id: number;\n  title: string;\n  description: string;\n  category: string;\n  discount: string;\n  valid_until: string;\n  start_date: string;\n  end_date: string;\n  discount_type: string;\n  discount_value: number;\n  minimum_order_amount: number;\n  is_active: boolean;\n  image_url?: string;\n}\n\nconst CampaignTab: React.FC<CampaignTabProps> = ({ isVisible, onClose }) => {\n  const [campaigns, setCampaigns] = useState<Campaign[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (isVisible) {\n      loadCampaigns();\n    }\n  }, [isVisible]);\n\n  const loadCampaigns = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // API endpoint'i - Laravel backend kullan\n      const apiUrl = buildApiUrl('/api');\n      \n      // Project ID'yi global config'den al veya default olarak 1 kullan\n      const projectId = (typeof window !== 'undefined' && (window as any).WIDGET_PROJECT_ID) || '1';\n      const response = await fetch(`${apiUrl}/campaigns?project_id=${projectId}`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          // Site bulunamadı veya kampanya yok - bu normal bir durum\n          setCampaigns([]);\n          setError(null);\n          return;\n        }\n        // Error response text\n        throw new Error(`Kampanyalar yüklenirken hata oluştu: ${response.status}`);\n      }\n      \n      const responseText = await response.text();\n      \n      let result;\n      try {\n        result = JSON.parse(responseText);\n      } catch (parseError) {\n        // JSON parse error\n        throw new Error('API response JSON formatında değil');\n      }\n      \n      if (result.success) {\n        setCampaigns(result.data || []);\n      } else {\n        setError(result.message || 'Kampanyalar yüklenemedi');\n      }\n    } catch (err) {\n      // Campaign loading error\n      setError(err instanceof Error ? err.message : 'Bilinmeyen hata oluştu');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString: string | null) => {\n    if (!dateString) return 'Sürekli';\n    \n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('tr-TR');\n    } catch {\n      return 'Geçersiz tarih';\n    }\n  };\n\n  const getDiscountDisplay = (campaign: Campaign) => {\n    switch (campaign.discount_type) {\n      case 'percentage':\n        return `%${campaign.discount_value} İndirim`;\n      case 'fixed':\n        return `${campaign.discount_value} TL İndirim`;\n      case 'free_shipping':\n        return 'Ücretsiz Kargo';\n      case 'buy_x_get_y':\n      default:\n        return campaign.discount;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"campaign-tab-content\">\n        <div className=\"campaign-content\">\n          <div className=\"campaign-item shimmer\">\n            <div className=\"campaign-item-header\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\n            </div>\n            <div className=\"h-3 bg-gray-200 rounded w-full mb-2\"></div>\n            <div className=\"h-3 bg-gray-200 rounded w-2/3\"></div>\n          </div>\n          <div className=\"campaign-item shimmer\">\n            <div className=\"campaign-item-header\">\n              <div className=\"h-4 bg-gray-200 rounded w-2/3 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-1/3\"></div>\n            </div>\n            <div className=\"h-3 bg-gray-200 rounded w-full mb-2\"></div>\n            <div className=\"h-3 bg-gray-200 rounded w-3/4\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"campaign-tab-content\">\n        {/* Campaign List with Error Item */}\n        <div className=\"campaign-content\">\n          <div className=\"campaign-item error-state\">\n            <div className=\"campaign-item-header\">\n              <h4 className=\"text-red-600\">⚠️ Hata Oluştu</h4>\n              <span className=\"campaign-category error-category\">Sistem Hatası</span>\n            </div>\n            <p className=\"campaign-description text-red-500\">{error}</p>\n            <div className=\"campaign-item-footer\">\n              <span className=\"campaign-discount error-discount\">Yüklenemedi</span>\n              <span className=\"campaign-validity\">Şimdi</span>\n            </div>\n            \n            {/* Retry Button */}\n            <div className=\"campaign-details\">\n              <button \n                onClick={loadCampaigns}\n                className=\"campaign-retry-btn\"\n              >\n                🔄 Tekrar Dene\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"campaign-footer\">\n          <button className=\"campaign-action-btn\" onClick={onClose}>\n            💬 Chat'e Dön\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n\n  \n  if (!campaigns || campaigns.length === 0) {\n    return (\n      <div className=\"campaign-tab-content\">\n        <div className=\"campaign-content\">\n          <div className=\"campaign-item empty-state\">\n            <div className=\"text-center py-8\">\n              <div className=\"text-gray-400 text-6xl mb-4\">📢</div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Henüz Kampanya Yok</h3>\n              <p className=\"text-gray-500\">Bu site için henüz aktif kampanya bulunmuyor. Yönetici panelinden kampanya eklenebilir.</p>\n            </div>\n          </div>\n        </div>\n        \n        {/* Footer */}\n        <div className=\"campaign-footer\">\n          <button className=\"campaign-action-btn\" onClick={onClose}>\n            💬 Chat'e Dön\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"campaign-tab-content\">\n      {/* Campaign List */}\n      <div className=\"campaign-content\">\n        {campaigns.map((campaign) => (\n          <div key={campaign.id} className=\"campaign-item\">\n            <div className=\"campaign-item-header\">\n              <h4>{campaign.title}</h4>\n              <span className=\"campaign-category\">{campaign.category}</span>\n            </div>\n            <p className=\"campaign-description\">{campaign.description}</p>\n            <div className=\"campaign-item-footer\">\n              <span className=\"campaign-discount\">{getDiscountDisplay(campaign)}</span>\n              <span className=\"campaign-validity\">\n                Geçerli: {formatDate(campaign.end_date)}\n              </span>\n            </div>\n            \n            {/* Additional campaign details */}\n            {campaign.minimum_order_amount && (\n              <div className=\"campaign-details\">\n                <small className=\"text-gray-500\">\n                  Min. Sipariş: {campaign.minimum_order_amount} TL\n                </small>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Footer */}\n      <div className=\"campaign-footer\">\n        <button className=\"campaign-action-btn\" onClick={onClose}>\n          💬 Chat'e Dön\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignTab;\n","import React, { useState, useEffect } from 'react';\nimport './chatbot.css';\nimport { buildApiUrl } from '../../config/api';\n\ninterface FAQTabProps {\n  isVisible: boolean;\n  onClose: () => void;\n}\n\ninterface FAQItem {\n  id: number;\n  title: string;\n  description: string;\n  category: string;\n  answer: string;\n  short_answer: string;\n  is_active: boolean;\n  sort_order: number;\n  tags?: string[];\n  view_count: number;\n  helpful_count: number;\n  not_helpful_count: number;\n}\n\nconst FAQTab: React.FC<FAQTabProps> = ({ isVisible, onClose }) => {\n  const [openFAQ, setOpenFAQ] = useState<number | null>(null);\n  const [faqs, setFaqs] = useState<FAQItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (isVisible) {\n      loadFAQs();\n    }\n  }, [isVisible]);\n\n  const loadFAQs = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // API endpoint'i - Laravel backend kullan\n      const apiUrl = buildApiUrl('/api');\n      \n      // Project ID'yi global config'den al veya default olarak 1 kullan\n      const projectId = (typeof window !== 'undefined' && (window as any).WIDGET_PROJECT_ID) || '1';\n      const response = await fetch(`${apiUrl}/faqs?project_id=${projectId}`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          // Site bulunamadı veya FAQ yok - bu normal bir durum\n          setFaqs([]);\n          setError(null);\n          return;\n        }\n        // Error response text\n        throw new Error(`SSS yüklenirken hata oluştu: ${response.status}`);\n      }\n      \n      const responseText = await response.text();\n      \n      let result;\n      try {\n        result = JSON.parse(responseText);\n      } catch (parseError) {\n        // JSON parse error\n        throw new Error('API response JSON formatında değil');\n      }\n      \n      if (result.success) {\n        setFaqs(result.data || []);\n      } else {\n        setError(result.message || 'SSS yüklenemedi');\n      }\n    } catch (err) {\n      // FAQ loading error\n      setError(err instanceof Error ? err.message : 'Bilinmeyen hata oluştu');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleFAQ = (id: number) => {\n    setOpenFAQ(openFAQ === id ? null : id);\n  };\n\n  const markAsHelpful = async (id: number) => {\n    try {\n      const apiUrl = buildApiUrl('/api');\n      await fetch(`${apiUrl}/faqs/${id}/helpful`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n      \n      // Update local state\n      setFaqs(prevFaqs => \n        prevFaqs.map(faq => \n          faq.id === id \n            ? { ...faq, helpful_count: faq.helpful_count + 1 }\n            : faq\n        )\n      );\n          } catch (error) {\n        // Helpful mark failed\n      }\n  };\n\n  const markAsNotHelpful = async (id: number) => {\n    try {\n      const apiUrl = buildApiUrl('/api');\n      await fetch(`${apiUrl}/faqs/${id}/not-helpful`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n      \n      // Update local state\n      setFaqs(prevFaqs => \n        prevFaqs.map(faq => \n          faq.id === id \n            ? { ...faq, not_helpful_count: faq.not_helpful_count + 1 }\n            : faq\n        )\n      );\n          } catch (error) {\n        // Not helpful mark failed\n      }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"campaign-tab-content\">\n        <div className=\"campaign-content\">\n          <div className=\"campaign-item shimmer\">\n            <div className=\"campaign-item-header\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\n            </div>\n            <div className=\"h-3 bg-gray-200 rounded w-full mb-2\"></div>\n            <div className=\"h-3 bg-gray-200 rounded w-2/3\"></div>\n          </div>\n          <div className=\"campaign-item shimmer\">\n            <div className=\"campaign-item-header\">\n              <div className=\"h-4 bg-gray-200 rounded w-2/3 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-1/3\"></div>\n            </div>\n            <div className=\"h-3 bg-gray-200 rounded w-full mb-2\"></div>\n            <div className=\"h-3 bg-gray-200 rounded w-3/4\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"campaign-tab-content\">\n        {/* FAQ List with Error Item */}\n        <div className=\"campaign-content\">\n          <div className=\"campaign-item error-state\">\n            <div className=\"campaign-item-header\">\n              <h4 className=\"text-red-600\">⚠️ Hata Oluştu</h4>\n              <span className=\"campaign-category error-category\">Sistem Hatası</span>\n            </div>\n            <p className=\"campaign-description text-red-500\">{error}</p>\n            <div className=\"campaign-item-footer\">\n              <span className=\"campaign-discount error-discount\">Yüklenemedi</span>\n              <span className=\"campaign-validity\">Şimdi</span>\n            </div>\n            \n            {/* Retry Button */}\n            <div className=\"campaign-details\">\n              <button \n                onClick={loadFAQs}\n                className=\"campaign-retry-btn\"\n              >\n                🔄 Tekrar Dene\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"campaign-footer\">\n          <button className=\"campaign-action-btn\" onClick={onClose}>\n            💬 Chat'e Dön\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n\n  \n  if (!faqs || faqs.length === 0) {\n    return (\n      <div className=\"campaign-tab-content\">\n        <div className=\"campaign-content\">\n          <div className=\"campaign-item empty-state\">\n            <div className=\"text-center py-8\">\n              <div className=\"text-gray-400 text-6xl mb-4\">❓</div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Henüz SSS Yok</h3>\n              <p className=\"text-gray-500\">Bu site için henüz sık sorulan soru eklenmemiş. Yönetici panelinden SSS eklenebilir.</p>\n            </div>\n          </div>\n        </div>\n        \n        {/* Footer */}\n        <div className=\"campaign-footer\">\n          <button className=\"campaign-action-btn\" onClick={onClose}>\n            💬 Chat'e Dön\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"campaign-tab-content\">\n      {/* FAQ List - Using Campaign Style */}\n      <div className=\"campaign-content\">\n        {faqs.map((item) => (\n          <div \n            key={item.id} \n            className=\"campaign-item\"\n            onClick={() => toggleFAQ(item.id)}\n          >\n            <div className=\"campaign-item-header\">\n              <h4>{item.title}</h4>\n              <span className=\"campaign-category\">{item.category}</span>\n            </div>\n            <p className=\"campaign-description\">{item.description}</p>\n            <div className=\"campaign-item-footer\">\n              <span className=\"campaign-discount\">{item.short_answer}</span>\n              <span className=\"campaign-validity\">\n                {openFAQ === item.id ? 'Detaylar Açık' : 'Detaylar için tıklayın'}\n              </span>\n            </div>\n            \n            {/* FAQ Answer - Expandable */}\n            {openFAQ === item.id && (\n              <div className=\"faq-answer-expanded\">\n                <div className=\"faq-answer-content\">\n                  <p>{item.answer}</p>\n                  \n                  {/* Helpful buttons */}\n                  <div className=\"faq-feedback mt-4 pt-4 border-t border-gray-200\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"text-sm text-gray-500\">\n                        Bu bilgi faydalı mıydı?\n                      </div>\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            markAsHelpful(item.id);\n                          }}\n                          className=\"flex items-center px-3 py-1 text-sm text-green-600 hover:text-green-700 border border-green-300 rounded-md hover:bg-green-50\"\n                        >\n                          👍 Faydalı ({item.helpful_count})\n                        </button>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            markAsNotHelpful(item.id);\n                          }}\n                          className=\"flex items-center px-3 py-1 text-sm text-red-600 hover:text-red-700 border border-red-300 rounded-md hover:bg-red-50\"\n                        >\n                          👎 Faydalı Değil ({item.not_helpful_count})\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Footer */}\n      <div className=\"campaign-footer\">\n        <button className=\"campaign-action-btn\" onClick={onClose}>\n          💬 Chat'e Dön\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FAQTab;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport './NotificationWidget.css';\n\ninterface NotificationWidgetProps {\n  isVisible: boolean;\n  onClose: () => void;\n  onOpenChat?: () => void;\n  settings?: {\n    message_text: string;\n    ai_name: string;\n    color_theme: string;\n    display_duration: number;\n    animation_type: string;\n    show_close_button: boolean;\n    redirect_url?: string;\n    color_theme_css: {\n      primary: string;\n      secondary: string;\n      gradient: string;\n    };\n  };\n}\n\nconst NotificationWidget: React.FC<NotificationWidgetProps> = ({ \n  isVisible, \n  onClose, \n  onOpenChat,\n  settings \n}) => {\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [isClosing, setIsClosing] = useState(false);\n\n  const handleClose = useCallback(() => {\n    setIsClosing(true);\n    setTimeout(() => {\n      onClose();\n      setIsClosing(false);\n      setIsAnimating(false);\n    }, 300); // Animation duration\n  }, [onClose]);\n\n  useEffect(() => {\n    if (isVisible && settings) {\n      // Start animation\n      setIsAnimating(true);\n      \n      // Auto close disabled for debugging - widget will stay visible\n      // const timer = setTimeout(() => {\n      //   handleClose();\n      // }, settings.display_duration);\n\n      // return () => clearTimeout(timer);\n    }\n  }, [isVisible, settings, handleClose]);\n\n  const handleClick = () => {\n    // Open chat first\n    if (onOpenChat) {\n      onOpenChat();\n    }\n    \n    // Then close notification\n    handleClose();\n  };\n\n  if (!isVisible || !settings) {\n    return null;\n  }\n\n  const getAnimationClass = () => {\n    if (isClosing) return 'notification-widget-closing';\n    if (isAnimating) return `notification-widget-${settings.animation_type}`;\n    return '';\n  };\n\n  return (\n    <div \n      className={`notification-widget ${getAnimationClass()}`}\n      onClick={handleClick}\n    >\n      {/* Speech Bubble */}\n      <div className=\"notification-speech-bubble\">\n        <div className=\"notification-content\">\n          <div className=\"notification-header\">\n            <span className=\"notification-sender\">{settings?.ai_name || 'ConvState AI'}</span>\n          </div>\n          <div className=\"notification-message\">\n            {settings.message_text}\n          </div>\n        </div>\n        \n        {/* Close Button */}\n        {settings.show_close_button && (\n          <button \n            className=\"notification-close-btn\"\n            onClick={(e) => {\n              e.stopPropagation();\n              handleClose();\n            }}\n            title=\"Kapat\"\n          >\n            ×\n          </button>\n        )}\n      </div>\n\n    </div>\n  );\n};\n\nexport default NotificationWidget;\n","import React, { useState, useEffect } from 'react';\nimport { Message } from '../../../../types';\nimport { APIError, ErrorWidgetConfig } from '../../../../services/ErrorService';\nimport './APIErrorMessage.css';\n\ninterface APIErrorMessageProps {\n  message: Message;\n  onRetry?: () => void;\n  onDismiss?: () => void;\n}\n\nconst APIErrorMessage: React.FC<APIErrorMessageProps> = ({ \n  message, \n  onRetry, \n  onDismiss \n}) => {\n  const [isVisible, setIsVisible] = useState(true);\n  const [showDetails, setShowDetails] = useState(false);\n  \n  const errorData = message.data || {};\n  const apiError: APIError = {\n    type: errorData.error?.toLowerCase() || 'unknown',\n    status: errorData.status,\n    message: message.message || message.content || 'Unknown error',\n    details: errorData.details,\n    timestamp: new Date(message.timestamp).getTime()\n  };\n  \n  const config: ErrorWidgetConfig = errorData.config || {\n    showRetry: true,\n    showDetails: false,\n    autoHide: true,\n    hideDelay: 5000\n  };\n\n  // Auto-hide functionality\n  useEffect(() => {\n    if (config.autoHide && config.hideDelay > 0) {\n      const timer = setTimeout(() => {\n        setIsVisible(false);\n        onDismiss?.();\n      }, config.hideDelay);\n\n      return () => clearTimeout(timer);\n    }\n  }, [config.autoHide, config.hideDelay, onDismiss]);\n\n  const getErrorIcon = () => {\n    switch (apiError.type) {\n      case 'network':\n        return '🌐';\n      case 'server':\n        return '🔧';\n      case 'client':\n        return '⚠️';\n      case 'timeout':\n        return '⏰';\n      default:\n        return '❌';\n    }\n  };\n\n  const getErrorTitle = () => {\n    switch (apiError.type) {\n      case 'network':\n        return 'Bağlantı Hatası';\n      case 'server':\n        return 'Sunucu Hatası';\n      case 'client':\n        return 'İstek Hatası';\n      case 'timeout':\n        return 'Zaman Aşımı';\n      default:\n        return 'Hata';\n    }\n  };\n\n  const getErrorColor = () => {\n    switch (apiError.type) {\n      case 'network':\n        return '#3B82F6'; // Blue\n      case 'server':\n        return '#EF4444'; // Red\n      case 'client':\n        return '#F59E0B'; // Yellow\n      case 'timeout':\n        return '#8B5CF6'; // Purple\n      default:\n        return '#6B7280'; // Gray\n    }\n  };\n\n  const handleRetry = () => {\n    onRetry?.();\n    setIsVisible(false);\n  };\n\n  const handleDismiss = () => {\n    setIsVisible(false);\n    onDismiss?.();\n  };\n\n  const handleRedirect = () => {\n    if (config.redirectUrl) {\n      window.location.href = config.redirectUrl;\n    }\n  };\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return (\n    <div \n      className=\"api-error-message\"\n      style={{ borderLeftColor: getErrorColor() }}\n    >\n      <div className=\"api-error-header\">\n        <div className=\"api-error-icon\" style={{ color: getErrorColor() }}>\n          {getErrorIcon()}\n        </div>\n        <div className=\"api-error-content\">\n          <h3 className=\"api-error-title\">{getErrorTitle()}</h3>\n          <p className=\"api-error-description\">{apiError.message}</p>\n          \n          {apiError.status && (\n            <div className=\"api-error-status\">\n              <span className=\"status-label\">Durum Kodu:</span>\n              <span className=\"status-code\">{apiError.status}</span>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"api-error-actions\">\n          {config.showDetails && apiError.details && (\n            <button\n              className=\"api-error-details-btn\"\n              onClick={() => setShowDetails(!showDetails)}\n              title=\"Detayları göster/gizle\"\n            >\n              {showDetails ? '👁️‍🗨️' : '👁️'}\n            </button>\n          )}\n          \n          <button\n            className=\"api-error-close-btn\"\n            onClick={handleDismiss}\n            title=\"Kapat\"\n          >\n            ✕\n          </button>\n        </div>\n      </div>\n\n      {showDetails && apiError.details && (\n        <div className=\"api-error-details\">\n          <h4>Hata Detayları:</h4>\n          <pre className=\"api-error-details-content\">\n            {JSON.stringify(apiError.details, null, 2)}\n          </pre>\n        </div>\n      )}\n\n      <div className=\"api-error-footer\">\n        {config.showRetry && (\n          <button\n            className=\"api-error-retry-btn\"\n            onClick={handleRetry}\n          >\n            🔄 Tekrar Dene\n          </button>\n        )}\n        \n        {config.redirectUrl && (\n          <button\n            className=\"api-error-redirect-btn\"\n            onClick={handleRedirect}\n          >\n            🔗 {config.redirectUrl.includes('login') ? 'Giriş Yap' : 'Yönlendir'}\n          </button>\n        )}\n        \n        {config.autoHide && (\n          <div className=\"api-error-auto-hide\">\n            <span>Bu mesaj {Math.ceil(config.hideDelay / 1000)} saniye sonra kapanacak</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default APIErrorMessage;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { ChatContainerProps, WidgetCustomization, Message } from '../../types';\nimport { getAILogoUrls } from '../../utils/imageUtils';\nimport MessageList from './MessageList';\nimport InputArea from './InputArea';\nimport ActionButtons from './ActionButtons';\nimport ChatFooter from './ChatFooter';\nimport CampaignTab from './CampaignTab';\nimport FAQTab from './FAQTab';\nimport NotificationWidget from '../NotificationWidget';\nimport APIErrorMessage from './templates/APIErrorMessage/APIErrorMessage';\n\nimport { useChat } from '../../hooks/useChat';\nimport { buildApiUrl } from '../../config/api';\nimport { errorService } from '../../services/ErrorService';\nimport './ChatContainer.css';\n\nconst ChatContainer: React.FC<ChatContainerProps> = ({ \n  config, \n  onEvent, \n  onFeedback, \n  onToggleChat\n}) => {\n  const [isSoundEnabled, setIsSoundEnabled] = useState(true);\n  const [showCampaignTab, setShowCampaignTab] = useState(false);\n  const [showFAQTab, setShowFAQTab] = useState(false);\n  const [isTabTransitioning, setIsTabTransitioning] = useState(false);\n  const [isChatVisible, setIsChatVisible] = useState(false);\n  const [showNotificationWidget, setShowNotificationWidget] = useState(false);\n  const [notificationSettings, setNotificationSettings] = useState<any>(null);\n  const [tabAvailability, setTabAvailability] = useState({\n    campaigns: false,\n    faqs: false,\n    loading: true\n  });\n  const [apiErrorMessages, setApiErrorMessages] = useState<Message[]>([]);\n  const [widgetCustomization, setWidgetCustomization] = useState<WidgetCustomization>({\n    ai_name: 'ConvState AI',\n    welcome_message: 'Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?',\n    ai_personality: 'friendly',\n    theme_color: '#3B82F6',\n    font_family: 'Inter',\n    primary_color: '#3B82F6',\n    secondary_color: '#6B7280',\n    language: 'tr',\n    rate_limit_per_minute: 10,\n    api_timeout_seconds: 10,\n    max_retry_attempts: 2,\n    enable_typing_indicator: true,\n    enable_sound_notifications: false\n  });\n  \n  const { \n    messages, \n    sendMessage, \n    handleProductClick, \n    handleFeedback,\n    addMessage\n  } = useChat(undefined, config?.projectId);\n\n  // Apply dynamic theming based on customization\n  const applyDynamicTheming = useCallback(() => {\n    if (typeof document === 'undefined') return;\n\n    const root = document.documentElement;\n    \n    // Apply color variables\n    root.style.setProperty('--widget-primary-color', widgetCustomization.primary_color);\n    root.style.setProperty('--widget-secondary-color', widgetCustomization.secondary_color);\n    root.style.setProperty('--widget-theme-color', widgetCustomization.theme_color);\n    \n    // Apply font family\n    root.style.setProperty('--widget-font-family', widgetCustomization.font_family);\n    \n    // Apply logo if available\n    if (widgetCustomization.logo_url) {\n      root.style.setProperty('--widget-logo-url', `url(${widgetCustomization.logo_url})`);\n    }\n  }, [widgetCustomization]);\n\n  // Apply dynamic theming when customization changes\n  useEffect(() => {\n    applyDynamicTheming();\n  }, [applyDynamicTheming]);\n\n  // API hata yakalama sistemi\n  useEffect(() => {\n    const unsubscribe = errorService.onError((apiError) => {\n      const errorMessage = errorService.createErrorMessage(apiError);\n      setApiErrorMessages(prev => [...prev, errorMessage]);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const checkTabAvailability = useCallback(async () => {\n    try {\n      const apiUrl = buildApiUrl('/api');\n      const projectId = config?.projectId || '1';\n      \n      // Paralel olarak kampanyalar ve SSS durumunu kontrol et\n      const [campaignsResponse, faqsResponse] = await Promise.allSettled([\n        fetch(`${apiUrl}/campaigns/check-availability?project_id=${projectId}`, {\n          method: 'GET',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          }\n        }),\n        fetch(`${apiUrl}/faqs/check-availability?project_id=${projectId}`, {\n          method: 'GET',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          }\n        })\n      ]);\n\n      let campaignsAvailable = false;\n      let faqsAvailable = false;\n\n      // Kampanyalar durumunu kontrol et\n      if (campaignsResponse.status === 'fulfilled' && campaignsResponse.value.ok) {\n        const campaignsData = await campaignsResponse.value.json();\n        campaignsAvailable = campaignsData.success && campaignsData.has_campaigns;\n      }\n\n      // SSS durumunu kontrol et\n      if (faqsResponse.status === 'fulfilled' && faqsResponse.value.ok) {\n        const faqsData = await faqsResponse.value.json();\n        faqsAvailable = faqsData.success && faqsData.has_faqs;\n      }\n\n      setTabAvailability({\n        campaigns: campaignsAvailable,\n        faqs: faqsAvailable,\n        loading: false\n      });\n\n      // Tab availability checked\n\n    } catch (error) {\n      // Error checking tab availability\n      setTabAvailability({\n        campaigns: false,\n        faqs: false,\n        loading: false\n      });\n    }\n  }, []);\n\n  const loadWidgetCustomization = async () => {\n    try {\n      // Get config from window or use defaults\n      const config = (typeof window !== 'undefined' && (window as any).WIDGET_CONFIG) \n        ? (window as any).WIDGET_CONFIG \n        : {\n            DEFAULT_AI_NAME: 'ConvState AI',\n            DEFAULT_WELCOME_MESSAGE: 'Merhaba! Size nasıl yardımcı olabilirim?'\n          };\n      \n      // Always try to load from API first\n      try {\n        // Get projectId and customizationToken from window config\n        const projectId = (window as any).convstateaiConfig?.projectId || config?.projectId || '2';\n        const customizationToken = (window as any).convstateaiConfig?.customizationToken || config?.customizationToken;\n        \n        if (!customizationToken) {\n          throw new Error('Customization token not found');\n        }\n        \n        const apiUrl = buildApiUrl(`/api/widget-customization?projectId=${projectId}&customizationToken=${customizationToken}`);\n        // Widget Customization API URL\n        \n        const response = await fetch(apiUrl, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          }\n        });\n        \n        // API Response Status\n        \n        if (response.ok) {\n          const data = await response.json();\n          // API Response Data\n          \n          if (data.success && data.data) {\n            const customization = data.data.widgetCustomization || data.data;\n            const apiEndpoints = data.data.apiEndpoints || {};\n            const isCargoEnabled = data.data.isCargoEnabled || false;\n            const isOrderEnabled = data.data.isOrderEnabled || false;\n            \n            // Check if customization_data exists and is not null\n            const customizationData = customization.customization_data;\n            \n            // Default theme values\n            const defaultTheme = {\n              ai_personality: 'friendly',\n              theme_color: '#3B82F6',\n              font_family: 'Inter',\n              primary_color: '#3B82F6',\n              secondary_color: '#6B7280',\n              language: 'tr',\n              rate_limit_per_minute: 10,\n              api_timeout_seconds: 10,\n              max_retry_attempts: 2,\n              enable_typing_indicator: true,\n              enable_sound_notifications: false\n            };\n            \n            // Use customization_data if available, otherwise use default theme\n            const themeSettings = customizationData && typeof customizationData === 'object' \n              ? { ...defaultTheme, ...customizationData }\n              : defaultTheme;\n            \n            // Convstateai başlatılıyor - API bağlantıları başarılı\n            console.log('Convstateai başlatılıyor');\n            \n            setWidgetCustomization({\n              ai_name: customization.ai_name || config.DEFAULT_AI_NAME,\n              welcome_message: customization.welcome_message || config.DEFAULT_WELCOME_MESSAGE,\n              ai_personality: themeSettings.ai_personality,\n              theme_color: customization.theme_color || themeSettings.theme_color,\n              font_family: customization.font_family || themeSettings.font_family,\n              primary_color: customization.primary_color || themeSettings.primary_color,\n              secondary_color: customization.secondary_color || themeSettings.secondary_color,\n              language: customization.language || themeSettings.language,\n              rate_limit_per_minute: themeSettings.rate_limit_per_minute,\n              api_timeout_seconds: themeSettings.api_timeout_seconds,\n              max_retry_attempts: themeSettings.max_retry_attempts,\n              enable_typing_indicator: customization.enable_typing_indicator !== undefined ? customization.enable_typing_indicator : themeSettings.enable_typing_indicator,\n              enable_sound_notifications: customization.enable_sound_notifications !== undefined ? customization.enable_sound_notifications : themeSettings.enable_sound_notifications,\n              cargo_not_found_message: customization.cargo_not_found_message,\n              feature_disabled_message: customization.feature_disabled_message,\n              error_message_template: customization.error_message_template,\n              order_not_found_message: customization.order_not_found_message,\n              logo_url: customization.logo_url,\n              custom_messages: customization.custom_messages\n            });\n            \n            // Update global widget config with API endpoints\n            if (typeof window !== 'undefined') {\n              (window as any).widgetConfig = {\n                ...(window as any).widgetConfig,\n                apiEndpoints: {\n                  cargoTracking: apiEndpoints.cargoTracking || null,\n                  orderTracking: apiEndpoints.orderTracking || null\n                },\n                isCargoEnabled: isCargoEnabled,\n                isOrderEnabled: isOrderEnabled\n              };\n            }\n            return;\n          } else {\n            // API Response not successful\n          }\n        } else {\n          // API Response Error\n        }\n      } catch (apiError) {\n        // API Error\n        // API not available, using default values\n      }\n      \n      // Use default values from config (fallback)\n      setWidgetCustomization({\n        ai_name: config.DEFAULT_AI_NAME,\n        welcome_message: `Merhaba ben ${config.DEFAULT_AI_NAME}, sizin tercihlerinize göre ürün önerileri sunuyorum. Size nasıl yardımcı olabilirim?`,\n        ai_personality: 'friendly',\n        theme_color: '#3B82F6',\n        font_family: 'Inter',\n        primary_color: '#3B82F6',\n        secondary_color: '#6B7280',\n        language: 'tr',\n        rate_limit_per_minute: 10,\n        api_timeout_seconds: 10,\n        max_retry_attempts: 2,\n        enable_typing_indicator: true,\n        enable_sound_notifications: false\n      });\n    } catch (error) {\n      // Widget customization error\n      // API'den veri alınamadığında minimal default değerler kullan\n      setWidgetCustomization({\n        ai_name: 'ConvState AI',\n        welcome_message: 'Merhaba ben ConvState AI, sizin tercihlerinize göre ürün önerileri sunuyorum. Size nasıl yardımcı olabilirim?',\n        ai_personality: 'friendly',\n        theme_color: '#3B82F6',\n        font_family: 'Inter',\n        primary_color: '#3B82F6',\n        secondary_color: '#6B7280',\n        language: 'tr',\n        rate_limit_per_minute: 10,\n        api_timeout_seconds: 10,\n        max_retry_attempts: 2,\n        enable_typing_indicator: true,\n        enable_sound_notifications: false\n      });\n    }\n  };\n\n  const loadNotificationWidget = useCallback(async () => {\n    try {\n      // Show notification on every page load (removed localStorage check)\n      //console.log('🔔 Loading notification widget...');\n\n      const apiUrl = buildApiUrl('/api/notification-widget');\n      const projectId = config?.projectId || '1';\n      \n      //console.log('🔔 API URL:', `${apiUrl}/check-availability?project_id=${projectId}`);\n      \n      const response = await fetch(`${apiUrl}/check-availability?project_id=${projectId}`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n\n      //console.log('🔔 API Response status:', response.status);\n\n      if (response.ok) {\n        const data = await response.json();\n        //console.log('🔔 API Response data:', data);\n        \n        if (data.success && data.has_notification) {\n          //console.log('🔔 Notification available, showing widget');\n          setNotificationSettings(data.data);\n          setShowNotificationWidget(true);\n          \n          // Track event\n          onEvent?.({\n            type: 'message_sent',\n            timestamp: new Date(),\n            sessionId: 'session_id',\n            data: { action: 'notification_shown', message: data.data.message_text }\n          });\n        } else {\n          //console.log('🔔 No notification available from server, showing default notification');\n          \n          // Default notification when server returns false\n          setNotificationSettings({\n            message_text: 'Sizin için ürün seçebilirim',\n            ai_name: 'ConvState AI',\n            color_theme: 'blue',\n            display_duration: 5000,\n            animation_type: 'slide-in',\n            show_close_button: true,\n            color_theme_css: {\n              primary: '#3B82F6',\n              secondary: '#1D4ED8',\n              gradient: 'linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)'\n            }\n          });\n          setShowNotificationWidget(true);\n        }\n      } else {\n        //console.log('🔔 API Response not OK:', response.status);\n      }\n    } catch (error) {\n      // Notification widget error - fail silently\n      // Failed to load notification widget\n    }\n  }, [config?.projectId, onEvent]);\n\n  // Load widget customization on component mount\n  useEffect(() => {\n    loadWidgetCustomization();\n    checkTabAvailability();\n    loadNotificationWidget();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // Empty dependency array - run only once on mount\n\n  const handleNotificationClose = () => {\n    setShowNotificationWidget(false);\n    onEvent?.({\n      type: 'message_sent',\n      timestamp: new Date(),\n      sessionId: 'session_id',\n      data: { action: 'notification_closed' }\n    });\n  };\n\n  // Kampanya ile ilgili mesajları tespit et ve direkt tab 2'ye geç\n  useEffect(() => {\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage && lastMessage.role === 'user') {\n      const message = lastMessage.content.toLowerCase();\n      const campaignKeywords = ['kampanya', 'kampanyalar', 'kampanyalarda', 'indirim', 'fırsat', 'bedava', 'ücretsiz', 'taksit', 'promosyon', 'teklif', 'özel', 'avantaj'];\n      \n      // Özel durum: \"kampanyalarda neler var\" sorusu için tab navigation göster ama otomatik geçiş yapma\n      if (message.includes('kampanyalarda neler var')) {\n        onEvent?.({\n          type: 'message_sent',\n          timestamp: new Date(),\n          sessionId: 'session_id',\n          data: { action: 'campaign_inquiry', message }\n        });\n        return; // Otomatik tab geçişi yapma\n      }\n      \n      const hasCampaignKeyword = campaignKeywords.some(keyword => \n        message.includes(keyword)\n      );\n      \n      if (hasCampaignKeyword) {\n        setShowCampaignTab(true);\n        \n        // Kampanya mesajını ekleme - direkt tab değişimi\n        onEvent?.({\n          type: 'message_sent',\n          timestamp: new Date(),\n          sessionId: 'session_id',\n          data: { action: 'campaign_tab_opened', message }\n        });\n      }\n    }\n  }, [messages, onEvent]);\n\n  const handleSoundToggle = () => {\n    setIsSoundEnabled(!isSoundEnabled);\n    onEvent?.({\n      type: 'message_sent',\n      timestamp: new Date(),\n      sessionId: 'session_id',\n      data: { action: 'sound_toggle', enabled: !isSoundEnabled }\n    });\n  };\n\n  const handleSendMessage = (message: string) => {\n    sendMessage(message);\n    onEvent?.({\n      type: 'message_sent',\n      timestamp: new Date(),\n      sessionId: 'session_id',\n      data: { message }\n    });\n  };\n\n  const handleProductClickEvent = (product: any) => {\n    handleProductClick(product);\n    onEvent?.({\n      type: 'product_clicked',\n      timestamp: new Date(),\n      sessionId: 'session_id',\n      data: { product }\n    });\n  };\n\n  const handleFeedbackEvent = (feedback: any) => {\n    handleFeedback(feedback);\n    onEvent?.({\n      type: 'feedback_received',\n      timestamp: new Date(),\n      sessionId: 'session_id',\n      data: { feedback }\n    });\n  };\n\n  const handleActionClick = (action: string) => {\n    // Send action as a message\n    sendMessage(action);\n    onEvent?.({\n      type: 'message_sent',\n      timestamp: new Date(),\n      sessionId: 'session_id',\n      data: { action }\n    });\n  };\n\n  const handleCloseCampaignTab = () => {\n    setShowCampaignTab(false);\n  };\n\n  const handleBottomAvatarClick = () => {\n    // Close notification widget if it's visible\n    if (showNotificationWidget) {\n      setShowNotificationWidget(false);\n      onEvent?.({\n        type: 'message_sent',\n        timestamp: new Date(),\n        sessionId: 'session_id',\n        data: { action: 'notification_closed_via_avatar' }\n      });\n    }\n    \n    setIsChatVisible(!isChatVisible);\n    onEvent?.({\n      type: 'message_sent',\n      timestamp: new Date(),\n      sessionId: 'session_id',\n      data: { action: 'chat_toggle', visible: !isChatVisible }\n    });\n  };\n\n\n\n  const handleTabChange = (tabName: string) => {\n    // Check if the tab is available before switching\n    if (tabName === 'campaign' && !tabAvailability.campaigns) {\n      // Campaign tab is not available\n      return;\n    }\n    \n    if (tabName === 'faq' && !tabAvailability.faqs) {\n      // FAQ tab is not available\n      return;\n    }\n\n    setIsTabTransitioning(true);\n    \n    // Smooth transition için kısa delay\n    setTimeout(() => {\n      // Reset all tabs first\n      setShowCampaignTab(false);\n      setShowFAQTab(false);\n      \n      // Show selected tab\n      if (tabName === 'campaign' && tabAvailability.campaigns) {\n        setShowCampaignTab(true);\n      } else if (tabName === 'faq' && tabAvailability.faqs) {\n        setShowFAQTab(true);\n      }\n      // chat tab is default (both false)\n      \n      // Transition tamamlandıktan sonra state'i sıfırla\n      setTimeout(() => {\n        setIsTabTransitioning(false);\n      }, 400); // CSS transition süresi ile eşleştir\n    }, 100);\n  };\n\n  return (\n    <>\n      {/* Main Chat Container */}\n      <div className={`convstateai-widget chat-container ${!isChatVisible ? 'hidden' : ''} ${(config as any)?.customization?.position === 'center' ? 'center' : ''}`}>\n        {/* Main Header Container - Combined Header and Tabs */}\n        <div className=\"main-header\">\n          {/* Header */}\n          <div className=\"chat-header\">\n            <div className=\"header-left\">\n              <div className=\"agent-avatar\">\n                <img src={getAILogoUrls().small} alt=\"AI Conversion Agent\" />\n              </div>\n              <span className=\"agent-name\">{widgetCustomization.ai_name || 'ConvState AI'}</span>\n            </div>\n            <div className=\"header-right\">\n              {/* Sound Toggle Button */}\n              <button \n                className={`icon-button ${isSoundEnabled ? 'sound-enabled' : ''}`}\n                onClick={handleSoundToggle}\n                title={isSoundEnabled ? \"Sound On\" : \"Sound Off\"}\n              >\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M12 5L8 9H4V15H8L12 19V5Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <path d=\"M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          {/* Tabs Section - Only show if there are multiple tabs available */}\n          {(tabAvailability.campaigns || tabAvailability.faqs) && (\n            <div className=\"tabs-section\">\n              <div className=\"tab-navigation\">\n                {/* Chat Tab - Only show if other tabs are available */}\n                <button \n                  className={`tab-button ${!showCampaignTab && !showFAQTab ? 'active' : ''}`}\n                  onClick={() => handleTabChange('chat')}\n                  title=\"Chat\"\n                >\n                  💬 Chat\n                </button>\n                \n                {/* Campaign Tab - Only show if campaigns are available */}\n                {tabAvailability.campaigns && (\n                  <button \n                    className={`tab-button ${showCampaignTab ? 'active' : ''}`}\n                    onClick={() => handleTabChange('campaign')}\n                    title=\"Kampanyalar\"\n                  >\n                    🎯 Kampanyalar\n                  </button>\n                )}\n                \n                {/* FAQ Tab - Only show if FAQs are available */}\n                {tabAvailability.faqs && (\n                  <button \n                    className={`tab-button ${showFAQTab ? 'active' : ''}`}\n                    onClick={() => handleTabChange('faq')}\n                    title=\"Sık Sorulan Sorular\"\n                  >\n                    ❓ SSS\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Tab Content */}\n        <div className={`tab-content ${isTabTransitioning ? 'transitioning' : ''}`}>\n          {/* Chat Tab */}\n          <div className={`tab-panel ${!showCampaignTab ? 'active' : ''}`}>\n            <div className=\"aiagent-container\">\n              {/* Content */}\n              <div className=\"chat-content\">\n                {/* API Error Messages */}\n                {apiErrorMessages.map((errorMessage) => (\n                  <APIErrorMessage\n                    key={errorMessage.id}\n                    message={errorMessage}\n                    onRetry={() => {\n                      // Hata mesajını kaldır ve tekrar dene\n                      setApiErrorMessages(prev => \n                        prev.filter(msg => msg.id !== errorMessage.id)\n                      );\n                      // Gerekirse retry logic'i buraya eklenebilir\n                    }}\n                    onDismiss={() => {\n                      setApiErrorMessages(prev => \n                        prev.filter(msg => msg.id !== errorMessage.id)\n                      );\n                    }}\n                  />\n                ))}\n                \n                <MessageList \n                  messages={messages}\n                  onProductClick={handleProductClickEvent} \n                  onFeedback={handleFeedbackEvent}\n                  welcomeMessage={widgetCustomization.welcome_message}\n                  widgetCustomization={widgetCustomization}\n                  onAddMessage={addMessage}\n                  onSendMessage={sendMessage}\n                />\n              </div>\n              \n              {/* Action Buttons */}\n              <ActionButtons \n                onAction={handleActionClick} \n              />\n\n              {/* Input Area */}\n              <InputArea \n                onSendMessage={handleSendMessage} \n              />\n\n              {/* Footer */}\n              <ChatFooter />\n            </div>\n          </div>\n\n          {/* Campaign Tab - Only render if campaigns are available */}\n          {tabAvailability.campaigns && (\n            <div className={`tab-panel ${showCampaignTab ? 'active' : ''}`}>\n              <CampaignTab \n                isVisible={true}\n                onClose={handleCloseCampaignTab}\n              />\n            </div>\n          )}\n\n          {/* FAQ Tab - Only render if FAQs are available */}\n          {tabAvailability.faqs && (\n            <div className={`tab-panel ${showFAQTab ? 'active' : ''}`}>\n              <FAQTab \n                isVisible={true}\n                onClose={() => handleTabChange('chat')}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Bottom Right Avatar */}\n      <div className=\"bottom-avatar\" onClick={handleBottomAvatarClick}>\n        <img \n          src={getAILogoUrls().large} \n          alt=\"AI Conversion Assistant\" \n        />\n      </div>\n\n      {/* Notification Widget */}\n      <NotificationWidget\n        isVisible={showNotificationWidget}\n        onClose={handleNotificationClose}\n        onOpenChat={handleBottomAvatarClick}\n        settings={notificationSettings}\n      />\n    </>\n  );\n};\n\nexport default ChatContainer;\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","_regeneratorDefine","n","this","_invoke","_regenerator","toStringTag","c","Generator","u","create","f","p","y","G","v","a","d","bind","l","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_arrayLikeToArray","Array","_unsupportedIterableToArray","toString","slice","name","from","test","_toConsumableArray","isArray","next","getLogoUrl","logoName","window","convstateaiConfig","baseUrl","getCurrentDomain","concat","getAILogoUrls","small","large","API_CONFIG","BASE_URL","process","REACT_APP_API_BASE_URL","TIMEOUT","parseInt","REACT_APP_API_TIMEOUT","ENDPOINTS","CHAT","CAMPAIGNS","FAQS","PRODUCTS","WIDGET_CUSTOMIZATION","FEEDBACK","PRODUCT_CLICK","CARGO_TRACKING","ADD_TOKEN","EXHAUST_TOKEN","USAGE","PLANS","BILLING_HISTORY","DEFAULT_AI_NAME","REACT_APP_DEFAULT_AI_NAME","DEFAULT_WELCOME_MESSAGE","REACT_APP_DEFAULT_WELCOME_MESSAGE","SESSION_STORAGE_KEY","MAX_PRODUCTS_TO_SHOW","PRODUCT_IMAGE_PATH","TYPING_DELAY","MAX_MESSAGE_LENGTH","ENABLE_TTS","REACT_APP_ENABLE_TTS","ENABLE_PRODUCT_RECOMMENDATIONS","REACT_APP_ENABLE_PRODUCT_RECOMMENDATIONS","ENABLE_CAMPAIGN_TAB","REACT_APP_ENABLE_CAMPAIGN_TAB","ENABLE_FAQ_TAB","REACT_APP_ENABLE_FAQ_TAB","getAPIConfig","buildApiUrl","endpoint","getApiEndpoint","_ref","_message$data","_message$data2","_message$data3","_message$data4","message","onFeedback","onProductClick","onAddMessage","onSendMessage","products","data","_useState2","_slicedToArray","useState","feedbackGiven","setFeedbackGiven","scrollContainerRef","useRef","useEffect","feedbackKey","id","localStorage","getItem","scrollContainer","current","style","setProperty","wrapper","querySelector","calculatedWidth","width","minWidth","maxWidth","startX","scrollLeft","isDown","handleMouseDown","cursor","pageX","offsetLeft","handleMouseLeave","handleMouseUp","handleMouseMove","preventDefault","walk","handleTouchStart","touches","handleTouchMove","handleTouchEnd","addEventListener","removeEventListener","checkScrollability","containerWidth","clientWidth","contentWidth","scrollWidth","overflowX","resizeObserver","ResizeObserver","observe","disconnect","handleProductAction","_ref2","_callee","product","action","sessionId","response","compareMessage","_context","fetch","method","headers","body","JSON","stringify","session_id","product_id","timestamp","Date","toISOString","source","metadata","product_name","product_category","category","product_brand","brand","action_source","ok","json","type","widget","_x","_x2","handleFeedback","isHelpful","setItem","messageId","comment","_jsxs","className","children","_jsx","fontSize","fontWeight","marginBottom","title","ref","map","index","src","image","alt","onError","currentSrc","currentTarget","includes","onerror","color","price","display","alignItems","gap","rating","onClick","stopPropagation","flex","padding","backgroundColor","border","borderRadius","content","suggestions","suggestion","messageWithRecommendation","ai_note","fontStyle","_message$products","isLoading","setIsLoading","_useState4","productDetails","setProductDetails","_useState6","error","setError","fetchProductDetails","errorMessage","_t","product_description","description","product_price","status","Error","success","console","handlePriceComparison","_ref3","_callee2","_t2","_context2","comparison_type","undefined","comparison_data","height","viewBox","fill","xmlns","cx","cy","stroke","strokeWidth","x1","y1","x2","y2","strokeLinecap","strokeLinejoin","details","_Fragment","replace","ai_description","features","feature","usage_scenarios","scenario","specifications","entries","_ref4","_ref5","key","recommendations","rec","_comparisonData$simil","comparisonData","similarProducts","similar_products","location","reload","main_product","price_analysis","ai_comparison","comparison_summary","analysis","total_products_compared","position","getPricePositionIcon","price_position","getPriceRatingColor","price_rating","getPriceRatingText","average_price","min_price","max_price","price_difference","recommendation","best_value_product","orderNumber","setOrderNumber","showOrderDetails","setShowOrderDetails","showCargoTracking","setShowCargoTracking","_useState8","orderData","setOrderData","_useState0","cargoData","setCargoData","handleOrderNumberSubmit","_widgetConfig$apiEndp","widgetConfig","orderTrackingEndpoint","isOrderEnabled","_result$data","result","trim","apiEndpoints","orderTracking","order_id","order_date","items","shipping","courier","tracking_number","last_update","estimated_delivery","encodeURIComponent","feature_disabled","formatDate","dateString","toLocaleDateString","formatDateTime","toLocaleString","intent","placeholder","onChange","target","disabled","statusText","textAlign","margin","marginTop","item","quantity","cargoNumber","setCargoNumber","isTracking","setIsTracking","trackingResult","setTrackingResult","React","handleCargoTracking","cargoTrackingEndpoint","isCargoEnabled","cargoTracking","outline","onKeyPress","justifyContent","opacity","cargo_number","current_location","tracking_url","href","rel","textDecoration","_ref$type","Math","random","renderShimmerContent","_React$useState2","feedbackData","search_query","total_found","errorData","errorType","redirectUrl","redirect","getErrorIcon","getErrorTitle","getErrorDescription","tokens_remaining","tokens_used","tokens_total","usage_percentage","open","isUser","role","logoUrls","ProductRecommendationMessage","ProductDetailMessage","PriceComparisonMessage","lineHeight","dangerouslySetInnerHTML","__html","NoDataMessage","FeedbackMessage","OrderMessage","CargoTrackingMessage","GeneralMessage","ShimmerMessage","shimmerType","ErrorMessage","renderIntentBasedComponent","text","_ref$isUser","_ref$className","_useTTS","options","isPlaying","setIsPlaying","currentText","setCurrentText","currentSpeechRef","defaultOptions","useMemo","_objectSpread","lang","rate","pitch","volume","speak","useCallback","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","onstart","onend","event","alert","stop","isCurrentlyPlaying","useTTS","welcomeText","agentName","defaultLogoUrl","logoUrl","TTSButton","_classCallCheck","_defineProperties","_createClass","UuidService","config","prefix","storageKey","expiryHours","stored","getStoredUuid","isUuidValid","uuid","newUuid","generateUuid","storeUuid","now","substr","browserInfo","getBrowserFingerprint","canvas","document","createElement","ctx","getContext","textBaseline","font","fillText","fingerprint","navigator","userAgent","language","screen","getTimezoneOffset","toDataURL","join","hash","charCodeAt","abs","parsed","parse","expiryTime","isValid","removeItem","created","expires","instance","uuidService","getInstance","AuthService","token","userId","projectId","usageToken","auth","customizationToken","can_use_token","is_expired","_this$usageToken","_this$usageToken2","_this$usageToken3","reset_date","_this$usageToken4","days_until_reset","_this$usageToken5","_this$usageToken6","canUse","canUseToken","isExpired","isTokenExpired","remaining","getRemainingTokens","used","total","percentage","getUsagePercentage","resetDate","getTokenResetDate","daysUntilReset","getDaysUntilReset","ErrorService","errorHandlers","handler","_this","indexOf","splice","context","apiError","parseError","notifyError","_error$message","originalError","getStatusMessage","getClientErrorMessage","_error$data","showRetry","showDetails","autoHide","hideDelay","toUpperCase","getErrorWidgetConfig","errorService","ApiService","authService","url","_makeRequest","_args","getAuthHeaders","handleAPIError","_sendMessage","browserUuid","_args2","getBrowserUuid","makeRequest","project_id","browser_uuid","_trackCargo","_callee3","trackingNumber","_context3","_x3","_getWidgetCustomization","_callee4","_context4","_testEndpoint","_callee5","_context5","_x4","refreshUuid","_addTokens","_callee6","tokens","_context6","user_id","_x5","_x6","_exhaustTokens","_callee7","_context7","_x7","_getUsage","_callee8","_context8","_getPlans","_callee9","_context9","_getBillingHistory","_callee0","_context0","_checkTokenStatus","_callee1","usageResponse","usage","_context1","getUsage","useChat","aiApiKey","messages","setMessages","isTyping","setIsTyping","scrollToBottom","setScrollToBottom","setBrowserUuid","sessionExpiry","setSessionExpiry","chatContentRef","_useAIService","apiService","generateLocalResponse","userMessage","confidence","generateAIResponse","_options$projectId","_data$data2","_data$data3","apiUrl","_data$data","_errorResponse","errorResponse","aiResponse","log","generateResponse","sendFeedback","sendProductClick","productData","_t3","sendCargoTracking","_t4","checkTokenStatus","_t5","_t6","getPlans","_t7","clearError","useAIService","apiKey","aiServiceGenerateAIResponse","aiLoading","refreshBrowserUuid","uuidInfo","getUuidInfo","checkExpiry","setInterval","clearInterval","refreshSession","clearSession","clearUuid","getShimmerType","toLowerCase","addMessage","additionalData","some","msg","getTime","newMessage","protected","protectionExpiry","prev","updated","shimmerMessage","_aiResponse$data","delay","messageContent","setTimeout","sendMessage","handleProductClick","feedback","sendTypingIndicator","scrollTop","scrollHeight","customWelcomeMessage","welcomeMessage","widgetCustomization","ai_name","defaultWelcomeMessage","WelcomeMessage","MessageItem","_ref$disabled","_ref$placeholder","externalSetMessage","setMessage","_useSpeechToText","isListening","setIsListening","transcript","setTranscript","recognitionRef","startListening","onResult","continuous","interimResults","recognition","SpeechRecognition","webkitSpeechRecognition","onresult","finalTranscript","interimTranscript","resultIndex","results","isFinal","start","err","stopListening","reset","useSpeechToText","updateMessage","handleSend","shiftKey","newText","x","attributeName","values","dur","repeatCount","onAction","isDragging","setIsDragging","setStartX","setScrollLeft","handleGlobalMouseUp","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","isVisible","onClose","campaigns","setCampaigns","loading","setLoading","loadCampaigns","responseText","WIDGET_PROJECT_ID","_unused","getDiscountDisplay","campaign","discount_type","discount_value","discount","end_date","minimum_order_amount","openFAQ","setOpenFAQ","faqs","setFaqs","loadFAQs","markAsHelpful","prevFaqs","faq","helpful_count","markAsNotHelpful","not_helpful_count","short_answer","answer","onOpenChat","settings","isAnimating","setIsAnimating","isClosing","setIsClosing","handleClose","animation_type","message_text","show_close_button","_errorData$error","onRetry","onDismiss","setIsVisible","setShowDetails","timer","clearTimeout","getErrorColor","borderLeftColor","ceil","_customization","onEvent","onToggleChat","isSoundEnabled","setIsSoundEnabled","showCampaignTab","setShowCampaignTab","showFAQTab","setShowFAQTab","isTabTransitioning","setIsTabTransitioning","isChatVisible","setIsChatVisible","_useState10","showNotificationWidget","setShowNotificationWidget","_useState12","notificationSettings","setNotificationSettings","_useState14","tabAvailability","setTabAvailability","_useState16","apiErrorMessages","setApiErrorMessages","_useState18","welcome_message","ai_personality","theme_color","font_family","primary_color","secondary_color","rate_limit_per_minute","api_timeout_seconds","max_retry_attempts","enable_typing_indicator","enable_sound_notifications","setWidgetCustomization","_useChat","applyDynamicTheming","root","documentElement","logo_url","createErrorMessage","checkTabAvailability","_yield$Promise$allSet","_yield$Promise$allSet2","campaignsResponse","faqsResponse","campaignsAvailable","faqsAvailable","campaignsData","faqsData","allSettled","has_campaigns","has_faqs","loadWidgetCustomization","_config","_convstateaiConfig","_convstateaiConfig2","customization","customizationData","defaultTheme","themeSettings","WIDGET_CONFIG","customization_data","cargo_not_found_message","feature_disabled_message","error_message_template","order_not_found_message","custom_messages","loadNotificationWidget","has_notification","color_theme","display_duration","color_theme_css","primary","secondary","gradient","lastMessage","keyword","handleBottomAvatarClick","visible","handleTabChange","tabName","enabled","APIErrorMessage","MessageList","ActionButtons","InputArea","ChatFooter","CampaignTab","FAQTab","NotificationWidget"],"sourceRoot":""}