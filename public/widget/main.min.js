var convstateai;!function(){"use strict";var e,t={61:function(e,t,n){var s=n(848),a=(n(540),n(837));t.default=({welcomeText:e,agentName:t,logoUrl:n="/imgs/ai-conversion-logo-small.svg"})=>(0,s.jsxs)("div",Object.assign({className:"welcome-message-container"},{children:[(0,s.jsx)("div",Object.assign({className:"welcome-logo"},{children:(0,s.jsx)("img",{src:n,alt:t})})),(0,s.jsx)("div",Object.assign({className:"welcome-agent-name"},{children:t})),(0,s.jsx)("div",Object.assign({className:"welcome-text"},{children:e})),(0,s.jsx)("div",Object.assign({className:"welcome-tts"},{children:(0,s.jsx)(a.default,{text:e})}))]}))},121:function(e,t,n){var s=n(848),a=n(540),i=n(621);t.default=({onSendMessage:e,disabled:t=!1,placeholder:n="Message...",setMessage:r})=>{const[o,c]=(0,a.useState)(""),{isListening:d,startListening:l,stopListening:u,error:g}=(0,i.useSpeechToText)(),updateMessage=e=>{c(e),r&&r(e)},handleSend=()=>{o.trim()&&!t&&(e(o.trim()),c(""))};return(0,s.jsxs)("div",Object.assign({className:"input-area"},{children:[(0,s.jsxs)("div",Object.assign({className:"input-wrapper"},{children:[(0,s.jsx)("input",{type:"text",value:o,onChange:e=>updateMessage(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),handleSend())},placeholder:n,disabled:t,id:"messageInput"}),(0,s.jsx)("button",Object.assign({onClick:handleSend,disabled:t||!o.trim(),className:"send-button",title:"Mesaj Gönder"},{children:(0,s.jsxs)("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},{children:[(0,s.jsx)("path",{d:"M22 2L11 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}))]})),g&&(0,s.jsx)("div",Object.assign({className:"voice-error",style:{color:"#ef4444",fontSize:"0.75rem",marginBottom:"4px"}},{children:g})),(0,s.jsx)("button",Object.assign({className:"voice-button "+(d?"recording":""),onClick:()=>{d?u():l(e=>{const t=o.trim();updateMessage(t?`${t} ${e}`:e)})},title:d?"Ses Kaydını Durdur":"Sesli Mesaj Kaydet"},{children:d?(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},{children:[(0,s.jsxs)("rect",Object.assign({x:"2",y:"12",width:"2",height:"2",fill:"currentColor",className:"voice-wave wave-1"},{children:[(0,s.jsx)("animate",{attributeName:"height",values:"2;8;2",dur:"0.6s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",values:"12;8;12",dur:"0.6s",repeatCount:"indefinite"})]})),(0,s.jsxs)("rect",Object.assign({x:"6",y:"10",width:"2",height:"6",fill:"currentColor",className:"voice-wave wave-2"},{children:[(0,s.jsx)("animate",{attributeName:"height",values:"6;12;6",dur:"0.8s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",values:"10;6;10",dur:"0.8s",repeatCount:"indefinite"})]})),(0,s.jsxs)("rect",Object.assign({x:"10",y:"8",width:"2",height:"8",fill:"currentColor",className:"voice-wave wave-3"},{children:[(0,s.jsx)("animate",{attributeName:"height",values:"8;16;8",dur:"0.7s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",values:"8;4;8",dur:"0.7s",repeatCount:"indefinite"})]})),(0,s.jsxs)("rect",Object.assign({x:"14",y:"10",width:"2",height:"6",fill:"currentColor",className:"voice-wave wave-4"},{children:[(0,s.jsx)("animate",{attributeName:"height",values:"6;12;6",dur:"0.9s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",values:"10;6;10",dur:"0.9s",repeatCount:"indefinite"})]})),(0,s.jsxs)("rect",Object.assign({x:"18",y:"12",width:"2",height:"2",fill:"currentColor",className:"voice-wave wave-5"},{children:[(0,s.jsx)("animate",{attributeName:"height",values:"2;8;2",dur:"0.65s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"y",values:"12;8;12",dur:"0.65s",repeatCount:"indefinite"})]}))]})):(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},{children:[(0,s.jsx)("path",{d:"M12 1C11.2044 1 10.4413 1.31607 9.87868 1.87868C9.31607 2.44129 9 3.20435 9 4V12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12V4C15 3.20435 14.6839 2.44129 14.1213 1.87868C13.5587 1.31607 12.7956 1 12 1Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M19 10V12C19 13.8565 18.2625 15.637 16.9497 16.9497C15.637 18.2625 13.8565 19 12 19C10.1435 19 8.36301 18.2625 7.05025 16.9497C5.7375 15.637 5 13.8565 5 12V10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M12 19V23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M8 23H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}))]}))}},125:function(e,t,n){var s=n(848),a=n(540);n(895);t.default=({isVisible:e,onClose:t,settings:n})=>{const[i,r]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),d=(0,a.useCallback)(()=>{c(!0),setTimeout(()=>{t(),c(!1),r(!1)},300)},[t]);(0,a.useEffect)(()=>{e&&n&&r(!0)},[e,n,d]);if(!e||!n)return null;return(0,s.jsx)("div",Object.assign({className:"notification-widget "+(o?"notification-widget-closing":i?`notification-widget-${n.animation_type}`:""),onClick:()=>{(null==n?void 0:n.redirect_url)&&window.open(n.redirect_url,"_blank"),d()}},{children:(0,s.jsxs)("div",Object.assign({className:"notification-speech-bubble"},{children:[(0,s.jsxs)("div",Object.assign({className:"notification-content"},{children:[(0,s.jsx)("div",Object.assign({className:"notification-header"},{children:(0,s.jsx)("span",Object.assign({className:"notification-sender"},{children:(null==n?void 0:n.ai_name)||"CONVSTATEAI"}))})),(0,s.jsx)("div",Object.assign({className:"notification-message"},{children:n.message_text}))]})),n.show_close_button&&(0,s.jsx)("button",Object.assign({className:"notification-close-btn",onClick:e=>{e.stopPropagation(),d()},title:"Kapat"},{children:"×"}))]}))}))}},132:function(e,t,n){var s=n(848);n(540);t.default=({message:e,onFeedback:t})=>{const handleFeedback=n=>{t({messageId:e.id,isHelpful:n,comment:""})};return(0,s.jsxs)("div",Object.assign({className:"message agent-message"},{children:[(0,s.jsx)("div",Object.assign({className:"message-content-wrapper"},{children:(0,s.jsx)("p",{children:e.content||e.message||"Feedback mesajı bulunamadı."})})),(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("button",Object.assign({className:"feedback-button",onClick:()=>handleFeedback(!0)},{children:"👍 Evet, yardımcı oldu"})),(0,s.jsx)("button",Object.assign({className:"feedback-button negative",onClick:()=>handleFeedback(!1)},{children:"👎 Hayır, yardımcı olmadı"}))]}))]}))}},145:function(e,t,n){var s=n(848),a=n(540),__awaiter=function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};t.default=({message:e,onFeedback:t})=>{const[n,i]=(0,a.useState)(""),[r,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[l,u]=(0,a.useState)(null),[g,m]=(0,a.useState)(null),handleFeedback=n=>{t({messageId:e.id,isHelpful:n,comment:""})},handleOrderNumberSubmit=()=>__awaiter(void 0,void 0,void 0,function*(){var e,t;if(n.trim())try{const s=window.widgetConfig,a=null===(e=null==s?void 0:s.apiEndpoints)||void 0===e?void 0:e.orderTracking,i=null==s?void 0:s.isOrderEnabled;if(!a||!i)return u({order_id:n,status:"feature_disabled",order_date:(new Date).toISOString(),items:[],shipping:{courier:"N/A",tracking_number:"N/A",last_update:"N/A",location:"N/A",estimated_delivery:"N/A"},message:"Bu özellik yakında açılacak"}),void o(!0);const r=yield fetch(`/api/cargo/track/${encodeURIComponent(n)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const e=yield r.json();e.success&&e.data?(m(e.data),d(!0)):(null===(t=e.data)||void 0===t?void 0:t.feature_disabled)?(u({order_id:n,status:"feature_disabled",order_date:(new Date).toISOString(),items:[],shipping:{courier:"N/A",tracking_number:"N/A",last_update:"N/A",location:"N/A",estimated_delivery:"N/A"},message:"Bu özellik yakında açılacak"}),o(!0)):(u({order_id:n,status:"not_found",order_date:(new Date).toISOString(),items:[],shipping:{courier:"N/A",tracking_number:n,last_update:"N/A",location:"N/A",estimated_delivery:"N/A"},message:"Kargo numarası ile kargo bulunamadı"}),o(!0))}else u({order_id:n,status:"error",order_date:(new Date).toISOString(),items:[],shipping:{courier:"N/A",tracking_number:n,last_update:"N/A",location:"N/A",estimated_delivery:"N/A"},message:"Kargo takip sırasında hata oluştu"}),o(!0)}catch(e){u({order_id:n,status:"error",order_date:(new Date).toISOString(),items:[],shipping:{courier:"N/A",tracking_number:n,last_update:"N/A",location:"N/A",estimated_delivery:"N/A"},message:"Bağlantı hatası oluştu"}),o(!0)}}),formatDate=e=>new Date(e).toLocaleDateString("tr-TR"),formatDateTime=e=>new Date(e).toLocaleString("tr-TR");if("order_tracking"===e.intent&&!r&&!c)return(0,s.jsxs)("div",Object.assign({className:"message agent-message"},{children:[(0,s.jsxs)("div",Object.assign({className:"message-content-wrapper"},{children:[(0,s.jsx)("p",{children:"Kargo takip numaranızı veya sipariş numaranızı girin:"}),(0,s.jsxs)("div",Object.assign({className:"order-input-container"},{children:[(0,s.jsx)("input",{type:"text",placeholder:"Sipariş/Kargo numarası girin...",value:n,onChange:e=>i(e.target.value),className:"order-number-input"}),(0,s.jsx)("button",Object.assign({onClick:handleOrderNumberSubmit,className:"track-order-button",disabled:!n.trim()},{children:"Takip Et"}))]}))]})),(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("button",Object.assign({className:"feedback-button",onClick:()=>handleFeedback(!0)},{children:"👍 Yararlı"})),(0,s.jsx)("button",Object.assign({className:"feedback-button negative",onClick:()=>handleFeedback(!1)},{children:"👎 Yararsız"}))]}))]}));if(c&&g){const e="in_transit"===g.status?"Yolda":"delivered"===g.status?"Teslim Edildi":"pending"===g.status?"Hazırlanıyor":g.status;return(0,s.jsxs)("div",Object.assign({className:"message agent-message"},{children:[(0,s.jsx)("div",Object.assign({className:"message-content-wrapper"},{children:(0,s.jsxs)("div",Object.assign({className:"cargo-tracking-simple"},{children:[(0,s.jsx)("h3",{children:"Kargo Takip Bilgileri"}),(0,s.jsxs)("div",Object.assign({className:"cargo-info-grid"},{children:[(0,s.jsxs)("div",Object.assign({className:"cargo-info-item"},{children:[(0,s.jsx)("strong",{children:"Sipariş No:"}),(0,s.jsx)("span",{children:g.order_id})]})),(0,s.jsxs)("div",Object.assign({className:"cargo-info-item"},{children:[(0,s.jsx)("strong",{children:"Durum:"}),(0,s.jsx)("span",Object.assign({className:`status-badge ${g.status}`},{children:e}))]})),(0,s.jsxs)("div",Object.assign({className:"cargo-info-item"},{children:[(0,s.jsx)("strong",{children:"Kargo Firması:"}),(0,s.jsx)("span",{children:g.courier})]})),(0,s.jsxs)("div",Object.assign({className:"cargo-info-item"},{children:[(0,s.jsx)("strong",{children:"Takip Numarası:"}),(0,s.jsx)("span",Object.assign({className:"tracking-number"},{children:g.tracking_number}))]})),(0,s.jsxs)("div",Object.assign({className:"cargo-info-item"},{children:[(0,s.jsx)("strong",{children:"Son Güncelleme:"}),(0,s.jsx)("span",{children:formatDateTime(g.last_update)})]})),(0,s.jsxs)("div",Object.assign({className:"cargo-info-item"},{children:[(0,s.jsx)("strong",{children:"Tahmini Teslim:"}),(0,s.jsx)("span",{children:formatDate(g.estimated_delivery)})]}))]}))]}))})),(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("button",Object.assign({className:"feedback-button",onClick:()=>handleFeedback(!0)},{children:"👍 Yararlı"})),(0,s.jsx)("button",Object.assign({className:"feedback-button negative",onClick:()=>handleFeedback(!1)},{children:"👎 Yararsız"}))]}))]}))}return r&&l?(0,s.jsxs)("div",Object.assign({className:"message agent-message"},{children:[(0,s.jsx)("div",Object.assign({className:"message-content-wrapper"},{children:(0,s.jsx)("div",Object.assign({className:"order-tracking-details"},{children:"feature_disabled"===l.status?(0,s.jsxs)("div",Object.assign({className:"feature-disabled-message"},{children:[(0,s.jsx)("div",Object.assign({style:{fontSize:"48px",marginBottom:"16px",textAlign:"center"}},{children:"🚧"})),(0,s.jsx)("h3",Object.assign({style:{textAlign:"center",color:"#92400E",marginBottom:"16px"}},{children:"Bu özellik yakında açılacak"})),(0,s.jsx)("p",Object.assign({style:{textAlign:"center",color:"#92400E",fontSize:"14px",margin:0}},{children:"Sipariş takip özelliği geliştirme aşamasında"}))]})):"not_found"===l.status?(0,s.jsxs)("div",Object.assign({className:"cargo-not-found-message"},{children:[(0,s.jsx)("div",Object.assign({style:{fontSize:"48px",marginBottom:"16px",textAlign:"center"}},{children:"📦"})),(0,s.jsx)("h3",Object.assign({style:{textAlign:"center",color:"#DC2626",marginBottom:"16px"}},{children:"Kargo bulunamadı"})),(0,s.jsx)("p",Object.assign({style:{textAlign:"center",color:"#DC2626",fontSize:"14px",margin:0}},{children:l.message})),(0,s.jsx)("div",Object.assign({style:{textAlign:"center",marginTop:"16px"}},{children:(0,s.jsx)("button",Object.assign({onClick:()=>{o(!1),i("")},style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"}},{children:"Tekrar Dene"}))}))]})):"error"===l.status?(0,s.jsxs)("div",Object.assign({className:"cargo-error-message"},{children:[(0,s.jsx)("div",Object.assign({style:{fontSize:"48px",marginBottom:"16px",textAlign:"center"}},{children:"⚠️"})),(0,s.jsx)("h3",Object.assign({style:{textAlign:"center",color:"#DC2626",marginBottom:"16px"}},{children:"Hata oluştu"})),(0,s.jsx)("p",Object.assign({style:{textAlign:"center",color:"#DC2626",fontSize:"14px",margin:0}},{children:l.message})),(0,s.jsx)("div",Object.assign({style:{textAlign:"center",marginTop:"16px"}},{children:(0,s.jsx)("button",Object.assign({onClick:()=>{o(!1),i("")},style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"}},{children:"Tekrar Dene"}))}))]})):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{children:"Sipariş Takip Bilgileri"}),(0,s.jsxs)("div",Object.assign({className:"order-header"},{children:[(0,s.jsxs)("div",Object.assign({className:"order-id"},{children:["Sipariş No: ",l.order_id]})),(0,s.jsxs)("div",Object.assign({className:"order-status"},{children:["Durum: ","shipped"===l.status?"Kargoya Verildi":l.status]})),(0,s.jsxs)("div",Object.assign({className:"order-date"},{children:["Sipariş Tarihi: ",formatDate(l.order_date)]}))]})),(0,s.jsxs)("div",Object.assign({className:"order-items"},{children:[(0,s.jsx)("h4",{children:"Sipariş Edilen Ürünler:"}),l.items.map((e,t)=>(0,s.jsxs)("div",Object.assign({className:"order-item"},{children:[(0,s.jsx)("span",Object.assign({className:"item-name"},{children:e.name})),(0,s.jsxs)("span",Object.assign({className:"item-quantity"},{children:["x",e.quantity]})),(0,s.jsxs)("span",Object.assign({className:"item-price"},{children:["₺",e.price]}))]}),t))]})),(0,s.jsxs)("div",Object.assign({className:"shipping-info"},{children:[(0,s.jsx)("h4",{children:"Kargo Bilgileri:"}),(0,s.jsxs)("div",Object.assign({className:"shipping-detail"},{children:[(0,s.jsx)("strong",{children:"Kargo Firması:"})," ",l.shipping.courier]})),(0,s.jsxs)("div",Object.assign({className:"shipping-detail"},{children:[(0,s.jsx)("strong",{children:"Takip Numarası:"})," ",l.shipping.tracking_number]})),(0,s.jsxs)("div",Object.assign({className:"shipping-detail"},{children:[(0,s.jsx)("strong",{children:"Son Güncelleme:"})," ",formatDateTime(l.shipping.last_update)]})),(0,s.jsxs)("div",Object.assign({className:"shipping-detail"},{children:[(0,s.jsx)("strong",{children:"Konum:"})," ",l.shipping.location]})),(0,s.jsxs)("div",Object.assign({className:"shipping-detail"},{children:[(0,s.jsx)("strong",{children:"Tahmini Teslim:"})," ",formatDate(l.shipping.estimated_delivery)]}))]})),(0,s.jsx)("div",Object.assign({className:"order-message"},{children:(0,s.jsx)("p",{children:l.message})}))]})}))})),(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("button",Object.assign({className:"feedback-button",onClick:()=>handleFeedback(!0)},{children:"👍 Yararlı"})),(0,s.jsx)("button",Object.assign({className:"feedback-button negative",onClick:()=>handleFeedback(!1)},{children:"👎 Yararsız"}))]}))]})):(0,s.jsxs)("div",Object.assign({className:"message agent-message"},{children:[(0,s.jsx)("div",Object.assign({className:"message-content-wrapper"},{children:(0,s.jsx)("p",{children:e.content||e.message||"Sipariş mesajı bulunamadı."})})),(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("button",Object.assign({className:"feedback-button",onClick:()=>handleFeedback(!0)},{children:"👍 Yararlı"})),(0,s.jsx)("button",Object.assign({className:"feedback-button negative",onClick:()=>handleFeedback(!1)},{children:"👎 Yararsız"}))]}))]}))}},191:function(e,t,n){var s=n(848);n(540),n(733);t.default=({message:e})=>{const t=e.data||{},n=t.error||"UNKNOWN_ERROR",a=e.message||"Bir hata oluştu",i=t.redirect;return(0,s.jsxs)("div",Object.assign({className:"error-message"},{children:[(0,s.jsxs)("div",Object.assign({className:"error-header"},{children:[(0,s.jsx)("div",Object.assign({className:"error-icon"},{children:(()=>{switch(n){case"NO_USAGE_TOKENS":return"🔑";case"USAGE_TOKENS_EXPIRED":return"⏰";case"INSUFFICIENT_TOKENS":return"💳";default:return"⚠️"}})()})),(0,s.jsxs)("div",Object.assign({className:"error-content"},{children:[(0,s.jsx)("h3",Object.assign({className:"error-title"},{children:(()=>{switch(n){case"NO_USAGE_TOKENS":return"Token Bulunamadı";case"USAGE_TOKENS_EXPIRED":return"Token Süresi Dolmuş";case"INSUFFICIENT_TOKENS":return"Yetersiz Token";default:return"Hata"}})()})),(0,s.jsx)("p",Object.assign({className:"error-description"},{children:(()=>{switch(n){case"NO_USAGE_TOKENS":return"Kullanım token'ınız bulunmuyor. Ürünü kullanmak için satın almanız gerekiyor.";case"USAGE_TOKENS_EXPIRED":return"Abonelik süreniz dolmuş. Ürünü kullanmak için satın almanız gerekiyor.";case"INSUFFICIENT_TOKENS":return"Yetersiz kullanım token'ı. Lütfen ürün kullanımı için token satın almanız gerekiyor.";default:return a}})()}))]}))]})),"INSUFFICIENT_TOKENS"===n&&void 0!==t.tokens_remaining?(0,s.jsxs)("div",Object.assign({className:"token-info"},{children:[(0,s.jsxs)("div",Object.assign({className:"token-stats"},{children:[(0,s.jsxs)("div",Object.assign({className:"token-stat"},{children:[(0,s.jsx)("span",Object.assign({className:"label"},{children:"Kalan Token:"})),(0,s.jsx)("span",Object.assign({className:"value"},{children:t.tokens_remaining}))]})),(0,s.jsxs)("div",Object.assign({className:"token-stat"},{children:[(0,s.jsx)("span",Object.assign({className:"label"},{children:"Kullanılan:"})),(0,s.jsx)("span",Object.assign({className:"value"},{children:t.tokens_used}))]})),(0,s.jsxs)("div",Object.assign({className:"token-stat"},{children:[(0,s.jsx)("span",Object.assign({className:"label"},{children:"Toplam:"})),(0,s.jsx)("span",Object.assign({className:"value"},{children:t.tokens_total}))]}))]})),(0,s.jsx)("div",Object.assign({className:"usage-bar"},{children:(0,s.jsx)("div",{className:"usage-fill",style:{width:`${t.usage_percentage||0}%`}})}))]})):null,i&&(0,s.jsx)("div",Object.assign({className:"error-actions"},{children:(0,s.jsx)("button",Object.assign({className:"upgrade-button",onClick:()=>{i&&window.open(i,"_blank")}},{children:"Planı Güncelle"}))}))]}))}},278:function(e,t,n){var s=n(554),__awaiter=function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};const a={chat:{load:e=>__awaiter(void 0,void 0,void 0,function*(){const t=s.WidgetLoader.getInstance();yield t.load(e)}),destroy:()=>{s.WidgetLoader.getInstance().destroy()},sendMessage:e=>__awaiter(void 0,void 0,void 0,function*(){return s.WidgetLoader.getInstance().sendMessage(e)}),setAuth:(e,t)=>{s.WidgetLoader.getInstance().setAuth(e,t)},getConfig:()=>s.WidgetLoader.getInstance().getConfig(),isLoaded:()=>s.WidgetLoader.getInstance().isWidgetLoaded()}};"undefined"!=typeof window&&(window.convstateai=a),"undefined"!=typeof globalThis&&(globalThis.convstateai=a)},344:function(e,t,n){n.d(t,{useTTS:function(){return useTTS}});var s=n(540);const useTTS=(e={})=>{const[t,n]=(0,s.useState)(!1),[a,i]=(0,s.useState)(""),r=(0,s.useRef)(null),o=(0,s.useMemo)(()=>Object.assign({lang:"tr-TR",rate:.9,pitch:1,volume:1},e),[e]),c=(0,s.useCallback)(e=>{if(r.current&&(speechSynthesis.cancel(),r.current=null),!("speechSynthesis"in window))return void alert("Bu tarayıcıda text-to-speech desteklenmiyor.");const t=new SpeechSynthesisUtterance(e);t.lang=o.lang,t.rate=o.rate,t.pitch=o.pitch,t.volume=o.volume,i(e),n(!0),t.onstart=()=>{},t.onend=()=>{n(!1),i(""),r.current=null},t.onerror=e=>{n(!1),i(""),r.current=null},r.current=t,speechSynthesis.speak(t)},[o]),d=(0,s.useCallback)(()=>{r.current&&(speechSynthesis.cancel(),r.current=null,n(!1),i(""))},[]),l=(0,s.useCallback)(e=>t&&a===e,[t,a]);return{speak:c,stop:d,isPlaying:t,currentText:a,isCurrentlyPlaying:l}}},355:function(e,t,n){n.d(t,{ApiService:function(){return i}});var s=n(683),a=n(872),__awaiter=function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};class i{constructor(){this.authService=s.AuthService.getInstance(),this.baseUrl=""}static getInstance(){return i.instance||(i.instance=new i),i.instance}setBaseUrl(e){this.baseUrl=e}makeRequest(e,t={}){return __awaiter(this,void 0,void 0,function*(){try{const n=`${this.baseUrl}${e}`,s=Object.assign(Object.assign({},this.authService.getAuthHeaders()),t.headers),a=yield fetch(n,Object.assign(Object.assign({},t),{headers:s}));if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return yield a.json()}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}})}sendMessage(e,t=1){return __awaiter(this,void 0,void 0,function*(){const n=a.uuidService.getBrowserUuid();return this.makeRequest("/chat",{method:"POST",headers:{"X-Browser-UUID":n},body:JSON.stringify({message:e,project_id:t,browser_uuid:n})})})}trackCargo(e){return __awaiter(this,void 0,void 0,function*(){return this.makeRequest("/cargo/track",{method:"POST",body:JSON.stringify({tracking_number:e})})})}getWidgetCustomization(){return __awaiter(this,void 0,void 0,function*(){return this.makeRequest("/widget-customization",{method:"GET"})})}testEndpoint(e){return __awaiter(this,void 0,void 0,function*(){return this.makeRequest("/test-endpoint",{method:"POST",body:JSON.stringify({endpoint:e})})})}getBrowserUuid(){return a.uuidService.getBrowserUuid()}refreshBrowserUuid(){return a.uuidService.refreshUuid()}getUuidDebugInfo(){return a.uuidService.getDebugInfo()}}},366:function(e,t,n){var s=n(848),a=n(540),__awaiter=function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};t.default=({message:e,onProductClick:t,onFeedback:n,onAddMessage:i,onSendMessage:r})=>{var o,c,d,l;const u=e.products||(null===(o=e.data)||void 0===o?void 0:o.products)||[],[g,m]=(0,a.useState)(!1),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{const t=`feedback_${e.id}`;localStorage.getItem(t)&&m(!0)},[e.id]),(0,a.useEffect)(()=>{const e=p.current;if(!e)return;let t,n,s=!1;const handleMouseDown=a=>{s=!0,e.style.cursor="grabbing",t=a.pageX-e.offsetLeft,n=e.scrollLeft},handleMouseLeave=()=>{s=!1,e.style.cursor="grab"},handleMouseUp=()=>{s=!1,e.style.cursor="grab"},handleMouseMove=a=>{if(!s)return;a.preventDefault();const i=2*(a.pageX-e.offsetLeft-t);e.scrollLeft=n-i},handleTouchStart=s=>{t=s.touches[0].pageX-e.offsetLeft,n=e.scrollLeft},handleTouchMove=s=>{if(!t)return;s.preventDefault();const a=2*(s.touches[0].pageX-e.offsetLeft-t);e.scrollLeft=n-a},handleTouchEnd=()=>{t=0};return e.addEventListener("mousedown",handleMouseDown),e.addEventListener("mouseleave",handleMouseLeave),e.addEventListener("mouseup",handleMouseUp),e.addEventListener("mousemove",handleMouseMove),e.addEventListener("touchstart",handleTouchStart),e.addEventListener("touchmove",handleTouchMove),e.addEventListener("touchend",handleTouchEnd),()=>{e.removeEventListener("mousedown",handleMouseDown),e.removeEventListener("mouseleave",handleMouseLeave),e.removeEventListener("mouseup",handleMouseUp),e.removeEventListener("mousemove",handleMouseMove),e.removeEventListener("touchstart",handleTouchStart),e.removeEventListener("touchmove",handleTouchMove),e.removeEventListener("touchend",handleTouchEnd)}},[]);const handleProductAction=(e,n)=>__awaiter(void 0,void 0,void 0,function*(){try{const s=localStorage.getItem("chat_session_id")||"unknown",a=yield fetch("/api/product-interaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:s,product_id:e.id,action:n,timestamp:(new Date).toISOString(),source:"chat_widget",metadata:{product_name:e.name,product_category:e.category,product_brand:e.brand,action_source:"chat_widget"}})});if(a.ok&&(yield a.json(),"view"===n))if(e.url){const t=new URL(e.url);if(t.searchParams.set("ref","chat"),t.searchParams.set("session",s),t.searchParams.set("action","view"),t.searchParams.set("product_id",e.id.toString()),window.open(t.toString(),"_blank"),i){const n=`🔗 Ürün detay sayfasına yönlendiriliyorsunuz:\n\n[${t.toString()}](${t.toString()})`,s={type:"product_link",data:{product_name:e.name,product_url:t.toString(),action:"view"}};i(n,"agent",[],s)}}else t(e)}catch(e){}}),handleFeedback=t=>{const s=`feedback_${e.id}`;localStorage.setItem(s,JSON.stringify({isHelpful:t,timestamp:(new Date).toISOString()})),m(!0),n({messageId:e.id,isHelpful:t,comment:""})};return(0,s.jsxs)("div",Object.assign({className:"message agent-message"},{children:[(0,s.jsxs)("div",Object.assign({className:"message-content-wrapper"},{children:[(0,s.jsx)("h4",Object.assign({style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px"}},{children:(null===(c=e.data)||void 0===c?void 0:c.title)||"Senin için önerdiğim ürünler:"})),u&&u.length>0?(0,s.jsx)("div",Object.assign({className:"products-scroll-container",ref:p},{children:(0,s.jsx)("div",Object.assign({className:"products-wrapper"},{children:u.map(e=>(0,s.jsxs)("div",Object.assign({className:"product-card"},{children:[(0,s.jsx)("div",Object.assign({className:"product-image"},{children:(0,s.jsx)("img",{src:e.image||"/imgs/default-product.jpg",alt:e.name,onError:e=>{e.currentTarget.src="/imgs/default-product.jpg",e.currentTarget.onerror=null}})})),(0,s.jsxs)("div",Object.assign({className:"product-info"},{children:[(0,s.jsx)("h4",{children:e.name}),(0,s.jsx)("p",Object.assign({style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"}},{children:e.brand})),(0,s.jsxs)("p",Object.assign({className:"product-price"},{children:["$",e.price]})),(0,s.jsxs)("div",Object.assign({style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"8px"}},{children:[(0,s.jsx)("span",Object.assign({style:{fontSize:"10px",color:"#6B7280"}},{children:"Rating:"})),(0,s.jsxs)("span",Object.assign({style:{fontSize:"10px",color:"#F59E0B"}},{children:["★ ",e.rating]}))]})),(0,s.jsxs)("div",Object.assign({className:"product-buttons-container",style:{display:"flex",gap:"6px"}},{children:[(0,s.jsx)("button",Object.assign({className:"product-button primary",onClick:t=>{t.stopPropagation(),handleProductAction(e,"view")},style:{flex:1,padding:"6px 8px",fontSize:"11px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},{children:"Detaylar"})),(0,s.jsx)("button",Object.assign({className:"product-button secondary",onClick:t=>{t.stopPropagation(),handleProductAction(e,"compare")},style:{flex:1,padding:"6px 8px",fontSize:"11px",backgroundColor:"#F59E0B",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},{children:"Karşılaştır"}))]}))]}))]}),e.id))}))})):(0,s.jsxs)("div",Object.assign({className:"no-products-message"},{children:[(0,s.jsx)("div",Object.assign({className:"no-products-icon"},{children:"🔍"})),(0,s.jsx)("p",{children:e.content||"Ürün bulunamadı."}),(null===(d=e.data)||void 0===d?void 0:d.suggestions)&&e.data.suggestions.length>0&&(0,s.jsxs)("div",Object.assign({className:"suggestions"},{children:[(0,s.jsx)("p",Object.assign({className:"suggestions-title"},{children:"Size şunları önerebilirim:"})),(0,s.jsx)("div",Object.assign({className:"suggestion-buttons"},{children:e.data.suggestions.map((e,t)=>(0,s.jsx)("button",Object.assign({className:"suggestion-button",onClick:()=>{const t=`${e} öner`;r?r(t):i&&i(t,"user")}},{children:e}),t))}))]}))]})),u.length>0&&(0,s.jsxs)("div",Object.assign({className:"ai-note"},{children:[(0,s.jsx)("span",Object.assign({className:"ai-icon"},{children:"AI"})),(null===(l=e.data)||void 0===l?void 0:l.ai_note)||"Tercihlerinize göre önerilen ürünler."]}))]})),!g&&(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("button",Object.assign({className:"feedback-button",onClick:()=>handleFeedback(!0)},{children:"👍 Yararlı"})),(0,s.jsx)("button",Object.assign({className:"feedback-button negative",onClick:()=>handleFeedback(!1)},{children:"👎 Yararsız"}))]})),g&&(0,s.jsx)("div",Object.assign({className:"feedback-thanks"},{children:(0,s.jsx)("span",Object.assign({style:{fontSize:"12px",color:"#10B981",fontStyle:"italic"}},{children:"✓ Feedback'iniz için teşekkürler!"}))}))]}))}},373:function(e,t,n){var s=n(848);n(540);t.default=({message:e,onFeedback:t})=>{const handleFeedback=n=>{t({messageId:e.id,isHelpful:n,comment:""})};return(0,s.jsxs)("div",Object.assign({className:"message agent-message"},{children:[(0,s.jsx)("div",Object.assign({className:"message-content-wrapper"},{children:(0,s.jsx)("p",{children:e.content||e.message||"Mesaj içeriği bulunamadı."})})),(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("button",Object.assign({className:"feedback-button",onClick:()=>handleFeedback(!0)},{children:"👍 Yararlı"})),(0,s.jsx)("button",Object.assign({className:"feedback-button negative",onClick:()=>handleFeedback(!1)},{children:"👎 Yararsız"}))]}))]}))}},393:function(e,t,n){n.r(t);var s=n(848),a=n(540),i=n(547),r=n(121),o=n(819),c=n(799),d=n(485),l=n(805),u=n(125),g=n(847),m=n(963),p=(n(769),function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})});t.default=({config:e,onEvent:t,onFeedback:n,onToggleChat:h})=>{var b;const[j,x]=(0,a.useState)(!0),[f,v]=(0,a.useState)(!1),[_,y]=(0,a.useState)(!1),[w,O]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[E,A]=(0,a.useState)(null),[T,I]=(0,a.useState)({campaigns:!1,faqs:!1,loading:!0}),[P,L]=(0,a.useState)({ai_name:"ConvState AI",welcome_message:"Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?",ai_personality:"friendly",theme_color:"#3B82F6",font_family:"Inter",primary_color:"#3B82F6",secondary_color:"#6B7280",language:"tr",rate_limit_per_minute:10,api_timeout_seconds:10,max_retry_attempts:2,enable_typing_indicator:!0,enable_sound_notifications:!1}),{messages:D,sendMessage:B,handleProductClick:U,handleFeedback:R,addMessage:z}=(0,g.useChat)(void 0,null==e?void 0:e.projectId),M=(0,a.useCallback)(()=>{if("undefined"==typeof document)return;const e=document.documentElement;e.style.setProperty("--widget-primary-color",P.primary_color),e.style.setProperty("--widget-secondary-color",P.secondary_color),e.style.setProperty("--widget-theme-color",P.theme_color),e.style.setProperty("--widget-font-family",P.font_family),P.logo_url&&e.style.setProperty("--widget-logo-url",`url(${P.logo_url})`)},[P]);(0,a.useEffect)(()=>{M()},[M]);const F=(0,a.useCallback)(()=>p(void 0,void 0,void 0,function*(){try{const t=(0,m.buildApiUrl)("/api"),n="undefined"!=typeof window&&window.WIDGET_SITE_ID||"1",[s,a]=yield Promise.allSettled([fetch(`${t}/campaigns/check-availability?site_id=${n}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Project-ID":(null==e?void 0:e.projectId)||"1401"}}),fetch(`${t}/faqs/check-availability?site_id=${n}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Project-ID":(null==e?void 0:e.projectId)||"1401"}})]);let i=!1,r=!1;if("fulfilled"===s.status&&s.value.ok){const e=yield s.value.json();i=e.success&&e.has_campaigns}if("fulfilled"===a.status&&a.value.ok){const e=yield a.value.json();r=e.success&&e.has_faqs}I({campaigns:i,faqs:r,loading:!1})}catch(e){I({campaigns:!1,faqs:!1,loading:!1})}}),[null==e?void 0:e.projectId]),$=(0,a.useCallback)(()=>p(void 0,void 0,void 0,function*(){try{const n=(0,m.buildApiUrl)("/api/notification-widget"),s="undefined"!=typeof window&&window.WIDGET_SITE_ID||"1",a=(null==e?void 0:e.projectId)||"1401",i=yield fetch(`${n}/check-availability?site_id=${s}&project_id=${a}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Project-ID":a}});if(i.ok){const e=yield i.json();e.success&&e.has_notification&&(A(e.data),C(!0),null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{action:"notification_shown",message:e.data.message_text}}))}}catch(e){console.warn("Failed to load notification widget:",e)}}),[null==e?void 0:e.projectId,t]);(0,a.useEffect)(()=>{p(void 0,void 0,void 0,function*(){try{const e="undefined"!=typeof window&&window.WIDGET_CONFIG?window.WIDGET_CONFIG:{DEFAULT_AI_NAME:"ConvState AI",DEFAULT_WELCOME_MESSAGE:"Merhaba! Size nasıl yardımcı olabilirim?"};try{const t=(0,m.buildApiUrl)("/api/widget-customization"),n=yield fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-Project-ID":(null==e?void 0:e.projectId)||"1401"}});if(n.ok){const t=yield n.json();if(t.success&&t.data){const n=t.data.widgetCustomization||t.data,s=t.data.apiEndpoints||{},a=t.data.isCargoEnabled||!1,i=t.data.isOrderEnabled||!1;return L({ai_name:n.ai_name||e.DEFAULT_AI_NAME,welcome_message:n.welcome_message||e.DEFAULT_WELCOME_MESSAGE,ai_personality:n.ai_personality||"friendly",theme_color:n.theme_color||"#3B82F6",font_family:n.font_family||"Inter",primary_color:n.primary_color||"#3B82F6",secondary_color:n.secondary_color||"#6B7280",language:n.language||"tr",rate_limit_per_minute:n.rate_limit_per_minute||10,api_timeout_seconds:n.api_timeout_seconds||10,max_retry_attempts:n.max_retry_attempts||2,enable_typing_indicator:void 0===n.enable_typing_indicator||n.enable_typing_indicator,enable_sound_notifications:n.enable_sound_notifications||!1,cargo_not_found_message:n.cargo_not_found_message,feature_disabled_message:n.feature_disabled_message,error_message_template:n.error_message_template,order_not_found_message:n.order_not_found_message,logo_url:n.logo_url,custom_messages:n.custom_messages}),void("undefined"!=typeof window&&(window.widgetConfig=Object.assign(Object.assign({},window.widgetConfig),{apiEndpoints:{cargoTracking:s.cargoTracking||null,orderTracking:s.orderTracking||null},isCargoEnabled:a,isOrderEnabled:i})))}console.warn("⚠️ API Response not successful:",t)}}catch(e){}L({ai_name:e.DEFAULT_AI_NAME,welcome_message:e.DEFAULT_WELCOME_MESSAGE,ai_personality:"friendly",theme_color:"#3B82F6",font_family:"Inter",primary_color:"#3B82F6",secondary_color:"#6B7280",language:"tr",rate_limit_per_minute:10,api_timeout_seconds:10,max_retry_attempts:2,enable_typing_indicator:!0,enable_sound_notifications:!1})}catch(e){L({ai_name:"ConvState AI",welcome_message:"Merhaba! Size nasıl yardımcı olabilirim?",ai_personality:"friendly",theme_color:"#3B82F6",font_family:"Inter",primary_color:"#3B82F6",secondary_color:"#6B7280",language:"tr",rate_limit_per_minute:10,api_timeout_seconds:10,max_retry_attempts:2,enable_typing_indicator:!0,enable_sound_notifications:!1})}}),F(),$()},[]);(0,a.useEffect)(()=>{const e=D[D.length-1];if(e&&"user"===e.role){const n=e.content.toLowerCase(),s=["kampanya","kampanyalar","kampanyalarda","indirim","fırsat","bedava","ücretsiz","taksit","promosyon","teklif","özel","avantaj"];if(n.includes("kampanyalarda neler var"))return void(null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{action:"campaign_inquiry",message:n}}));s.some(e=>n.includes(e))&&(v(!0),null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{action:"campaign_tab_opened",message:n}}))}},[D,t]);const handleTabChange=e=>{"campaign"!==e||T.campaigns?"faq"!==e||T.faqs?(O(!0),setTimeout(()=>{v(!1),y(!1),"campaign"===e&&T.campaigns?v(!0):"faq"===e&&T.faqs&&y(!0),setTimeout(()=>{O(!1)},400)},100)):console.warn("FAQ tab is not available"):console.warn("Campaign tab is not available")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",Object.assign({className:`convstateai-widget chat-container ${N?"":"hidden"} ${"center"===(null===(b=null==e?void 0:e.customization)||void 0===b?void 0:b.position)?"center":""}`},{children:[(0,s.jsxs)("div",Object.assign({className:"main-header"},{children:[(0,s.jsxs)("div",Object.assign({className:"chat-header"},{children:[(0,s.jsxs)("div",Object.assign({className:"header-left"},{children:[(0,s.jsx)("div",Object.assign({className:"agent-avatar"},{children:(0,s.jsx)("img",{src:"/imgs/ai-conversion-logo-small.svg",alt:"AI Conversion Agent"})})),(0,s.jsx)("span",Object.assign({className:"agent-name"},{children:P.ai_name}))]})),(0,s.jsx)("div",Object.assign({className:"header-right"},{children:(0,s.jsx)("button",Object.assign({className:"icon-button "+(j?"sound-enabled":""),onClick:()=>{x(!j),null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{action:"sound_toggle",enabled:!j}})},title:j?"Sound On":"Sound Off"},{children:(0,s.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},{children:[(0,s.jsx)("path",{d:"M12 5L8 9H4V15H8L12 19V5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}))}))]})),(T.campaigns||T.faqs)&&(0,s.jsx)("div",Object.assign({className:"tabs-section"},{children:(0,s.jsxs)("div",Object.assign({className:"tab-navigation"},{children:[(0,s.jsx)("button",Object.assign({className:"tab-button "+(f||_?"":"active"),onClick:()=>handleTabChange("chat"),title:"Chat"},{children:"💬 Chat"})),T.campaigns&&(0,s.jsx)("button",Object.assign({className:"tab-button "+(f?"active":""),onClick:()=>handleTabChange("campaign"),title:"Kampanyalar"},{children:"🎯 Kampanyalar"})),T.faqs&&(0,s.jsx)("button",Object.assign({className:"tab-button "+(_?"active":""),onClick:()=>handleTabChange("faq"),title:"Sık Sorulan Sorular"},{children:"❓ SSS"}))]}))}))]})),(0,s.jsxs)("div",Object.assign({className:"tab-content "+(w?"transitioning":"")},{children:[(0,s.jsx)("div",Object.assign({className:"tab-panel "+(f?"":"active")},{children:(0,s.jsxs)("div",Object.assign({className:"aiagent-container"},{children:[(0,s.jsx)("div",Object.assign({className:"chat-content"},{children:(0,s.jsx)(i.default,{messages:D,onProductClick:e=>{U(e),null==t||t({type:"product_clicked",timestamp:new Date,sessionId:"session_id",data:{product:e}})},onFeedback:e=>{R(e),null==t||t({type:"feedback_received",timestamp:new Date,sessionId:"session_id",data:{feedback:e}})},welcomeMessage:P.welcome_message,widgetCustomization:P,onAddMessage:z,onSendMessage:B})})),(0,s.jsx)(o.default,{onAction:e=>{B(e),null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{action:e}})}}),(0,s.jsx)(r.default,{onSendMessage:e=>{B(e),null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{message:e}})}}),(0,s.jsx)(c.default,{})]}))})),T.campaigns&&(0,s.jsx)("div",Object.assign({className:"tab-panel "+(f?"active":"")},{children:(0,s.jsx)(d.default,{isVisible:!0,onClose:()=>{v(!1)}})})),T.faqs&&(0,s.jsx)("div",Object.assign({className:"tab-panel "+(_?"active":"")},{children:(0,s.jsx)(l.default,{isVisible:!0,onClose:()=>handleTabChange("chat")})}))]}))]})),(0,s.jsx)("div",Object.assign({className:"bottom-avatar",onClick:()=>{S&&(C(!1),null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{action:"notification_closed_via_avatar"}})),k(!N),null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{action:"chat_toggle",visible:!N}})}},{children:(0,s.jsx)("img",{src:"/imgs/ai-conversion-logo.svg",alt:"AI Conversion Assistant"})})),(0,s.jsx)(u.default,{isVisible:S,onClose:()=>{C(!1),null==t||t({type:"message_sent",timestamp:new Date,sessionId:"session_id",data:{action:"notification_closed"}})},settings:E})]})}},485:function(e,t,n){var s=n(848),a=n(540),i=(n(769),function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})});t.default=({isVisible:e,onClose:t})=>{const[n,r]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&loadCampaigns()},[e]);const loadCampaigns=()=>i(void 0,void 0,void 0,function*(){try{c(!0),l(null);const e={NODE_ENV:"production",REACT_APP_API_BASE_URL:"http://127.0.0.1:8000",REACT_APP_API_TIMEOUT:"10000",REACT_APP_DEFAULT_AI_NAME:"ConvState AI",REACT_APP_DEFAULT_WELCOME_MESSAGE:"Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?",REACT_APP_ENABLE_TTS:"true",REACT_APP_ENABLE_PRODUCT_RECOMMENDATIONS:"true",REACT_APP_ENABLE_CAMPAIGN_TAB:"true",REACT_APP_ENABLE_FAQ_TAB:"true",REACT_APP_DEBUG:"false"}.REACT_APP_API_URL||"http://localhost:8000",t="undefined"!=typeof window&&window.WIDGET_SITE_ID||"1",n=yield fetch(`${e}/api/campaigns?site_id=${t}`,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!n.ok){if(404===n.status)return r([]),void l(null);throw new Error(`Kampanyalar yüklenirken hata oluştu: ${n.status}`)}const s=yield n.text();let a;try{a=JSON.parse(s)}catch(e){throw new Error("API response JSON formatında değil")}a.success?r(a.data||[]):l(a.message||"Kampanyalar yüklenemedi")}catch(e){l(e instanceof Error?e.message:"Bilinmeyen hata oluştu")}finally{c(!1)}}),formatDate=e=>{if(!e)return"Sürekli";try{return new Date(e).toLocaleDateString("tr-TR")}catch(e){return"Geçersiz tarih"}},getDiscountDisplay=e=>{switch(e.discount_type){case"percentage":return`%${e.discount_value} İndirim`;case"fixed":return`${e.discount_value} TL İndirim`;case"free_shipping":return"Ücretsiz Kargo";default:return e.discount}};return o?(0,s.jsx)("div",Object.assign({className:"campaign-tab-content"},{children:(0,s.jsxs)("div",Object.assign({className:"campaign-content"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item shimmer"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item-header"},{children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})),(0,s.jsxs)("div",Object.assign({className:"campaign-item shimmer"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item-header"},{children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}))]}))})):d?(0,s.jsxs)("div",Object.assign({className:"campaign-tab-content"},{children:[(0,s.jsx)("div",Object.assign({className:"campaign-content"},{children:(0,s.jsxs)("div",Object.assign({className:"campaign-item error-state"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item-header"},{children:[(0,s.jsx)("h4",Object.assign({className:"text-red-600"},{children:"⚠️ Hata Oluştu"})),(0,s.jsx)("span",Object.assign({className:"campaign-category error-category"},{children:"Sistem Hatası"}))]})),(0,s.jsx)("p",Object.assign({className:"campaign-description text-red-500"},{children:d})),(0,s.jsxs)("div",Object.assign({className:"campaign-item-footer"},{children:[(0,s.jsx)("span",Object.assign({className:"campaign-discount error-discount"},{children:"Yüklenemedi"})),(0,s.jsx)("span",Object.assign({className:"campaign-validity"},{children:"Şimdi"}))]})),(0,s.jsx)("div",Object.assign({className:"campaign-details"},{children:(0,s.jsx)("button",Object.assign({onClick:loadCampaigns,className:"campaign-retry-btn"},{children:"🔄 Tekrar Dene"}))}))]}))})),(0,s.jsx)("div",Object.assign({className:"campaign-footer"},{children:(0,s.jsx)("button",Object.assign({className:"campaign-action-btn",onClick:t},{children:"💬 Chat'e Dön"}))}))]})):n&&0!==n.length?(0,s.jsxs)("div",Object.assign({className:"campaign-tab-content"},{children:[(0,s.jsx)("div",Object.assign({className:"campaign-content"},{children:n.map(e=>(0,s.jsxs)("div",Object.assign({className:"campaign-item"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item-header"},{children:[(0,s.jsx)("h4",{children:e.title}),(0,s.jsx)("span",Object.assign({className:"campaign-category"},{children:e.category}))]})),(0,s.jsx)("p",Object.assign({className:"campaign-description"},{children:e.description})),(0,s.jsxs)("div",Object.assign({className:"campaign-item-footer"},{children:[(0,s.jsx)("span",Object.assign({className:"campaign-discount"},{children:getDiscountDisplay(e)})),(0,s.jsxs)("span",Object.assign({className:"campaign-validity"},{children:["Geçerli: ",formatDate(e.end_date)]}))]})),e.minimum_order_amount&&(0,s.jsx)("div",Object.assign({className:"campaign-details"},{children:(0,s.jsxs)("small",Object.assign({className:"text-gray-500"},{children:["Min. Sipariş: ",e.minimum_order_amount," TL"]}))}))]}),e.id))})),(0,s.jsx)("div",Object.assign({className:"campaign-footer"},{children:(0,s.jsx)("button",Object.assign({className:"campaign-action-btn",onClick:t},{children:"💬 Chat'e Dön"}))}))]})):(0,s.jsxs)("div",Object.assign({className:"campaign-tab-content"},{children:[(0,s.jsx)("div",Object.assign({className:"campaign-content"},{children:(0,s.jsx)("div",Object.assign({className:"campaign-item empty-state"},{children:(0,s.jsxs)("div",Object.assign({className:"text-center py-8"},{children:[(0,s.jsx)("div",Object.assign({className:"text-gray-400 text-6xl mb-4"},{children:"📢"})),(0,s.jsx)("h3",Object.assign({className:"text-lg font-medium text-gray-900 mb-2"},{children:"Henüz Kampanya Yok"})),(0,s.jsx)("p",Object.assign({className:"text-gray-500"},{children:"Bu site için henüz aktif kampanya bulunmuyor. Yönetici panelinden kampanya eklenebilir."}))]}))}))})),(0,s.jsx)("div",Object.assign({className:"campaign-footer"},{children:(0,s.jsx)("button",Object.assign({className:"campaign-action-btn",onClick:t},{children:"💬 Chat'e Dön"}))}))]}))}},539:function(e,t,n){var s=n(848);n(540);t.default=({message:e})=>{var t;const n=(null===(t=e.data)||void 0===t?void 0:t.product)||e.products&&e.products[0]||null;if(!n)return(0,s.jsx)("div",Object.assign({className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700"},{children:(0,s.jsx)("p",Object.assign({className:"text-gray-400"},{children:"Ürün bilgisi bulunamadı."}))}));return(0,s.jsx)("div",Object.assign({className:"bg-gradient-to-r from-purple-900/20 to-blue-900/20 rounded-lg p-6 border border-purple-500/30"},{children:(0,s.jsxs)("div",Object.assign({className:"flex items-start space-x-4"},{children:[(0,s.jsx)("div",Object.assign({className:"flex-shrink-0"},{children:(0,s.jsx)("img",{src:n.image||"/imgs/default-product.jpg",alt:n.name,className:"w-20 h-20 object-cover rounded-lg border border-gray-600",onError:e=>{e.currentTarget.src="/imgs/default-product.jpg",e.currentTarget.onerror=null}})})),(0,s.jsxs)("div",Object.assign({className:"flex-1 min-w-0"},{children:[(0,s.jsx)("h3",Object.assign({className:"text-lg font-semibold text-white mb-2"},{children:n.name})),n.price&&(0,s.jsxs)("div",Object.assign({className:"text-2xl font-bold text-green-400 mb-2"},{children:[n.price.toLocaleString("tr-TR")," TL"]})),n.description&&(0,s.jsx)("p",Object.assign({className:"text-gray-300 text-sm mb-4 line-clamp-2"},{children:n.description})),(0,s.jsxs)("div",Object.assign({className:"flex items-center space-x-4 mb-4"},{children:[n.category&&(0,s.jsx)("span",Object.assign({className:"px-2 py-1 bg-purple-600/30 text-purple-300 text-xs rounded-full"},{children:n.category})),n.rating&&(0,s.jsxs)("div",Object.assign({className:"flex items-center space-x-1"},{children:[(0,s.jsx)("span",Object.assign({className:"text-yellow-400"},{children:"★"})),(0,s.jsxs)("span",Object.assign({className:"text-gray-300 text-sm"},{children:[n.rating,"/5"]}))]}))]})),void 0!==n.stock&&(0,s.jsx)("div",Object.assign({className:"mb-4"},{children:n.stock>0?(0,s.jsx)("span",Object.assign({className:"text-green-400 text-sm"},{children:"✓ Stokta var"})):(0,s.jsx)("span",Object.assign({className:"text-red-400 text-sm"},{children:"✗ Stokta yok"}))})),n.product_url&&(0,s.jsxs)("div",Object.assign({className:"mt-4"},{children:[(0,s.jsx)("p",Object.assign({className:"text-gray-300 text-sm mb-3"},{children:"Ürünün sayfasına gitmek ister misiniz?"})),(0,s.jsxs)("button",Object.assign({onClick:()=>((t,n)=>{var s;fetch("/api/widget/track",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(s=document.querySelector('meta[name="csrf-token"]'))||void 0===s?void 0:s.getAttribute("content"))||""},body:JSON.stringify({session_id:e.session_id||"unknown",project_id:"1401",event_type:"product_link_click",intent:"recommendation",product_name:n,product_url:t,metadata:{timestamp:(new Date).toISOString(),user_agent:navigator.userAgent}})}).catch(e=>{}),window.open(t,"_blank","noopener,noreferrer")})(n.product_url,n.name),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 transform hover:scale-105"},{children:[(0,s.jsx)("svg",Object.assign({className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},{children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})),n.name," - Ürün Sayfasına Git"]}))]}))]}))]}))}))}},547:function(e,t,n){var s=n(848),a=(n(540),n(666)),i=n(61),r=n(847);t.default=({messages:e,onProductClick:t,onFeedback:n,welcomeMessage:o,widgetCustomization:c,onAddMessage:d,onSendMessage:l})=>{const{chatContentRef:u}=(0,r.useChat)(),g=o||"Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?",m=(null==c?void 0:c.ai_name)||"ConvState AI";return(0,s.jsxs)("div",Object.assign({className:"chat-content",ref:u},{children:[(0,s.jsx)(i.default,{welcomeText:g,agentName:m,logoUrl:"/imgs/ai-conversion-logo-small.svg"}),e.map(e=>(0,s.jsx)(a.default,{message:e,onProductClick:t,onFeedback:n,onAddMessage:d,onSendMessage:l},e.id))]}))}},554:function(e,t,n){n.d(t,{WidgetLoader:function(){return c}});var s=n(540),a=n(338),i=n(683),r=n(355),o=n(393),__awaiter=function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};class c{constructor(){this.config=null,this.widgetContainer=null,this.reactRoot=null,this.isLoaded=!1}getApiUrl(e){if(e.apiUrl)return e.apiUrl;if("undefined"!=typeof window){const e=window.location.hostname,t=window.location.protocol,n=window.location.port;return"localhost"===e||"127.0.0.1"===e||"0.0.0.0"===e?"http://127.0.0.1:8000":`${t}//${e}${n?":"+n:""}`}return"http://127.0.0.1:8000"}static getInstance(){return c.instance||(c.instance=new c),c.instance}load(e){return __awaiter(this,void 0,void 0,function*(){try{this.config=e,i.AuthService.getInstance().setConfig(e);const t=this.getApiUrl(e);r.ApiService.getInstance().setBaseUrl(t),"undefined"!=typeof window&&(window.WIDGET_SITE_ID=e.siteId||"1"),yield this.renderWidget(),this.isLoaded=!0}catch(e){throw console.error("Failed to load widget:",e),e}})}renderWidget(){return __awaiter(this,void 0,void 0,function*(){this.destroy(),this.injectCSS(),this.widgetContainer=document.createElement("div"),this.widgetContainer.id="convstateai-widget-container",this.widgetContainer.style.cssText=`\n      position: fixed;\n      z-index: 999999;\n      ${this.getPositionStyles()};\n    `,document.body.appendChild(this.widgetContainer),this.reactRoot=(0,a.createRoot)(this.widgetContainer),this.reactRoot.render(s.createElement(o.default,{config:this.config,onDestroy:()=>this.destroy()}))})}injectCSS(){document.getElementById("convstateai-widget-styles")||(this.injectEmbeddedCSS(),this.injectCustomizationCSS())}injectEmbeddedCSS(){const e=document.createElement("style");e.id="convstateai-widget-styles",e.textContent="\n      /* ConvStateAI Widget Styles - Embedded */\n      .convstateai-widget {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n        position: fixed;\n        z-index: 999999;\n        background: white;\n        border-radius: 12px;\n        box-shadow: 0 4px 20px rgba(0,0,0,0.15);\n        border: 1px solid #e5e7eb;\n        overflow: hidden;\n        max-width: 400px;\n        max-height: 600px;\n        display: flex;\n        flex-direction: column;\n        transition: all 0.3s ease;\n      }\n      \n      .convstateai-widget * {\n        box-sizing: border-box;\n      }\n      \n      .convstateai-widget button {\n        background: var(--widget-primary-color, #667eea);\n        color: white;\n        border: none;\n        padding: 8px 16px;\n        border-radius: 6px;\n        cursor: pointer;\n        font-size: 14px;\n        transition: all 0.2s ease;\n      }\n      \n      .convstateai-widget button:hover {\n        opacity: 0.9;\n        transform: translateY(-1px);\n      }\n      \n      .convstateai-widget input {\n        border: 1px solid #d1d5db;\n        padding: 8px 12px;\n        border-radius: 6px;\n        font-size: 14px;\n        width: 100%;\n        transition: border-color 0.2s ease;\n      }\n      \n      .convstateai-widget input:focus {\n        outline: none;\n        border-color: var(--widget-primary-color, #667eea);\n        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n      }\n      \n      .convstateai-widget .chat-container {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n      }\n      \n      .convstateai-widget .message-list {\n        flex: 1;\n        overflow-y: auto;\n        padding: 16px;\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n      }\n      \n      .convstateai-widget .message {\n        padding: 12px 16px;\n        border-radius: 18px;\n        max-width: 80%;\n        word-wrap: break-word;\n      }\n      \n      .convstateai-widget .message.user {\n        background: var(--widget-primary-color, #667eea);\n        color: white;\n        align-self: flex-end;\n        margin-left: auto;\n      }\n      \n      .convstateai-widget .message.bot {\n        background: #f3f4f6;\n        color: #374151;\n        align-self: flex-start;\n        margin-right: auto;\n      }\n      \n      .convstateai-widget .input-area {\n        padding: 16px;\n        border-top: 1px solid #e5e7eb;\n        display: flex;\n        gap: 8px;\n      }\n      \n      .convstateai-widget .input-area input {\n        flex: 1;\n        border: 1px solid #d1d5db;\n        padding: 10px 12px;\n        border-radius: 20px;\n        font-size: 14px;\n      }\n      \n      .convstateai-widget .input-area button {\n        padding: 10px 16px;\n        border-radius: 20px;\n        font-size: 14px;\n      }\n      \n      .convstateai-widget .tabs {\n        display: flex;\n        border-bottom: 1px solid #e5e7eb;\n        background: #f9fafb;\n      }\n      \n      .convstateai-widget .tab {\n        flex: 1;\n        padding: 12px 16px;\n        text-align: center;\n        cursor: pointer;\n        border: none;\n        background: transparent;\n        color: #6b7280;\n        font-size: 14px;\n        transition: all 0.2s ease;\n      }\n      \n      .convstateai-widget .tab.active {\n        color: var(--widget-primary-color, #667eea);\n        border-bottom: 2px solid var(--widget-primary-color, #667eea);\n        background: white;\n      }\n      \n      .convstateai-widget .tab:hover {\n        background: #f3f4f6;\n      }\n      \n      .convstateai-widget .tab-content {\n        flex: 1;\n        overflow-y: auto;\n        padding: 16px;\n      }\n      \n      .convstateai-widget .product-card {\n        border: 1px solid #e5e7eb;\n        border-radius: 8px;\n        padding: 12px;\n        margin-bottom: 12px;\n        background: white;\n        transition: all 0.2s ease;\n      }\n      \n      .convstateai-widget .product-card:hover {\n        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        transform: translateY(-1px);\n      }\n      \n      .convstateai-widget .product-image {\n        width: 100%;\n        height: 120px;\n        object-fit: cover;\n        border-radius: 6px;\n        margin-bottom: 8px;\n      }\n      \n      .convstateai-widget .product-title {\n        font-weight: 600;\n        font-size: 14px;\n        color: #374151;\n        margin-bottom: 4px;\n      }\n      \n      .convstateai-widget .product-price {\n        font-weight: 700;\n        color: var(--widget-primary-color, #667eea);\n        font-size: 16px;\n      }\n      \n      .convstateai-widget .product-button {\n        width: 100%;\n        margin-top: 8px;\n        padding: 8px 12px;\n        font-size: 12px;\n      }\n      \n      .convstateai-widget .loading {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 20px;\n        color: #6b7280;\n      }\n      \n      .convstateai-widget .error {\n        color: #dc2626;\n        background: #fef2f2;\n        border: 1px solid #fecaca;\n        padding: 12px;\n        border-radius: 6px;\n        margin: 12px;\n      }\n      \n      .convstateai-widget .faq-item {\n        border: 1px solid #e5e7eb;\n        border-radius: 8px;\n        margin-bottom: 8px;\n        overflow: hidden;\n      }\n      \n      .convstateai-widget .faq-question {\n        padding: 12px 16px;\n        background: #f9fafb;\n        cursor: pointer;\n        border: none;\n        width: 100%;\n        text-align: left;\n        font-weight: 500;\n        color: #374151;\n        transition: background-color 0.2s ease;\n      }\n      \n      .convstateai-widget .faq-question:hover {\n        background: #f3f4f6;\n      }\n      \n      .convstateai-widget .faq-answer {\n        padding: 12px 16px;\n        background: white;\n        color: #6b7280;\n        font-size: 14px;\n        line-height: 1.5;\n      }\n      \n      .convstateai-widget .campaign-item {\n        border: 1px solid #e5e7eb;\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 12px;\n        background: white;\n        transition: all 0.2s ease;\n      }\n      \n      .convstateai-widget .campaign-item:hover {\n        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        transform: translateY(-1px);\n      }\n      \n      .convstateai-widget .campaign-title {\n        font-weight: 600;\n        font-size: 16px;\n        color: #374151;\n        margin-bottom: 8px;\n      }\n      \n      .convstateai-widget .campaign-description {\n        color: #6b7280;\n        font-size: 14px;\n        line-height: 1.5;\n        margin-bottom: 12px;\n      }\n      \n      .convstateai-widget .campaign-button {\n        width: 100%;\n        padding: 10px 16px;\n        font-size: 14px;\n      }\n      \n      @media (max-width: 480px) {\n        .convstateai-widget {\n          max-width: 100%;\n          max-height: 100%;\n          border-radius: 0;\n          bottom: 0;\n          right: 0;\n          left: 0;\n          top: 0;\n        }\n      }\n    ",document.head.appendChild(e)}injectCustomizationCSS(){var e;if(!(null===(e=this.config)||void 0===e?void 0:e.customization))return;const{colors:t,theme:n}=this.config.customization,s=`\n      :root {\n        --widget-primary-color: ${(null==t?void 0:t.primary)||"#667eea"};\n        --widget-secondary-color: ${(null==t?void 0:t.secondary)||"#764ba2"};\n        --widget-theme: ${n||"default"};\n      }\n      \n      .convstateai-widget {\n        --primary-color: var(--widget-primary-color);\n        --secondary-color: var(--widget-secondary-color);\n      }\n      \n      .convstateai-widget * {\n        box-sizing: border-box;\n      }\n    `,a=document.createElement("style");a.id="convstateai-customization-styles",a.textContent=s,document.head.appendChild(a)}injectFallbackCSS(){const e=document.createElement("style");e.id="convstateai-fallback-styles",e.textContent="\n      .convstateai-widget {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n        position: fixed;\n        z-index: 999999;\n        background: white;\n        border-radius: 12px;\n        box-shadow: 0 4px 20px rgba(0,0,0,0.15);\n        border: 1px solid #e5e7eb;\n        overflow: hidden;\n        max-width: 400px;\n        max-height: 600px;\n        display: flex;\n        flex-direction: column;\n      }\n      \n      .convstateai-widget * {\n        box-sizing: border-box;\n      }\n      \n      .convstateai-widget button {\n        background: var(--widget-primary-color, #667eea);\n        color: white;\n        border: none;\n        padding: 8px 16px;\n        border-radius: 6px;\n        cursor: pointer;\n        font-size: 14px;\n      }\n      \n      .convstateai-widget button:hover {\n        opacity: 0.9;\n      }\n      \n      .convstateai-widget input {\n        border: 1px solid #d1d5db;\n        padding: 8px 12px;\n        border-radius: 6px;\n        font-size: 14px;\n        width: 100%;\n      }\n      \n      .convstateai-widget input:focus {\n        outline: none;\n        border-color: var(--widget-primary-color, #667eea);\n        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n      }\n    ",document.head.appendChild(e)}getPositionStyles(){var e,t;if(!(null===(t=null===(e=this.config)||void 0===e?void 0:e.customization)||void 0===t?void 0:t.position))return"bottom: 20px; right: 20px;";switch(this.config.customization.position){case"bottom-right":default:return"bottom: 20px; right: 20px;";case"bottom-left":return"bottom: 20px; left: 20px;";case"top-right":return"top: 20px; right: 20px;";case"top-left":return"top: 20px; left: 20px;"}}destroy(){this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),this.widgetContainer&&(this.widgetContainer.remove(),this.widgetContainer=null),this.isLoaded=!1}getConfig(){return this.config}isWidgetLoaded(){return this.isLoaded}sendMessage(e){return __awaiter(this,void 0,void 0,function*(){if(!this.isLoaded)throw new Error("Widget not loaded");return yield r.ApiService.getInstance().sendMessage(e)})}setAuth(e,t){i.AuthService.getInstance().setCredentials(e,t)}}"undefined"!=typeof window&&(window.convstateai={chat:{load:e=>__awaiter(void 0,void 0,void 0,function*(){const t=c.getInstance();yield t.load(e)}),destroy:()=>{c.getInstance().destroy()},sendMessage:e=>__awaiter(void 0,void 0,void 0,function*(){const t=c.getInstance();return yield t.sendMessage(e)}),setAuth:(e,t)=>{c.getInstance().setAuth(e,t)},getConfig:()=>c.getInstance().getConfig(),isLoaded:()=>c.getInstance().isWidgetLoaded()}})},566:function(e,t,n){var s=n(848),a=n(540);n(740),n(769);const i=a.lazy(()=>Promise.resolve().then(n.bind(n,393)));t.default=function App(){return(0,s.jsx)(a.Suspense,Object.assign({fallback:(0,s.jsx)("div",Object.assign({className:"loading-spinner"},{children:"Yükleniyor..."}))},{children:(0,s.jsx)(i,{config:{siteId:"demo-site",colors:{primary:"#2563EB",secondary:"#1D4ED8",background:"#FFFFFF",text:"#1F2937",accent:"#10B981"},branding:{logo:"/imgs/kadirai.jpeg",name:"ConvState AI",welcomeMessage:"Merhaba! Size nasıl yardımcı olabilirim?"},features:{templates:["catalog","checkout","wheel-spin"],aiEnabled:!0,eventTracking:!0},styling:{position:"bottom-right",size:"medium",theme:"light"}},onEvent:e=>{},onFeedback:e=>{},onToggleChat:()=>{}})}))}},621:function(e,t,n){n.d(t,{useSpeechToText:function(){return useSpeechToText}});var s=n(540);const useSpeechToText=(e={})=>{const[t,n]=(0,s.useState)(!1),[a,i]=(0,s.useState)(""),[r,o]=(0,s.useState)(null),c=(0,s.useRef)(null),d=(0,s.useCallback)(t=>{const s=Object.assign({lang:"tr-TR",continuous:!1,interimResults:!1},e);if("webkitSpeechRecognition"in window||"SpeechRecognition"in window)try{const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.lang=s.lang,e.continuous=s.continuous,e.interimResults=s.interimResults,c.current=e,e.onstart=()=>{n(!0),o(null),i("")},e.onresult=e=>{let n="",s="";for(let t=e.resultIndex;t<e.results.length;t++){const a=e.results[t][0].transcript;e.results[t].isFinal?n+=a:s+=a}i(n||s),t&&n&&t(n)},e.onend=()=>{n(!1),c.current=null},e.onerror=e=>{o(`Ses tanıma hatası: ${e.error}`),n(!1),c.current=null},e.start()}catch(e){o("Ses tanıma başlatılamadı.")}else o("Bu tarayıcıda speech-to-text desteklenmiyor.")},[e]);return{isListening:t,transcript:a,error:r,startListening:d,stopListening:(0,s.useCallback)(()=>{c.current&&(c.current.stop(),c.current=null),n(!1)},[]),reset:(0,s.useCallback)(()=>{i(""),o(null),n(!1),c.current&&(c.current.stop(),c.current=null)},[])}}},660:function(e,t,n){n.d(t,{useAIService:function(){return useAIService}});var s=n(540),a=n(963),i=n(872),__awaiter=function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};const useAIService=(e={})=>{const[t,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)(null),c=(0,s.useCallback)(()=>i.uuidService.getBrowserUuid(),[]),d=(0,s.useCallback)((e,t)=>({type:"error",message:"API bağlantısı kurulamadı. Lütfen daha sonra tekrar deneyin.",products:[],intent:"error",confidence:0,suggestions:["Tekrar dene","Yardım al"]}),[]),l=(0,s.useCallback)((t,s)=>__awaiter(void 0,void 0,void 0,function*(){var i,r,l,u;try{n(!0),o(null);const d=c(),g=(0,a.buildApiUrl)((0,a.getApiEndpoint)("CHAT")),m=yield fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Browser-UUID":d,"X-Project-ID":(null===(i=e.projectId)||void 0===i?void 0:i.toString())||"1401"},body:JSON.stringify({message:t,project_id:e.projectId||"1401",browser_uuid:d,context:s})}),p=yield m.json();if(!m.ok||!1===p.success){return{type:p.type||"error",message:p.message||"Bir hata oluştu",products:(null===(r=p.data)||void 0===r?void 0:r.products)||p.products||[],intent:p.intent||p.type||"error",confidence:p.confidence||0,suggestions:[],session_id:p.session_id||d,data:p.data||p}}const h={type:p.type||"general",message:p.message||(null===(l=p.data)||void 0===l?void 0:l.message)||"Üzgünüm, şu anda yanıt veremiyorum.",products:(null===(u=p.data)||void 0===u?void 0:u.products)||p.products||[],intent:p.intent||p.type||"general",confidence:p.confidence||.8,suggestions:[],session_id:p.session_id||d,data:p.data||{}};return h.message&&""!==h.message.trim()||(h.message="Üzgünüm, şu anda yanıt veremiyorum."),h.products&&h.products.length>0&&("product_search"!==h.type&&"category_browse"!==h.type||(h.type="product_recommendation")),h.products&&h.products.length>0&&("product_search"===h.type||"category_browse"===h.type)&&(h.type="product_recommendation"),h}catch(e){return o(e instanceof Error?e.message:"Bilinmeyen hata oluştu"),d(t,s)}finally{n(!1)}}),[c,d,e.projectId]),u=(0,s.useCallback)((e,t)=>__awaiter(void 0,void 0,void 0,function*(){return l(e,{sessionId:t})}),[l]),g=(0,s.useCallback)(e=>__awaiter(void 0,void 0,void 0,function*(){try{const t=yield fetch((0,a.buildApiUrl)((0,a.getApiEndpoint)("FEEDBACK")),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Feedback API Error: ${t.status}`);return yield t.json()}catch(e){o("Feedback gönderilemedi")}}),[]),m=(0,s.useCallback)(e=>__awaiter(void 0,void 0,void 0,function*(){try{const t=yield fetch((0,a.buildApiUrl)((0,a.getApiEndpoint)("PRODUCT_CLICK")),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Product Click API Error: ${t.status}`);return yield t.json()}catch(e){o("Ürün tıklama kaydedilemedi")}}),[]),p=(0,s.useCallback)(e=>__awaiter(void 0,void 0,void 0,function*(){try{const t=yield fetch((0,a.buildApiUrl)((0,a.getApiEndpoint)("CARGO_TRACKING")),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Cargo Tracking API Error: ${t.status}`);return yield t.json()}catch(e){o("Kargo takip bilgisi alınamadı")}}),[]);return{generateResponse:u,generateAIResponse:l,sendFeedback:g,sendProductClick:m,sendCargoTracking:p,isLoading:t,error:r,clearError:()=>o(null)}}},666:function(e,t,n){var s=n(848),a=(n(540),n(366)),i=n(539),r=n(132),o=n(373),c=n(145),d=n(748),l=n(986),u=n(700),g=n(191);t.default=({message:e,onProductClick:t,onFeedback:n,onAddMessage:m,onSendMessage:p})=>{const h="user"===e.role;return h?(0,s.jsx)("div",Object.assign({className:"message-group user"},{children:(0,s.jsx)("div",Object.assign({className:"message user-message"},{children:(0,s.jsx)("div",Object.assign({className:"message-content-wrapper"},{children:e.content}))}))})):(0,s.jsxs)("div",Object.assign({className:"message-group"},{children:[(0,s.jsx)("div",Object.assign({className:"agent-avatar"},{children:(0,s.jsx)("img",{src:"/imgs/ai-conversion-logo-small.svg",alt:"AI Conversion Agent"})})),(()=>{var b;if(h)return null;switch(e.type||e.intent||"general"){case"product_recommendation":case"product_inquiry":case"category_browse":case"order_inquiry":case"smart_recommendation":case"trend_products":case"contextual_recommendation":case"category_recommendation":return(0,s.jsx)(a.default,{message:e,onProductClick:t,onFeedback:n,onAddMessage:m,onSendMessage:p});case"product_detail":return(0,s.jsx)(i.default,{message:e});case"product_link":return(0,s.jsx)("div",Object.assign({className:"message agent-message"},{children:(0,s.jsx)("div",Object.assign({className:"message-content-wrapper"},{children:(0,s.jsx)("div",Object.assign({className:"product-link-message",style:{padding:"12px 16px",backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",margin:"8px 0"}},{children:(0,s.jsx)("div",{style:{fontSize:"14px",lineHeight:"1.5",color:"#E5E7EB"},dangerouslySetInnerHTML:{__html:e.content.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color: #60A5FA; text-decoration: underline; font-weight: 500;">$1</a>').replace(/\*\*([^*]+)\*\*/g,'<strong style="color: #F3F4F6;">$1</strong>')}})}))}))}));case"product_search":return 0===(e.products||(null===(b=e.data)||void 0===b?void 0:b.products)||[]).length?(0,s.jsx)(u.default,{message:e,onFeedback:n}):(0,s.jsx)(a.default,{message:e,onProductClick:t,onFeedback:n,onAddMessage:m,onSendMessage:p});case"feedback":return(0,s.jsx)(r.default,{message:e,onFeedback:n});case"order_tracking":return(0,s.jsx)(c.default,{message:e,onFeedback:n});case"cargo_tracking":return(0,s.jsx)(d.default,{message:e,onFeedback:n});case"campaign_inquiry":default:return(0,s.jsx)(o.default,{message:e,onFeedback:n});case"shimmer":return(0,s.jsx)(l.default,{type:e.shimmerType});case"greeting":case"help_request":case"price_inquiry":case"general":case"capabilities_inquiry":case"contact_request":case"project_info":case"conversion_guidance":case"pricing_guidance":case"demo_request":case"product_recommendations":break;case"error":if(e.data&&e.data.error)return(0,s.jsx)(g.default,{message:e})}})()]}))}},683:function(e,t,n){n.d(t,{AuthService:function(){return s}});class s{constructor(){this.token=null,this.userId=null,this.projectId=null,this.config=null}static getInstance(){return s.instance||(s.instance=new s),s.instance}setConfig(e){this.config=e,this.projectId=e.projectId,e.auth&&(this.token=e.auth.token||null,this.userId=e.auth.userId||null)}setCredentials(e,t){this.token=e,this.userId=t}getAuthHeaders(){const e={"Content-Type":"application/json",Accept:"application/json"};return this.projectId&&(e["X-Project-ID"]=this.projectId),this.token&&(e.Authorization=`Bearer ${this.token}`),this.userId&&(e["X-User-ID"]=this.userId),e}isAuthenticated(){return!(!this.token||!this.userId)}getProjectId(){return this.projectId}getUserId(){return this.userId}getToken(){return this.token}getConfig(){return this.config}clearAuth(){this.token=null,this.userId=null}}},700:function(e,t,n){var s=n(848),a=n(540);t.default=({message:e,onFeedback:t})=>{var n;const[i,r]=a.useState(!1),handleFeedback=n=>{var s,a;if(i)return;const o={messageId:e.id,isHelpful:n,comment:`Search: ${(null===(s=e.data)||void 0===s?void 0:s.search_query)||""}, Intent: ${e.intent||"product_search"}, Results: ${(null===(a=e.data)||void 0===a?void 0:a.total_found)||0}`};t(o),r(!0),localStorage.setItem(`feedback_${e.id}`,JSON.stringify(o))};return(0,s.jsx)("div",Object.assign({className:"message bot-message"},{children:(0,s.jsxs)("div",Object.assign({className:"message-content"},{children:[(0,s.jsx)("div",Object.assign({className:""},{children:(0,s.jsxs)("div",Object.assign({className:"no-data-content"},{children:[(0,s.jsx)("h4",Object.assign({className:"no-data-title"},{children:e.message||"Şu anda bilgi tabanında bilgi olmadığı için görüntüleyemiyoruz"})),(0,s.jsx)("p",Object.assign({className:"no-data-description"},{children:"Lütfen bilgi tabanınızı güncelleyiniz"})),(null===(n=e.data)||void 0===n?void 0:n.search_query)&&(0,s.jsxs)("div",Object.assign({className:"search-details"},{children:[(0,s.jsx)("span",Object.assign({className:"search-label"},{children:"Arama:"})),(0,s.jsxs)("span",Object.assign({className:"search-query"},{children:['"',e.data.search_query,'"']})),(0,s.jsxs)("span",Object.assign({className:"search-results"},{children:["(",e.data.total_found||0," sonuç)"]}))]}))]}))})),(0,s.jsxs)("div",Object.assign({className:"feedback-section"},{children:[(0,s.jsx)("p",Object.assign({className:"feedback-question"},{children:"Bu bilgi faydalı mıydı?"})),(0,s.jsxs)("div",Object.assign({className:"feedback-buttons"},{children:[(0,s.jsx)("button",Object.assign({onClick:()=>handleFeedback(!0),disabled:i,className:"feedback-btn helpful "+(i?"disabled":"hover:bg-green-600")},{children:"👍 Faydalı"})),(0,s.jsx)("button",Object.assign({onClick:()=>handleFeedback(!1),disabled:i,className:"feedback-btn not-helpful "+(i?"disabled":"hover:bg-red-600")},{children:"👎 Faydalı Değil"}))]})),i&&(0,s.jsx)("p",Object.assign({className:"feedback-thanks"},{children:"Teşekkürler! Geri bildiriminiz kaydedildi."}))]}))]}))}))}},733:function(){},740:function(){},748:function(e,t,n){var s=n(848),a=n(540),__awaiter=function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};t.default=({message:e,onFeedback:t})=>{const[n,i]=(0,a.useState)(""),[r,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[l,u]=(0,a.useState)(!1);a.useEffect(()=>{const t=`feedback_${e.id}`;localStorage.getItem(t)&&u(!0)},[e.id]);const handleFeedback=n=>{const s=`feedback_${e.id}`;localStorage.setItem(s,JSON.stringify({isHelpful:n,timestamp:(new Date).toISOString()})),u(!0),t({messageId:e.id,isHelpful:n,comment:""})},handleCargoTracking=()=>__awaiter(void 0,void 0,void 0,function*(){var e;if(n.trim()){o(!0);try{const t=window.widgetConfig,s=null===(e=null==t?void 0:t.apiEndpoints)||void 0===e?void 0:e.cargoTracking,a=null==t?void 0:t.isCargoEnabled;if(!s||!a)return d({error:"Bu özellik yakında açılacak",feature_disabled:!0}),void o(!1);const i=yield fetch(`${s}?cargo_number=${encodeURIComponent(n)}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(i.ok){const e=yield i.json();d(e.data)}else d({error:"Kargo takip bilgisi alınamadı"})}catch(e){d({error:"Bağlantı hatası"})}finally{o(!1)}}});return(0,s.jsxs)("div",Object.assign({className:"message agent-message"},{children:[(0,s.jsxs)("div",Object.assign({className:"message-content-wrapper"},{children:[(0,s.jsx)("p",Object.assign({style:{marginBottom:"16px"}},{children:e.message||"Kargo takip numaranızı girerek kargo durumunuzu öğrenebilirsiniz."})),(0,s.jsxs)("div",Object.assign({className:"cargo-tracking-input",style:{marginBottom:"16px"}},{children:[(0,s.jsx)("input",{id:"cargo-number",type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Kargo takip numarası giriniz...",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",outline:"none",marginBottom:"8px"},onKeyPress:e=>"Enter"===e.key&&handleCargoTracking()}),(0,s.jsxs)("button",Object.assign({onClick:handleCargoTracking,disabled:r||!n.trim(),style:{width:"100%",padding:"8px 10px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",fontSize:"14px",fontWeight:"500",opacity:r||!n.trim()?.6:1}},{children:[r?"Takip Ediliyor...":"Takip Et",(0,s.jsx)("span",Object.assign({style:{fontSize:"14px"}},{children:"→"}))]}))]})),c&&(0,s.jsx)("div",Object.assign({className:"cargo-tracking-result",style:{backgroundColor:c.feature_disabled?"#FEF3C7":"#F9FAFB",padding:"16px",borderRadius:"8px",border:"1px solid "+(c.feature_disabled?"#F59E0B":"#E5E7EB"),marginBottom:"16px"}},{children:c.error?(0,s.jsx)("div",Object.assign({style:{textAlign:"center"}},{children:c.feature_disabled?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({style:{fontSize:"48px",marginBottom:"8px"}},{children:"🚧"})),(0,s.jsx)("p",Object.assign({style:{color:"#92400E",margin:"0 0 8px 0",fontWeight:"600"}},{children:"Bu özellik yakında açılacak"})),(0,s.jsx)("p",Object.assign({style:{color:"#92400E",margin:0,fontSize:"14px"}},{children:"Kargo takip özelliği geliştirme aşamasında"}))]}):(0,s.jsx)("p",Object.assign({style:{color:"#DC2626",margin:0}},{children:c.error}))})):(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",Object.assign({style:{fontSize:"16px",fontWeight:"600",margin:"0 0 12px 0",color:"#111827"}},{children:"📦 Kargo Takip Bilgisi"})),(0,s.jsxs)("div",Object.assign({style:{display:"grid",gap:"8px"}},{children:[(0,s.jsxs)("div",Object.assign({style:{display:"flex",justifyContent:"space-between"}},{children:[(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",color:"#6B7280"}},{children:"Takip No:"})),(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",fontWeight:"500"}},{children:c.cargo_number}))]})),(0,s.jsxs)("div",Object.assign({style:{display:"flex",justifyContent:"space-between"}},{children:[(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",color:"#6B7280"}},{children:"Durum:"})),(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",fontWeight:"500",color:"#059669"}},{children:c.status}))]})),(0,s.jsxs)("div",Object.assign({style:{display:"flex",justifyContent:"space-between"}},{children:[(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",color:"#6B7280"}},{children:"Konum:"})),(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",fontWeight:"500"}},{children:c.current_location}))]})),(0,s.jsxs)("div",Object.assign({style:{display:"flex",justifyContent:"space-between"}},{children:[(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",color:"#6B7280"}},{children:"Tahmini Teslimat:"})),(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",fontWeight:"500"}},{children:c.estimated_delivery}))]})),(0,s.jsxs)("div",Object.assign({style:{display:"flex",justifyContent:"space-between"}},{children:[(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",color:"#6B7280"}},{children:"Son Güncelleme:"})),(0,s.jsx)("span",Object.assign({style:{fontSize:"14px",fontWeight:"500"}},{children:c.last_update}))]}))]})),c.tracking_url&&(0,s.jsx)("div",Object.assign({style:{marginTop:"12px",textAlign:"center"}},{children:(0,s.jsx)("a",Object.assign({href:c.tracking_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#3B82F6",textDecoration:"none",fontSize:"14px",fontWeight:"500"}},{children:"📍 Detaylı Takip Sayfası"}))}))]})}))]})),!l&&(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("button",Object.assign({className:"feedback-button",onClick:()=>handleFeedback(!0)},{children:"👍 Yararlı"})),(0,s.jsx)("button",Object.assign({className:"feedback-button negative",onClick:()=>handleFeedback(!1)},{children:"👎 Yararsız"}))]})),l&&(0,s.jsx)("div",Object.assign({className:"feedback-thanks"},{children:(0,s.jsx)("span",Object.assign({style:{fontSize:"12px",color:"#10B981",fontStyle:"italic"}},{children:"✓ Feedback'iniz için teşekkürler!"}))}))]}))}},769:function(){},799:function(e,t,n){var s=n(848);n(540);t.default=()=>(0,s.jsxs)("div",Object.assign({className:"chat-footer"},{children:[(0,s.jsx)("a",Object.assign({href:"https://convstateai.com",target:"_blank",rel:"noopener noreferrer",className:"privacy-link"},{children:"ConvState AI"})),(0,s.jsx)("span",Object.assign({className:"separator"},{children:"•"})),(0,s.jsx)("span",Object.assign({className:"footer-text"},{children:"Sizin dijital asistanınız"}))]}))},805:function(e,t,n){var s=n(848),a=n(540),i=(n(769),function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})});t.default=({isVisible:e,onClose:t})=>{const[n,r]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[d,l]=(0,a.useState)(!0),[u,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&loadFAQs()},[e]);const loadFAQs=()=>i(void 0,void 0,void 0,function*(){try{l(!0),g(null);const e={NODE_ENV:"production",REACT_APP_API_BASE_URL:"http://127.0.0.1:8000",REACT_APP_API_TIMEOUT:"10000",REACT_APP_DEFAULT_AI_NAME:"ConvState AI",REACT_APP_DEFAULT_WELCOME_MESSAGE:"Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?",REACT_APP_ENABLE_TTS:"true",REACT_APP_ENABLE_PRODUCT_RECOMMENDATIONS:"true",REACT_APP_ENABLE_CAMPAIGN_TAB:"true",REACT_APP_ENABLE_FAQ_TAB:"true",REACT_APP_DEBUG:"false"}.REACT_APP_API_URL||"http://localhost:8000",t="undefined"!=typeof window&&window.WIDGET_SITE_ID||"1",n=yield fetch(`${e}/api/faqs?site_id=${t}`,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!n.ok){if(404===n.status)return c([]),void g(null);throw new Error(`SSS yüklenirken hata oluştu: ${n.status}`)}const s=yield n.text();let a;try{a=JSON.parse(s)}catch(e){throw new Error("API response JSON formatında değil")}a.success?c(a.data||[]):g(a.message||"SSS yüklenemedi")}catch(e){g(e instanceof Error?e.message:"Bilinmeyen hata oluştu")}finally{l(!1)}});return d?(0,s.jsx)("div",Object.assign({className:"campaign-tab-content"},{children:(0,s.jsxs)("div",Object.assign({className:"campaign-content"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item shimmer"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item-header"},{children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})),(0,s.jsxs)("div",Object.assign({className:"campaign-item shimmer"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item-header"},{children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}))]}))})):u?(0,s.jsxs)("div",Object.assign({className:"campaign-tab-content"},{children:[(0,s.jsx)("div",Object.assign({className:"campaign-content"},{children:(0,s.jsxs)("div",Object.assign({className:"campaign-item error-state"},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item-header"},{children:[(0,s.jsx)("h4",Object.assign({className:"text-red-600"},{children:"⚠️ Hata Oluştu"})),(0,s.jsx)("span",Object.assign({className:"campaign-category error-category"},{children:"Sistem Hatası"}))]})),(0,s.jsx)("p",Object.assign({className:"campaign-description text-red-500"},{children:u})),(0,s.jsxs)("div",Object.assign({className:"campaign-item-footer"},{children:[(0,s.jsx)("span",Object.assign({className:"campaign-discount error-discount"},{children:"Yüklenemedi"})),(0,s.jsx)("span",Object.assign({className:"campaign-validity"},{children:"Şimdi"}))]})),(0,s.jsx)("div",Object.assign({className:"campaign-details"},{children:(0,s.jsx)("button",Object.assign({onClick:loadFAQs,className:"campaign-retry-btn"},{children:"🔄 Tekrar Dene"}))}))]}))})),(0,s.jsx)("div",Object.assign({className:"campaign-footer"},{children:(0,s.jsx)("button",Object.assign({className:"campaign-action-btn",onClick:t},{children:"💬 Chat'e Dön"}))}))]})):o&&0!==o.length?(0,s.jsxs)("div",Object.assign({className:"campaign-tab-content"},{children:[(0,s.jsx)("div",Object.assign({className:"campaign-content"},{children:o.map(e=>(0,s.jsxs)("div",Object.assign({className:"campaign-item",onClick:()=>{return t=e.id,void r(n===t?null:t);var t}},{children:[(0,s.jsxs)("div",Object.assign({className:"campaign-item-header"},{children:[(0,s.jsx)("h4",{children:e.title}),(0,s.jsx)("span",Object.assign({className:"campaign-category"},{children:e.category}))]})),(0,s.jsx)("p",Object.assign({className:"campaign-description"},{children:e.description})),(0,s.jsxs)("div",Object.assign({className:"campaign-item-footer"},{children:[(0,s.jsx)("span",Object.assign({className:"campaign-discount"},{children:e.short_answer})),(0,s.jsx)("span",Object.assign({className:"campaign-validity"},{children:n===e.id?"Detaylar Açık":"Detaylar için tıklayın"}))]})),n===e.id&&(0,s.jsx)("div",Object.assign({className:"faq-answer-expanded"},{children:(0,s.jsxs)("div",Object.assign({className:"faq-answer-content"},{children:[(0,s.jsx)("p",{children:e.answer}),(0,s.jsx)("div",Object.assign({className:"faq-feedback mt-4 pt-4 border-t border-gray-200"},{children:(0,s.jsxs)("div",Object.assign({className:"flex items-center justify-between"},{children:[(0,s.jsx)("div",Object.assign({className:"text-sm text-gray-500"},{children:"Bu bilgi faydalı mıydı?"})),(0,s.jsxs)("div",Object.assign({className:"flex space-x-2"},{children:[(0,s.jsxs)("button",Object.assign({onClick:t=>{var n;t.stopPropagation(),n=e.id,i(void 0,void 0,void 0,function*(){try{const e={NODE_ENV:"production",REACT_APP_API_BASE_URL:"http://127.0.0.1:8000",REACT_APP_API_TIMEOUT:"10000",REACT_APP_DEFAULT_AI_NAME:"ConvState AI",REACT_APP_DEFAULT_WELCOME_MESSAGE:"Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?",REACT_APP_ENABLE_TTS:"true",REACT_APP_ENABLE_PRODUCT_RECOMMENDATIONS:"true",REACT_APP_ENABLE_CAMPAIGN_TAB:"true",REACT_APP_ENABLE_FAQ_TAB:"true",REACT_APP_DEBUG:"false"}.REACT_APP_API_URL||"http://localhost:8000";yield fetch(`${e}/api/faqs/${n}/helpful`,{method:"POST",headers:{"Content-Type":"application/json"}}),c(e=>e.map(e=>e.id===n?Object.assign(Object.assign({},e),{helpful_count:e.helpful_count+1}):e))}catch(e){}})},className:"flex items-center px-3 py-1 text-sm text-green-600 hover:text-green-700 border border-green-300 rounded-md hover:bg-green-50"},{children:["👍 Faydalı (",e.helpful_count,")"]})),(0,s.jsxs)("button",Object.assign({onClick:t=>{var n;t.stopPropagation(),n=e.id,i(void 0,void 0,void 0,function*(){try{const e={NODE_ENV:"production",REACT_APP_API_BASE_URL:"http://127.0.0.1:8000",REACT_APP_API_TIMEOUT:"10000",REACT_APP_DEFAULT_AI_NAME:"ConvState AI",REACT_APP_DEFAULT_WELCOME_MESSAGE:"Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?",REACT_APP_ENABLE_TTS:"true",REACT_APP_ENABLE_PRODUCT_RECOMMENDATIONS:"true",REACT_APP_ENABLE_CAMPAIGN_TAB:"true",REACT_APP_ENABLE_FAQ_TAB:"true",REACT_APP_DEBUG:"false"}.REACT_APP_API_URL||"http://localhost:8000";yield fetch(`${e}/api/faqs/${n}/not-helpful`,{method:"POST",headers:{"Content-Type":"application/json"}}),c(e=>e.map(e=>e.id===n?Object.assign(Object.assign({},e),{not_helpful_count:e.not_helpful_count+1}):e))}catch(e){}})},className:"flex items-center px-3 py-1 text-sm text-red-600 hover:text-red-700 border border-red-300 rounded-md hover:bg-red-50"},{children:["👎 Faydalı Değil (",e.not_helpful_count,")"]}))]}))]}))}))]}))}))]}),e.id))})),(0,s.jsx)("div",Object.assign({className:"campaign-footer"},{children:(0,s.jsx)("button",Object.assign({className:"campaign-action-btn",onClick:t},{children:"💬 Chat'e Dön"}))}))]})):(0,s.jsxs)("div",Object.assign({className:"campaign-tab-content"},{children:[(0,s.jsx)("div",Object.assign({className:"campaign-content"},{children:(0,s.jsx)("div",Object.assign({className:"campaign-item empty-state"},{children:(0,s.jsxs)("div",Object.assign({className:"text-center py-8"},{children:[(0,s.jsx)("div",Object.assign({className:"text-gray-400 text-6xl mb-4"},{children:"❓"})),(0,s.jsx)("h3",Object.assign({className:"text-lg font-medium text-gray-900 mb-2"},{children:"Henüz SSS Yok"})),(0,s.jsx)("p",Object.assign({className:"text-gray-500"},{children:"Bu site için henüz sık sorulan soru eklenmemiş. Yönetici panelinden SSS eklenebilir."}))]}))}))})),(0,s.jsx)("div",Object.assign({className:"campaign-footer"},{children:(0,s.jsx)("button",Object.assign({className:"campaign-action-btn",onClick:t},{children:"💬 Chat'e Dön"}))}))]}))}},819:function(e,t,n){var s=n(848),a=n(540);t.default=({onAction:e})=>{const t=(0,a.useRef)(null),[n,i]=(0,a.useState)(!1),[r,o]=(0,a.useState)(0),[c,d]=(0,a.useState)(0);return(0,a.useEffect)(()=>{const handleGlobalMouseUp=()=>{i(!1)};return document.addEventListener("mouseup",handleGlobalMouseUp),()=>{document.removeEventListener("mouseup",handleGlobalMouseUp)}},[]),(0,s.jsx)("div",Object.assign({className:"action-buttons"},{children:(0,s.jsx)("div",Object.assign({className:"action-buttons-scroll-container",ref:t,onMouseDown:e=>{t.current&&(i(!0),o(e.pageX-t.current.offsetLeft),d(t.current.scrollLeft),e.preventDefault())},onMouseMove:e=>{if(!n||!t.current)return;const s=2*(e.pageX-t.current.offsetLeft-r);t.current.scrollLeft=c-s},onMouseUp:()=>{i(!1)},onMouseLeave:()=>{i(!1)},style:{cursor:n?"grabbing":"grab"}},{children:(0,s.jsx)("div",Object.assign({className:"action-buttons-wrapper"},{children:["Rastgele bir ürün öner.","Kargom nerede?","Siparişim nerede?"].map((t,n)=>(0,s.jsx)("button",Object.assign({className:"secondary-button",onClick:()=>e(t)},{children:t}),n))}))}))}))}},837:function(e,t,n){var s=n(848),a=(n(540),n(344));t.default=({text:e,isUser:t=!1,className:n=""})=>{const{speak:i,stop:r,isCurrentlyPlaying:o}=(0,a.useTTS)(),c=o(e);return(0,s.jsx)("button",Object.assign({className:`tts-button ${t?"user":""} ${c?"playing":""} ${n}`,onClick:t=>{t.stopPropagation(),o(e)?r():i(e)},title:c?"Sesi Durdur":"Metni Seslendir"},{children:(0,s.jsxs)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},{children:[(0,s.jsx)("path",{d:"M12 5L8 9H4V15H8L12 19V5Z",stroke:t?"white":"#2563EB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54",stroke:t?"white":"#2563EB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}))}},847:function(e,t,n){n.d(t,{useChat:function(){return useChat}});var s=n(540),a=n(660),i=n(872),__awaiter=function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function fulfilled(e){try{step(s.next(e))}catch(e){i(e)}}function rejected(e){try{step(s.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};const useChat=(e,t)=>{const[n,r]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[d,l]=(0,s.useState)(!1),[u,g]=(0,s.useState)(""),[m,p]=(0,s.useState)(null),h=(0,s.useRef)(null),{generateAIResponse:b,sendFeedback:j,isLoading:x}=(0,a.useAIService)({apiKey:e,projectId:t}),f=(0,s.useCallback)(()=>{const e=i.uuidService.refreshUuid();g(e);const t=i.uuidService.getUuidInfo();t&&p(t.expires)},[]);(0,s.useEffect)(()=>{const e=i.uuidService.getBrowserUuid();g(e);const t=i.uuidService.getUuidInfo();t&&p(t.expires)},[]),(0,s.useEffect)(()=>{if(m){const e=setInterval(()=>{new Date>=m&&f()},6e4);return()=>clearInterval(e)}},[m,f]);const v=(0,s.useCallback)(()=>{const e=i.uuidService.getUuidInfo();e&&e.isValid?p(e.expires):f()},[f]),_=(0,s.useCallback)(()=>{i.uuidService.clearUuid(),g(""),p(null)},[]),y=(0,s.useCallback)(e=>{const t=e.toLowerCase();return t.includes("ürün")||t.includes("product")||t.includes("satın al")?"product":t.includes("kargo")||t.includes("cargo")||t.includes("kargom")||t.includes("takip")||t.includes("tracking")?"cargo":t.includes("sipariş")||t.includes("order")||t.includes("siparişim")?"order":t.includes("feedback")||t.includes("geri bildirim")?"feedback":"general"},[]),w=(0,s.useCallback)((e,t,s,a)=>{if("agent"===t){const s=Date.now();if(n.slice(-3).some(n=>s-n.timestamp.getTime()<1e3&&n.content===e&&n.role===t))return}const i=Object.assign({id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,content:e,role:t,timestamp:new Date,products:s||[]},a);"user"===t&&(i.protected=!0,i.protectionExpiry=new Date(Date.now()+1e4)),r(e=>[...e,i]),l(!0)},[n]),O=(0,s.useCallback)(e=>__awaiter(void 0,void 0,void 0,function*(){var t;c(!0),v();const n=y(e),s={id:`shimmer_${Date.now()}`,role:"agent",content:"",type:"shimmer",shimmerType:n,timestamp:new Date};r(e=>[...e,s]);try{const n=1e3*Math.random()+1500;yield new Promise(e=>setTimeout(e,n));const s=yield b(e);s.products&&0!==s.products.length||s.data&&s.data.products&&s.data.products.length>0&&(s.products=s.data.products);const a={type:s.type||"general",intent:s.intent||s.type||"general",suggestions:s.suggestions||[],data:s.data||{},session_id:u},i=s.products||(null===(t=s.data)||void 0===t?void 0:t.products)||[];yield new Promise(e=>setTimeout(e,300)),r(e=>e.filter(e=>"shimmer"!==e.type&&(e.protected&&e.protectionExpiry&&(e.protectionExpiry,new Date),!0)));const o=s.message||s.type||"Üzgünüm, şu anda yanıt veremiyorum.";w(o,"agent",i,a)}catch(e){r(e=>e.filter(e=>"shimmer"!==e.type&&(e.protected&&e.protectionExpiry&&(e.protectionExpiry,new Date),!0))),w("Üzgünüm, şu anda yanıt üretemiyorum. Lütfen daha sonra tekrar deneyin.","agent")}finally{c(!1)}}),[b,w,u,v,y]),N=(0,s.useCallback)(e=>__awaiter(void 0,void 0,void 0,function*(){if(e.trim()){w(e,"user"),yield new Promise(e=>setTimeout(e,100));try{yield O(e)}catch(e){console.error("Error generating AI response:",e)}}}),[w,O]),k=(0,s.useCallback)(e=>{e.url?w(`🔗 Ürün detay sayfasına yönlendiriliyorsunuz:\n\n[${e.url}](${e.url})`,"agent"):w(`"${e.name}" ürününü seçtiniz. Bu ürün hakkında daha fazla bilgi almak ister misiniz?`,"agent")},[w]),S=(0,s.useCallback)(e=>{j(e)},[j]),C=(0,s.useCallback)(e=>{},[]);return(0,s.useEffect)(()=>{d&&h.current&&(h.current.scrollTop=h.current.scrollHeight,l(!1))},[d,n]),(0,s.useEffect)(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[n]),(0,s.useEffect)(()=>{C(o)},[o,C]),{messages:n,isTyping:o,aiLoading:x,chatContentRef:h,sendMessage:N,handleProductClick:k,handleFeedback:S,addMessage:w,generateAIResponse:O,browserUuid:u,sessionExpiry:m,refreshBrowserUuid:f,refreshSession:v,clearSession:_}}},872:function(e,t,n){n.d(t,{uuidService:function(){return a}});class s{constructor(){this.config={prefix:"browser_",storageKey:"convstateai_browser_uuid",expiryHours:72}}static getInstance(){return s.instance||(s.instance=new s),s.instance}getBrowserUuid(){try{const e=this.getStoredUuid();if(e&&this.isUuidValid(e))return e.uuid;const t=this.generateUuid();return this.storeUuid(t),t}catch(e){return this.generateUuid()}}generateUuid(){const e=Date.now(),t=Math.random().toString(36).substr(2,9),n=this.getBrowserFingerprint();return`${this.config.prefix}${e}_${t}_${n}`}getBrowserFingerprint(){try{const e=document.createElement("canvas"),t=e.getContext("2d");t&&(t.textBaseline="top",t.font="14px Arial",t.fillText("Browser fingerprint",2,2));const n=[navigator.userAgent,navigator.language,window.screen.width+"x"+window.screen.height,(new Date).getTimezoneOffset(),e.toDataURL().slice(-10)].join("|");let s=0;for(let e=0;e<n.length;e++){s=(s<<5)-s+n.charCodeAt(e),s&=s}return Math.abs(s).toString(36).substr(0,8)}catch(e){return console.warn("Browser fingerprint failed, using fallback:",e),Math.random().toString(36).substr(2,8)}}getStoredUuid(){try{const e=localStorage.getItem(this.config.storageKey);if(!e)return null;const t=JSON.parse(e);return{uuid:t.uuid,timestamp:t.timestamp}}catch(e){return console.warn("Error reading stored UUID:",e),null}}storeUuid(e){try{const t={uuid:e,timestamp:Date.now()};localStorage.setItem(this.config.storageKey,JSON.stringify(t))}catch(e){console.warn("Error storing UUID:",e)}}isUuidValid(e){const t=Date.now(),n=60*this.config.expiryHours*60*1e3,s=t-e.timestamp<n;return s}refreshUuid(){const e=this.generateUuid();return this.storeUuid(e),e}clearUuid(){try{localStorage.removeItem(this.config.storageKey)}catch(e){console.warn("Error clearing UUID:",e)}}getUuidInfo(){const e=this.getStoredUuid();if(!e)return null;const t=new Date(e.timestamp),n=new Date(e.timestamp+60*this.config.expiryHours*60*1e3),s=this.isUuidValid(e);return{uuid:e.uuid,created:t,expires:n,isValid:s}}getDebugInfo(){var e,t;const n=this.getUuidInfo();return{currentUuid:(null==n?void 0:n.uuid)||"None",isValid:(null==n?void 0:n.isValid)||!1,created:(null===(e=null==n?void 0:n.created)||void 0===e?void 0:e.toISOString())||"Unknown",expires:(null===(t=null==n?void 0:n.expires)||void 0===t?void 0:t.toISOString())||"Unknown",timeUntilExpiry:n?Math.max(0,n.expires.getTime()-Date.now()):0,config:this.config}}}const a=s.getInstance()},879:function(e,t,n){n.r(t);var s=n(848),a=n(540),i=n(338),r=(n(985),n(769),n(566));n(278);i.createRoot(document.getElementById("root")).render((0,s.jsx)(a.StrictMode,{children:(0,s.jsx)(r.default,{})}))},895:function(){},963:function(e,t,n){n.d(t,{buildApiUrl:function(){return buildApiUrl},getApiEndpoint:function(){return getApiEndpoint}});const s=(()=>{let e;if("undefined"!=typeof window){const t=window.location.hostname,n=window.location.protocol,s=window.location.port;e="localhost"===t||"127.0.0.1"===t||"0.0.0.0"===t?"http://127.0.0.1:8000":`${n}//${t}${s?":"+s:""}`}else e="http://127.0.0.1:8000";return{BASE_URL:e,TIMEOUT:parseInt("10000"),ENDPOINTS:{CHAT:"/api/chat",CAMPAIGNS:"/api/campaigns",FAQS:"/api/faqs",PRODUCTS:"/api/products",WIDGET_CUSTOMIZATION:"/api/widget-customization",FEEDBACK:"/api/feedback",PRODUCT_CLICK:"/api/product-click",CARGO_TRACKING:"/api/cargo-tracking"},DEFAULT_AI_NAME:"ConvState AI",DEFAULT_WELCOME_MESSAGE:"Merhaba ben Kadir, senin dijital asistanınım. Sana nasıl yardımcı olabilirim?",SESSION_STORAGE_KEY:"chat_session_id",MAX_PRODUCTS_TO_SHOW:6,PRODUCT_IMAGE_PATH:"/imgs/",TYPING_DELAY:1e3,MAX_MESSAGE_LENGTH:1e3,ENABLE_TTS:!0,ENABLE_PRODUCT_RECOMMENDATIONS:!0,ENABLE_CAMPAIGN_TAB:!0,ENABLE_FAQ_TAB:!0}})(),buildApiUrl=e=>s.BASE_URL+e,getApiEndpoint=e=>s.ENDPOINTS[e]},985:function(){},986:function(e,t,n){var s=n(848);n(540);t.default=({type:e="general"})=>(0,s.jsxs)("div",Object.assign({className:"message agent-message shimmer-message"},{children:[(0,s.jsx)("div",Object.assign({className:"message-content-wrapper"},{children:(()=>{switch(e){case"product":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"shimmer shimmer-title",style:{width:"60%",height:"16px",marginBottom:"12px"}}),(0,s.jsx)("div",Object.assign({className:"products-scroll-container"},{children:(0,s.jsx)("div",Object.assign({className:"products-wrapper"},{children:[1,2,3].map(e=>(0,s.jsxs)("div",Object.assign({className:"product-card shimmer-card"},{children:[(0,s.jsx)("div",{className:"shimmer shimmer-image",style:{width:"100%",height:"80px"}}),(0,s.jsxs)("div",Object.assign({className:"product-info"},{children:[(0,s.jsx)("div",{className:"shimmer shimmer-text",style:{width:"80%",height:"14px",marginBottom:"8px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-text",style:{width:"60%",height:"12px",marginBottom:"4px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-price",style:{width:"40%",height:"16px",marginBottom:"8px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-button",style:{width:"100%",height:"24px"}})]}))]}),e))}))}))]});case"cargo":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"shimmer shimmer-text",style:{width:"90%",height:"16px",marginBottom:"16px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-input",style:{width:"100%",height:"36px",marginBottom:"8px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-button",style:{width:"100%",height:"36px"}})]});case"order":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"shimmer shimmer-text",style:{width:"85%",height:"16px",marginBottom:"16px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-input",style:{width:"100%",height:"36px",marginBottom:"8px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-button",style:{width:"100%",height:"36px"}})]});case"feedback":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"shimmer shimmer-text",style:{width:"80%",height:"16px",marginBottom:"16px"}}),(0,s.jsxs)("div",Object.assign({style:{display:"flex",gap:"8px"}},{children:[(0,s.jsx)("div",{className:"shimmer shimmer-button",style:{width:"80px",height:"32px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-button",style:{width:"80px",height:"32px"}})]}))]});default:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"shimmer shimmer-text",style:{width:"90%",height:"16px",marginBottom:"12px"}}),Math.random()>.5&&(0,s.jsx)("div",Object.assign({className:"action-buttons"},{children:(0,s.jsx)("div",Object.assign({className:"action-buttons-scroll-container"},{children:(0,s.jsx)("div",Object.assign({className:"action-buttons-wrapper"},{children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"shimmer shimmer-suggestion",style:{width:"80px",height:"28px"}},e))}))}))}))]})}})()})),(0,s.jsxs)("div",Object.assign({className:"feedback-container"},{children:[(0,s.jsx)("div",{className:"shimmer shimmer-feedback",style:{width:"70px",height:"28px"}}),(0,s.jsx)("div",{className:"shimmer shimmer-feedback",style:{width:"70px",height:"28px"}})]}))]}))}},n={};function __webpack_require__(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,__webpack_require__),a.exports}__webpack_require__.m=t,e=[],__webpack_require__.O=function(t,n,s,a){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],s=e[d][1],a=e[d][2];for(var r=!0,o=0;o<n.length;o++)(!1&a||i>=a)&&Object.keys(__webpack_require__.O).every(function(e){return __webpack_require__.O[e](n[o])})?n.splice(o--,1):(r=!1,a<i&&(i=a));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,s,a]},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={792:0};__webpack_require__.O.j=function(t){return 0===e[t]};var webpackJsonpCallback=function(t,n){var s,a,i=n[0],r=n[1],o=n[2],c=0;if(i.some(function(t){return 0!==e[t]})){for(s in r)__webpack_require__.o(r,s)&&(__webpack_require__.m[s]=r[s]);if(o)var d=o(__webpack_require__)}for(t&&t(n);c<i.length;c++)a=i[c],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(d)},t=self.webpackChunkconvstateai=self.webpackChunkconvstateai||[];t.forEach(webpackJsonpCallback.bind(null,0)),t.push=webpackJsonpCallback.bind(null,t.push.bind(t))}();var s=__webpack_require__.O(void 0,[644,96],function(){return __webpack_require__(879)});s=__webpack_require__.O(s),convstateai=s}();